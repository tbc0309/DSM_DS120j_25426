/* Copyright (c) 2020 Synology Inc. All rights reserved. */

(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){var k,n,p,j,m;for(k=0;k<l.length;k++){n=b;p=l[k];j=p.split(/[.\/]/);for(var o=0;o<j.length-1;++o){if(n[j[o]]===g){n[j[o]]={}}n=n[j[o]]}n[j[j.length-1]]=d[p]}if(b.AMDLC_TESTS){m=b.privateModules||{};for(p in d){m[p]=d[p]}for(k=0;k<l.length;k++){delete m[l[k]]}b.privateModules=m}}h("tinymce/geom/Rect",[],function(){var k=Math.min,p=Math.max,r=Math.round;function i(z,s,D){var B,v,C,u,A,t;B=s.x;v=s.y;C=z.w;u=z.h;A=s.w;t=s.h;D=(D||"").split("");if(D[0]==="b"){v+=t}if(D[1]==="r"){B+=A}if(D[0]==="c"){v+=r(t/2)}if(D[1]==="c"){B+=r(A/2)}if(D[3]==="b"){v-=u}if(D[4]==="r"){B-=C}if(D[3]==="c"){v-=r(u/2)}if(D[4]==="c"){B-=r(C/2)}return l(B,v,C,u)}function n(v,w,u,s){var x,t;for(t=0;t<s.length;t++){x=i(v,w,s[t]);if(x.x>=u.x&&x.x+x.w<=u.w+u.x&&x.y>=u.y&&x.y+x.h<=u.h+u.y){return s[t]}}return null}function q(u,s,t){return l(u.x-s,u.y-t,u.w+s*2,u.h+t*2)}function j(x,u){var t,w,s,v;t=p(x.x,u.x);w=p(x.y,u.y);s=k(x.x+x.w,u.x+u.w);v=k(x.y+x.h,u.y+u.h);if(s-t<0||v-w<0){return null}return l(t,w,s-t,v-w)}function m(D,C,s){var A,x,y,v,u,E,t,B,z,w;u=D.x;E=D.y;t=D.x+D.w;B=D.y+D.h;z=C.x+C.w;w=C.y+C.h;A=p(0,C.x-u);x=p(0,C.y-E);y=p(0,t-z);v=p(0,B-w);u+=A;E+=x;if(s){t+=A;B+=x;u-=y;E-=v}t-=y;B-=v;return l(u,E,t-u,B-E)}function l(s,v,t,u){return{x:s,y:v,w:t,h:u}}function o(s){return l(s.left,s.top,s.width,s.height)}return{inflate:q,relativePosition:i,findBestRelativePosition:n,intersect:j,clamp:m,create:l,fromClientRect:o}});h("tinymce/util/Promise",[],function(){if(window.Promise){return window.Promise}var i=o.immediateFn||(typeof setImmediate==="function"&&setImmediate)||function(s){setTimeout(s,1)};function n(t,s){return function(){t.apply(s,arguments)}}var j=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function o(s){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof s!=="function"){throw new TypeError("not a function")}this._state=null;this._value=null;this._deferreds=[];q(s,n(p,this),n(r,this))}function k(s){var t=this;if(this._state===null){this._deferreds.push(s);return}i(function(){var u=t._state?s.onFulfilled:s.onRejected;if(u===null){(t._state?s.resolve:s.reject)(t._value);return}var v;try{v=u(t._value)}catch(w){s.reject(w);return}s.resolve(v)})}function p(t){try{if(t===this){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var u=t.then;if(typeof u==="function"){q(n(u,t),n(p,this),n(r,this));return}}this._state=true;this._value=t;l.call(this)}catch(s){r.call(this,s)}}function r(s){this._state=false;this._value=s;l.call(this)}function l(){for(var t=0,s=this._deferreds.length;t<s;t++){k.call(this,this._deferreds[t])}this._deferreds=null}function m(v,s,u,t){this.onFulfilled=typeof v==="function"?v:null;this.onRejected=typeof s==="function"?s:null;this.resolve=u;this.reject=t}function q(v,w,t){var s=false;try{v(function(x){if(s){return}s=true;w(x)},function(x){if(s){return}s=true;t(x)})}catch(u){if(s){return}s=true;t(u)}}o.prototype["catch"]=function(s){return this.then(null,s)};o.prototype.then=function(u,s){var t=this;return new o(function(w,v){k.call(t,new m(u,s,w,v))})};o.all=function(){var s=Array.prototype.slice.call(arguments.length===1&&j(arguments[0])?arguments[0]:arguments);return new o(function(x,w){if(s.length===0){return x([])}var v=s.length;function u(z,B){try{if(B&&(typeof B==="object"||typeof B==="function")){var A=B.then;if(typeof A==="function"){A.call(B,function(C){u(z,C)},w);return}}s[z]=B;if(--v===0){x(s)}}catch(y){w(y)}}for(var t=0;t<s.length;t++){u(t,s[t])}})};o.resolve=function(s){if(s&&typeof s==="object"&&s.constructor===o){return s}return new o(function(t){t(s)})};o.reject=function(s){return new o(function(u,t){t(s)})};o.race=function(s){return new o(function(w,v){for(var u=0,t=s.length;u<t;u++){s[u].then(w,v)}})};return o});h("tinymce/util/Delay",["tinymce/util/Promise"],function(n){var l;function o(v,t){var s,r=window.requestAnimationFrame,u=["ms","moz","webkit"];function q(w){window.setTimeout(w,0)}for(s=0;s<u.length&&!r;s++){r=window[u[s]+"RequestAnimationFrame"]}if(!r){r=q}r(v,t)}function k(r,q){if(typeof q!="number"){q=0}return setTimeout(r,q)}function p(r,q){if(typeof q!="number"){q=1}return setInterval(r,q)}function i(q){return clearTimeout(q)}function m(q){return clearInterval(q)}function j(t,r){var s,q;q=function(){var u=arguments;clearTimeout(s);s=k(function(){t.apply(this,u)},r)};q.stop=function(){clearTimeout(s)};return q}return{requestAnimationFrame:function(r,q){if(l){l.then(r);return}l=new n(function(s){if(!q){q=document.body}o(s,q)}).then(r)},setTimeout:k,setInterval:p,setEditorTimeout:function(q,s,r){return k(function(){if(!q.removed){s()}},r)},setEditorInterval:function(q,t,r){var s;s=p(function(){if(!q.removed){t()}else{clearInterval(s)}},r);return s},debounce:j,throttle:j,clearInterval:m,clearTimeout:i}});h("tinymce/Env",[],function(){var i=navigator,y=i.userAgent;var n,w,j,r,p,m,v,o,l,q,t,x,s;function k(z){return"matchMedia" in window?matchMedia(z).matches:false}n=window.opera&&window.opera.buildNumber;l=/Android/.test(y);w=/WebKit/.test(y);j=!w&&!n&&(/MSIE/gi).test(y)&&(/Explorer/gi).test(i.appName);j=j&&/MSIE (\w+)\./.exec(y)[1];r=y.indexOf("Trident/")!=-1&&(y.indexOf("rv:")!=-1||i.appName.indexOf("Netscape")!=-1)?11:false;p=(y.indexOf("Edge/")!=-1&&!j&&!r)?12:false;j=j||r||p;m=!w&&!r&&/Gecko/.test(y);v=y.indexOf("Mac")!=-1;o=/(iPad|iPhone)/.test(y);q="FormData" in window&&"FileReader" in window&&"URL" in window&&!!URL.createObjectURL;t=k("only screen and (max-device-width: 480px)")&&(l||o);x=k("only screen and (min-width: 800px)")&&(l||o);s=y.indexOf("Windows Phone")!=-1;if(p){w=false}var u=!o||q||y.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:n,webkit:w,ie:j,gecko:m,mac:v,iOS:o,android:l,contentEditable:u,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:j!=8,range:window.getSelection&&"Range" in window,documentMode:j&&!p?(document.documentMode||7):10,fileApi:q,ceFalse:(j===false||j>8),canHaveCSP:(j===false||j>11),desktop:!t&&!x,windowsPhone:s}});h("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(j,p){var q="mce-data-";var s=/^(?:mouse|contextmenu)|click/;var m={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};function l(v,u,w,t){if(v.addEventListener){v.addEventListener(u,w,t||false)}else{if(v.attachEvent){v.attachEvent("on"+u,w)}}}function r(v,u,w,t){if(v.removeEventListener){v.removeEventListener(u,w,t||false)}else{if(v.detachEvent){v.detachEvent("on"+u,w)}}}function o(u,t){var w,v=t;w=u.path;if(w&&w.length>0){v=w[0]}if(u.deepPath){w=u.deepPath();if(w&&w.length>0){v=w[0]}}return v}function n(v,z){var u,t=z||{},x;function w(){return false}function y(){return true}for(u in v){if(!m[u]){t[u]=v[u]}}if(!t.target){t.target=t.srcElement||document}if(p.experimentalShadowDom){t.target=o(v,t.target)}if(v&&s.test(v.type)&&v.pageX===x&&v.clientX!==x){var C=t.target.ownerDocument||document;var B=C.documentElement;var A=C.body;t.pageX=v.clientX+(B&&B.scrollLeft||A&&A.scrollLeft||0)-(B&&B.clientLeft||A&&A.clientLeft||0);t.pageY=v.clientY+(B&&B.scrollTop||A&&A.scrollTop||0)-(B&&B.clientTop||A&&A.clientTop||0)}t.preventDefault=function(){t.isDefaultPrevented=y;if(v){if(v.preventDefault){v.preventDefault()}else{v.returnValue=false}}};t.stopPropagation=function(){t.isPropagationStopped=y;if(v){if(v.stopPropagation){v.stopPropagation()}else{v.cancelBubble=true}}};t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=y;t.stopPropagation()};if(!t.isDefaultPrevented){t.isDefaultPrevented=w;t.isPropagationStopped=w;t.isImmediatePropagationStopped=w}if(typeof t.metaKey=="undefined"){t.metaKey=false}return t}function k(y,A,v){var x=y.document,w={type:"ready"};if(v.domLoaded){A(w);return}function u(){if(!v.domLoaded){v.domLoaded=true;A(w)}}function t(){if(x.readyState==="complete"||(x.readyState==="interactive"&&x.body)){r(x,"readystatechange",t);u()}}function z(){try{x.documentElement.doScroll("left")}catch(B){j.setTimeout(z);return}u()}if(x.addEventListener){if(x.readyState==="complete"){u()}else{l(y,"DOMContentLoaded",u)}}else{l(x,"readystatechange",t);if(x.documentElement.doScroll&&y.self===y.top){z()}}l(y,"load",u)}function i(){var t=this,v={},x,A,u,w,z;A=q+(+new Date()).toString(32);w="onmouseenter" in document.documentElement;u="onfocusin" in document.documentElement;z={mouseenter:"mouseover",mouseleave:"mouseout"};x=1;t.domLoaded=false;t.events=v;function y(E,H){var D,F,C,G,B=v[H];D=B&&B[E.type];if(D){for(F=0,C=D.length;F<C;F++){G=D[F];if(G&&G.func.call(G.scope,E)===false){E.preventDefault()}if(E.isImmediatePropagationStopped()){return}}}}t.bind=function(G,J,M,N){var C,D,E,B,K,I,L,F=window;function H(O){y(n(O||F.event),C)}if(!G||G.nodeType===3||G.nodeType===8){return}if(!G[A]){C=x++;G[A]=C;v[C]={}}else{C=G[A]}N=N||G;J=J.split(" ");E=J.length;while(E--){B=J[E];I=H;K=L=false;if(B==="DOMContentLoaded"){B="ready"}if(t.domLoaded&&B==="ready"&&G.readyState=="complete"){M.call(N,n({type:B}));continue}if(!w){K=z[B];if(K){I=function(O){var Q,P;Q=O.currentTarget;P=O.relatedTarget;if(P&&Q.contains){P=Q.contains(P)}else{while(P&&P!==Q){P=P.parentNode}}if(!P){O=n(O||F.event);O.type=O.type==="mouseout"?"mouseleave":"mouseenter";O.target=Q;y(O,C)}}}}if(!u&&(B==="focusin"||B==="focusout")){L=true;K=B==="focusin"?"focus":"blur";I=function(O){O=n(O||F.event);O.type=O.type==="focus"?"focusin":"focusout";y(O,C)}}D=v[C][B];if(!D){v[C][B]=D=[{func:M,scope:N}];D.fakeName=K;D.capture=L;D.nativeHandler=I;if(B==="ready"){k(G,I,t)}else{l(G,K||B,I,L)}}else{if(B==="ready"&&t.domLoaded){M({type:B})}else{D.push({func:M,scope:N})}}}G=D=0;return M};t.unbind=function(G,J,M){var C,E,F,N,B,D;if(!G||G.nodeType===3||G.nodeType===8){return t}C=G[A];if(C){D=v[C];if(J){J=J.split(" ");F=J.length;while(F--){B=J[F];E=D[B];if(E){if(M){N=E.length;while(N--){if(E[N].func===M){var I=E.nativeHandler;var K=E.fakeName,L=E.capture;E=E.slice(0,N).concat(E.slice(N+1));E.nativeHandler=I;E.fakeName=K;E.capture=L;D[B]=E}}}if(!M||E.length===0){delete D[B];r(G,E.fakeName||B,E.nativeHandler,E.capture)}}}}else{for(B in D){E=D[B];r(G,E.fakeName||B,E.nativeHandler,E.capture)}D={}}for(B in D){return t}delete v[C];try{delete G[A]}catch(H){G[A]=null}}return t};t.fire=function(D,C,B){var E;if(!D||D.nodeType===3||D.nodeType===8){return t}B=n(null,B);B.type=C;B.target=D;do{E=D[A];if(E){y(B,E)}D=D.parentNode||D.ownerDocument||D.defaultView||D.parentWindow}while(D&&!B.isPropagationStopped());return t};t.clean=function(E){var C,B,D=t.unbind;if(!E||E.nodeType===3||E.nodeType===8){return t}if(E[A]){D(E)}if(!E.getElementsByTagName){E=E.document}if(E&&E.getElementsByTagName){D(E);B=E.getElementsByTagName("*");C=B.length;while(C--){E=B[C];if(E[A]){D(E)}}}return t};t.destroy=function(){v={}};t.cancel=function(B){if(B){B.preventDefault();B.stopImmediatePropagation()}return false}}i.Event=new i();i.Event.bind(window,"ready",function(){});return i});h("tinymce/dom/Sizzle",[],function(){var J,aD,z,S,V,t,ah,aC,aH,T,ai,ak,N,A,au,ao,aB,q,Q,aw="sizzle"+-(new Date()),U=window.document,aE=0,ap=0,l=L(),av=L(),R=L(),P=function(aI,i){if(aI===i){ai=true}return 0},aA=typeof g,ab=1<<31,Z=({}).hasOwnProperty,ay=[],az=ay.pop,X=ay.push,j=ay.push,y=ay.slice,p=ay.indexOf||function(aK){var aJ=0,aI=this.length;for(;aJ<aI;aJ++){if(this[aJ]===aK){return aJ}}return -1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ar="\\["+B+"*("+W+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+B+"*\\]",w=":("+W+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ar+")*)|.*)\\)|)",D=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),G=new RegExp("^"+B+"*,"+B+"*"),M=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),F=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),ad=new RegExp(w),af=new RegExp("^"+W+"$"),an={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+ar),PSEUDO:new RegExp("^"+w),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},o=/^(?:input|select|textarea|button)$/i,x=/^h\d$/i,aa=/^[^{]+\{\s*\[native \w/,ac=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,am=/[+~]/,Y=/'|\\/g,E=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),aq=function(i,aK,aI){var aJ="0x"+aK-65536;return aJ!==aJ||aI?aK:aJ<0?String.fromCharCode(aJ+65536):String.fromCharCode(aJ>>10|55296,aJ&1023|56320)};try{j.apply((ay=y.call(U.childNodes)),U.childNodes);ay[U.childNodes.length].nodeType}catch(O){j={apply:ay.length?function(aI,i){X.apply(aI,y.call(i))}:function(aL,aK){var aI=aL.length,aJ=0;while((aL[aI++]=aK[aJ++])){}aL.length=aI-1}}}function H(aQ,aJ,aU,aW){var aV,aN,aO,aS,aT,aM,aL,aI,aK,aR;if((aJ?aJ.ownerDocument||aJ:U)!==N){ak(aJ)}aJ=aJ||N;aU=aU||[];if(!aQ||typeof aQ!=="string"){return aU}if((aS=aJ.nodeType)!==1&&aS!==9){return[]}if(au&&!aW){if((aV=ac.exec(aQ))){if((aO=aV[1])){if(aS===9){aN=aJ.getElementById(aO);if(aN&&aN.parentNode){if(aN.id===aO){aU.push(aN);return aU}}else{return aU}}else{if(aJ.ownerDocument&&(aN=aJ.ownerDocument.getElementById(aO))&&Q(aJ,aN)&&aN.id===aO){aU.push(aN);return aU}}}else{if(aV[2]){j.apply(aU,aJ.getElementsByTagName(aQ));return aU}else{if((aO=aV[3])&&aD.getElementsByClassName){j.apply(aU,aJ.getElementsByClassName(aO));return aU}}}}if(aD.qsa&&(!ao||!ao.test(aQ))){aI=aL=aw;aK=aJ;aR=aS===9&&aQ;if(aS===1&&aJ.nodeName.toLowerCase()!=="object"){aM=t(aQ);if((aL=aJ.getAttribute("id"))){aI=aL.replace(Y,"\\$&")}else{aJ.setAttribute("id",aI)}aI="[id='"+aI+"'] ";aT=aM.length;while(aT--){aM[aT]=aI+u(aM[aT])}aK=am.test(aQ)&&ae(aJ.parentNode)||aJ;aR=aM.join(",")}if(aR){try{j.apply(aU,aK.querySelectorAll(aR));return aU}catch(aP){}finally{if(!aL){aJ.removeAttribute("id")}}}}}return aC(aQ.replace(D,"$1"),aJ,aU,aW)}function L(){var aI=[];function i(aJ,aK){if(aI.push(aJ+" ")>z.cacheLength){delete i[aI.shift()]}return(i[aJ+" "]=aK)}return i}function v(i){i[aw]=true;return i}function r(i){var aJ=N.createElement("div");try{return !!i(aJ)}catch(aI){return false}finally{if(aJ.parentNode){aJ.parentNode.removeChild(aJ)}aJ=null}}function aF(aJ,aL){var aI=aJ.split("|"),aK=aJ.length;while(aK--){z.attrHandle[aI[aK]]=aL}}function m(aI,i){var aK=i&&aI,aJ=aK&&aI.nodeType===1&&i.nodeType===1&&(~i.sourceIndex||ab)-(~aI.sourceIndex||ab);if(aJ){return aJ}if(aK){while((aK=aK.nextSibling)){if(aK===i){return -1}}}return aI?1:-1}function I(i){return function(aJ){var aI=aJ.nodeName.toLowerCase();return aI==="input"&&aJ.type===i}}function n(i){return function(aJ){var aI=aJ.nodeName.toLowerCase();return(aI==="input"||aI==="button")&&aJ.type===i}}function at(i){return v(function(aI){aI=+aI;return v(function(aJ,aN){var aL,aK=i([],aJ.length,aI),aM=aK.length;while(aM--){if(aJ[(aL=aK[aM])]){aJ[aL]=!(aN[aL]=aJ[aL])}}})})}function ae(i){return i&&typeof i.getElementsByTagName!==aA&&i}aD=H.support={};V=H.isXML=function(i){var aI=i&&(i.ownerDocument||i).documentElement;return aI?aI.nodeName!=="HTML":false};ak=H.setDocument=function(aJ){var i,aL=aJ?aJ.ownerDocument||aJ:U,aI=aL.defaultView;function aK(aN){try{return aN.top}catch(aM){}return null}if(aL===N||aL.nodeType!==9||!aL.documentElement){return N}N=aL;A=aL.documentElement;au=!V(aL);if(aI&&aI!==aK(aI)){if(aI.addEventListener){aI.addEventListener("unload",function(){ak()},false)}else{if(aI.attachEvent){aI.attachEvent("onunload",function(){ak()})}}}aD.attributes=r(function(aM){aM.className="i";return !aM.getAttribute("className")});aD.getElementsByTagName=r(function(aM){aM.appendChild(aL.createComment(""));return !aM.getElementsByTagName("*").length});aD.getElementsByClassName=aa.test(aL.getElementsByClassName);aD.getById=r(function(aM){A.appendChild(aM).id=aw;return !aL.getElementsByName||!aL.getElementsByName(aw).length});if(aD.getById){z.find.ID=function(aO,aN){if(typeof aN.getElementById!==aA&&au){var aM=aN.getElementById(aO);return aM&&aM.parentNode?[aM]:[]}};z.filter.ID=function(aN){var aM=aN.replace(E,aq);return function(aO){return aO.getAttribute("id")===aM}}}else{delete z.find.ID;z.filter.ID=function(aN){var aM=aN.replace(E,aq);return function(aP){var aO=typeof aP.getAttributeNode!==aA&&aP.getAttributeNode("id");return aO&&aO.value===aM}}}z.find.TAG=aD.getElementsByTagName?function(aM,aN){if(typeof aN.getElementsByTagName!==aA){return aN.getElementsByTagName(aM)}}:function(aM,aQ){var aR,aP=[],aO=0,aN=aQ.getElementsByTagName(aM);if(aM==="*"){while((aR=aN[aO++])){if(aR.nodeType===1){aP.push(aR)}}return aP}return aN};z.find.CLASS=aD.getElementsByClassName&&function(aN,aM){if(au){return aM.getElementsByClassName(aN)}};aB=[];ao=[];if((aD.qsa=aa.test(aL.querySelectorAll))){r(function(aM){aM.innerHTML="<select msallowcapture=''><option selected=''></option></select>";if(aM.querySelectorAll("[msallowcapture^='']").length){ao.push("[*^$]="+B+"*(?:''|\"\")")}if(!aM.querySelectorAll("[selected]").length){ao.push("\\["+B+"*(?:value|"+k+")")}if(!aM.querySelectorAll(":checked").length){ao.push(":checked")}});r(function(aN){var aM=aL.createElement("input");aM.setAttribute("type","hidden");aN.appendChild(aM).setAttribute("name","D");if(aN.querySelectorAll("[name=d]").length){ao.push("name"+B+"*[*^$|!~]?=")}if(!aN.querySelectorAll(":enabled").length){ao.push(":enabled",":disabled")}aN.querySelectorAll("*,:x");ao.push(",.*:")})}if((aD.matchesSelector=aa.test((q=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector)))){r(function(aM){aD.disconnectedMatch=q.call(aM,"div");q.call(aM,"[s!='']:x");aB.push("!=",w)})}ao=ao.length&&new RegExp(ao.join("|"));aB=aB.length&&new RegExp(aB.join("|"));i=aa.test(A.compareDocumentPosition);Q=i||aa.test(A.contains)?function(aN,aM){var aP=aN.nodeType===9?aN.documentElement:aN,aO=aM&&aM.parentNode;return aN===aO||!!(aO&&aO.nodeType===1&&(aP.contains?aP.contains(aO):aN.compareDocumentPosition&&aN.compareDocumentPosition(aO)&16))}:function(aN,aM){if(aM){while((aM=aM.parentNode)){if(aM===aN){return true}}}return false};P=i?function(aN,aM){if(aN===aM){ai=true;return 0}var aO=!aN.compareDocumentPosition-!aM.compareDocumentPosition;if(aO){return aO}aO=(aN.ownerDocument||aN)===(aM.ownerDocument||aM)?aN.compareDocumentPosition(aM):1;if(aO&1||(!aD.sortDetached&&aM.compareDocumentPosition(aN)===aO)){if(aN===aL||aN.ownerDocument===U&&Q(U,aN)){return -1}if(aM===aL||aM.ownerDocument===U&&Q(U,aM)){return 1}return T?(p.call(T,aN)-p.call(T,aM)):0}return aO&4?-1:1}:function(aN,aM){if(aN===aM){ai=true;return 0}var aT,aQ=0,aS=aN.parentNode,aP=aM.parentNode,aO=[aN],aR=[aM];if(!aS||!aP){return aN===aL?-1:aM===aL?1:aS?-1:aP?1:T?(p.call(T,aN)-p.call(T,aM)):0}else{if(aS===aP){return m(aN,aM)}}aT=aN;while((aT=aT.parentNode)){aO.unshift(aT)}aT=aM;while((aT=aT.parentNode)){aR.unshift(aT)}while(aO[aQ]===aR[aQ]){aQ++}return aQ?m(aO[aQ],aR[aQ]):aO[aQ]===U?-1:aR[aQ]===U?1:0};return aL};H.matches=function(aI,i){return H(aI,null,null,i)};H.matchesSelector=function(aI,aK){if((aI.ownerDocument||aI)!==N){ak(aI)}aK=aK.replace(F,"='$1']");if(aD.matchesSelector&&au&&(!aB||!aB.test(aK))&&(!ao||!ao.test(aK))){try{var i=q.call(aI,aK);if(i||aD.disconnectedMatch||aI.document&&aI.document.nodeType!==11){return i}}catch(aJ){}}return H(aK,N,null,[aI]).length>0};H.contains=function(i,aI){if((i.ownerDocument||i)!==N){ak(i)}return Q(i,aI)};H.attr=function(aJ,i){if((aJ.ownerDocument||aJ)!==N){ak(aJ)}var aI=z.attrHandle[i.toLowerCase()],aK=aI&&Z.call(z.attrHandle,i.toLowerCase())?aI(aJ,i,!au):g;return aK!==g?aK:aD.attributes||!au?aJ.getAttribute(i):(aK=aJ.getAttributeNode(i))&&aK.specified?aK.value:null};H.error=function(i){throw new Error("Syntax error, unrecognized expression: "+i)};H.uniqueSort=function(aK){var aL,aM=[],aI=0,aJ=0;ai=!aD.detectDuplicates;T=!aD.sortStable&&aK.slice(0);aK.sort(P);if(ai){while((aL=aK[aJ++])){if(aL===aK[aJ]){aI=aM.push(aJ)}}while(aI--){aK.splice(aM[aI],1)}}T=null;return aK};S=H.getText=function(aM){var aL,aJ="",aK=0,aI=aM.nodeType;if(!aI){while((aL=aM[aK++])){aJ+=S(aL)}}else{if(aI===1||aI===9||aI===11){if(typeof aM.textContent==="string"){return aM.textContent}else{for(aM=aM.firstChild;aM;aM=aM.nextSibling){aJ+=S(aM)}}}else{if(aI===3||aI===4){return aM.nodeValue}}}return aJ};z=H.selectors={cacheLength:50,createPseudo:v,match:an,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(i){i[1]=i[1].replace(E,aq);i[3]=(i[3]||i[4]||i[5]||"").replace(E,aq);if(i[2]==="~="){i[3]=" "+i[3]+" "}return i.slice(0,4)},CHILD:function(i){i[1]=i[1].toLowerCase();if(i[1].slice(0,3)==="nth"){if(!i[3]){H.error(i[0])}i[4]=+(i[4]?i[5]+(i[6]||1):2*(i[3]==="even"||i[3]==="odd"));i[5]=+((i[7]+i[8])||i[3]==="odd")}else{if(i[3]){H.error(i[0])}}return i},PSEUDO:function(aI){var i,aJ=!aI[6]&&aI[2];if(an.CHILD.test(aI[0])){return null}if(aI[3]){aI[2]=aI[4]||aI[5]||""}else{if(aJ&&ad.test(aJ)&&(i=t(aJ,true))&&(i=aJ.indexOf(")",aJ.length-i)-aJ.length)){aI[0]=aI[0].slice(0,i);aI[2]=aJ.slice(0,i)}}return aI.slice(0,3)}},filter:{TAG:function(aI){var i=aI.replace(E,aq).toLowerCase();return aI==="*"?function(){return true}:function(aJ){return aJ.nodeName&&aJ.nodeName.toLowerCase()===i}},CLASS:function(i){var aI=l[i+" "];return aI||(aI=new RegExp("(^|"+B+")"+i+"("+B+"|$)"))&&l(i,function(aJ){return aI.test(typeof aJ.className==="string"&&aJ.className||typeof aJ.getAttribute!==aA&&aJ.getAttribute("class")||"")})},ATTR:function(aJ,aI,i){return function(aL){var aK=H.attr(aL,aJ);if(aK==null){return aI==="!="}if(!aI){return true}aK+="";return aI==="="?aK===i:aI==="!="?aK!==i:aI==="^="?i&&aK.indexOf(i)===0:aI==="*="?i&&aK.indexOf(i)>-1:aI==="$="?i&&aK.slice(-i.length)===i:aI==="~="?(" "+aK+" ").indexOf(i)>-1:aI==="|="?aK===i||aK.slice(0,i.length+1)===i+"-":false}},CHILD:function(aI,aL,aK,aM,aJ){var aO=aI.slice(0,3)!=="nth",i=aI.slice(-4)!=="last",aN=aL==="of-type";return aM===1&&aJ===0?function(aP){return !!aP.parentNode}:function(aV,aT,aY){var aP,a1,aW,a0,aX,aS,aU=aO!==i?"nextSibling":"previousSibling",aZ=aV.parentNode,aR=aN&&aV.nodeName.toLowerCase(),aQ=!aY&&!aN;if(aZ){if(aO){while(aU){aW=aV;while((aW=aW[aU])){if(aN?aW.nodeName.toLowerCase()===aR:aW.nodeType===1){return false}}aS=aU=aI==="only"&&!aS&&"nextSibling"}return true}aS=[i?aZ.firstChild:aZ.lastChild];if(i&&aQ){a1=aZ[aw]||(aZ[aw]={});aP=a1[aI]||[];aX=aP[0]===aE&&aP[1];a0=aP[0]===aE&&aP[2];aW=aX&&aZ.childNodes[aX];while((aW=++aX&&aW&&aW[aU]||(a0=aX=0)||aS.pop())){if(aW.nodeType===1&&++a0&&aW===aV){a1[aI]=[aE,aX,a0];break}}}else{if(aQ&&(aP=(aV[aw]||(aV[aw]={}))[aI])&&aP[0]===aE){a0=aP[1]}else{while((aW=++aX&&aW&&aW[aU]||(a0=aX=0)||aS.pop())){if((aN?aW.nodeName.toLowerCase()===aR:aW.nodeType===1)&&++a0){if(aQ){(aW[aw]||(aW[aw]={}))[aI]=[aE,a0]}if(aW===aV){break}}}}}a0-=aJ;return a0===aM||(a0%aM===0&&a0/aM>=0)}}},PSEUDO:function(aK,aJ){var i,aI=z.pseudos[aK]||z.setFilters[aK.toLowerCase()]||H.error("unsupported pseudo: "+aK);if(aI[aw]){return aI(aJ)}if(aI.length>1){i=[aK,aK,"",aJ];return z.setFilters.hasOwnProperty(aK.toLowerCase())?v(function(aN,aP){var aM,aL=aI(aN,aJ),aO=aL.length;while(aO--){aM=p.call(aN,aL[aO]);aN[aM]=!(aP[aM]=aL[aO])}}):function(aL){return aI(aL,0,i)}}return aI}},pseudos:{not:v(function(i){var aI=[],aJ=[],aK=ah(i.replace(D,"$1"));return aK[aw]?v(function(aM,aR,aP,aN){var aQ,aL=aK(aM,null,aN,[]),aO=aM.length;while(aO--){if((aQ=aL[aO])){aM[aO]=!(aR[aO]=aQ)}}}):function(aN,aM,aL){aI[0]=aN;aK(aI,null,aL,aJ);return !aJ.pop()}}),has:v(function(i){return function(aI){return H(i,aI).length>0}}),contains:v(function(i){i=i.replace(E,aq);return function(aI){return(aI.textContent||aI.innerText||S(aI)).indexOf(i)>-1}}),lang:v(function(i){if(!af.test(i||"")){H.error("unsupported lang: "+i)}i=i.replace(E,aq).toLowerCase();return function(aJ){var aI;do{if((aI=au?aJ.lang:aJ.getAttribute("xml:lang")||aJ.getAttribute("lang"))){aI=aI.toLowerCase();return aI===i||aI.indexOf(i+"-")===0}}while((aJ=aJ.parentNode)&&aJ.nodeType===1);return false}}),target:function(i){var aI=window.location&&window.location.hash;return aI&&aI.slice(1)===i.id},root:function(i){return i===A},focus:function(i){return i===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(i.type||i.href||~i.tabIndex)},enabled:function(i){return i.disabled===false},disabled:function(i){return i.disabled===true},checked:function(i){var aI=i.nodeName.toLowerCase();return(aI==="input"&&!!i.checked)||(aI==="option"&&!!i.selected)},selected:function(i){if(i.parentNode){i.parentNode.selectedIndex}return i.selected===true},empty:function(i){for(i=i.firstChild;i;i=i.nextSibling){if(i.nodeType<6){return false}}return true},parent:function(i){return !z.pseudos.empty(i)},header:function(i){return x.test(i.nodeName)},input:function(i){return o.test(i.nodeName)},button:function(aI){var i=aI.nodeName.toLowerCase();return i==="input"&&aI.type==="button"||i==="button"},text:function(aI){var i;return aI.nodeName.toLowerCase()==="input"&&aI.type==="text"&&((i=aI.getAttribute("type"))==null||i.toLowerCase()==="text")},first:at(function(){return[0]}),last:at(function(i,aI){return[aI-1]}),eq:at(function(i,aJ,aI){return[aI<0?aI+aJ:aI]}),even:at(function(aI,aK){var aJ=0;for(;aJ<aK;aJ+=2){aI.push(aJ)}return aI}),odd:at(function(aI,aK){var aJ=1;for(;aJ<aK;aJ+=2){aI.push(aJ)}return aI}),lt:at(function(aI,aL,aK){var aJ=aK<0?aK+aL:aK;for(;--aJ>=0;){aI.push(aJ)}return aI}),gt:at(function(aI,aL,aK){var aJ=aK<0?aK+aL:aK;for(;++aJ<aL;){aI.push(aJ)}return aI})}};z.pseudos.nth=z.pseudos.eq;for(J in {radio:true,checkbox:true,file:true,password:true,image:true}){z.pseudos[J]=I(J)}for(J in {submit:true,reset:true}){z.pseudos[J]=n(J)}function ag(){}ag.prototype=z.filters=z.pseudos;z.setFilters=new ag();t=H.tokenize=function(aL,aQ){var aI,aM,aO,aP,aN,aJ,i,aK=av[aL+" "];if(aK){return aQ?0:aK.slice(0)}aN=aL;aJ=[];i=z.preFilter;while(aN){if(!aI||(aM=G.exec(aN))){if(aM){aN=aN.slice(aM[0].length)||aN}aJ.push((aO=[]))}aI=false;if((aM=M.exec(aN))){aI=aM.shift();aO.push({value:aI,type:aM[0].replace(D," ")});aN=aN.slice(aI.length)}for(aP in z.filter){if((aM=an[aP].exec(aN))&&(!i[aP]||(aM=i[aP](aM)))){aI=aM.shift();aO.push({value:aI,type:aP,matches:aM});aN=aN.slice(aI.length)}}if(!aI){break}}return aQ?aN.length:aN?H.error(aL):av(aL,aJ).slice(0)};function u(aL){var aK=0,aJ=aL.length,aI="";for(;aK<aJ;aK++){aI+=aL[aK].value}return aI}function C(aL,aJ,aK){var i=aJ.dir,aM=aK&&i==="parentNode",aI=ap++;return aJ.first?function(aP,aO,aN){while((aP=aP[i])){if(aP.nodeType===1||aM){return aL(aP,aO,aN)}}}:function(aR,aP,aO){var aS,aQ,aN=[aE,aI];if(aO){while((aR=aR[i])){if(aR.nodeType===1||aM){if(aL(aR,aP,aO)){return true}}}}else{while((aR=aR[i])){if(aR.nodeType===1||aM){aQ=aR[aw]||(aR[aw]={});if((aS=aQ[i])&&aS[0]===aE&&aS[1]===aI){return(aN[2]=aS[2])}else{aQ[i]=aN;if((aN[2]=aL(aR,aP,aO))){return true}}}}}}}function aG(i){return i.length>1?function(aL,aK,aI){var aJ=i.length;while(aJ--){if(!i[aJ](aL,aK,aI)){return false}}return true}:i[0]}function K(aJ,aM,aL){var aK=0,aI=aM.length;for(;aK<aI;aK++){H(aJ,aM[aK],aL)}return aL}function al(aI,aJ,aK,aL,aO){var aM,aR=[],aN=0,aP=aI.length,aQ=aJ!=null;for(;aN<aP;aN++){if((aM=aI[aN])){if(!aK||aK(aM,aL,aO)){aR.push(aM);if(aQ){aJ.push(aN)}}}}return aR}function s(aJ,aI,aL,aK,aM,i){if(aK&&!aK[aw]){aK=s(aK)}if(aM&&!aM[aw]){aM=s(aM,i)}return v(function(aX,aU,aP,aW){var aZ,aV,aR,aQ=[],aY=[],aO=aU.length,aN=aX||K(aI||"*",aP.nodeType?[aP]:aP,[]),aS=aJ&&(aX||!aI)?al(aN,aQ,aJ,aP,aW):aN,aT=aL?aM||(aX?aJ:aO||aK)?[]:aU:aS;if(aL){aL(aS,aT,aP,aW)}if(aK){aZ=al(aT,aY);aK(aZ,[],aP,aW);aV=aZ.length;while(aV--){if((aR=aZ[aV])){aT[aY[aV]]=!(aS[aY[aV]]=aR)}}}if(aX){if(aM||aJ){if(aM){aZ=[];aV=aT.length;while(aV--){if((aR=aT[aV])){aZ.push((aS[aV]=aR))}}aM(null,(aT=[]),aZ,aW)}aV=aT.length;while(aV--){if((aR=aT[aV])&&(aZ=aM?p.call(aX,aR):aQ[aV])>-1){aX[aZ]=!(aU[aZ]=aR)}}}}else{aT=al(aT===aU?aT.splice(aO,aT.length):aT);if(aM){aM(null,aU,aT,aW)}else{j.apply(aU,aT)}}})}function ax(aO){var aJ,aM,aK,aN=aO.length,aR=z.relative[aO[0].type],aS=aR||z.relative[" "],aL=aR?1:0,aP=C(function(i){return i===aJ},aS,true),aQ=C(function(i){return p.call(aJ,i)>-1},aS,true),aI=[function(aU,aT,i){return(!aR&&(i||aT!==aH))||((aJ=aT).nodeType?aP(aU,aT,i):aQ(aU,aT,i))}];for(;aL<aN;aL++){if((aM=z.relative[aO[aL].type])){aI=[C(aG(aI),aM)]}else{aM=z.filter[aO[aL].type].apply(null,aO[aL].matches);if(aM[aw]){aK=++aL;for(;aK<aN;aK++){if(z.relative[aO[aK].type]){break}}return s(aL>1&&aG(aI),aL>1&&u(aO.slice(0,aL-1).concat({value:aO[aL-2].type===" "?"*":""})).replace(D,"$1"),aM,aL<aK&&ax(aO.slice(aL,aK)),aK<aN&&ax((aO=aO.slice(aK))),aK<aN&&u(aO))}aI.push(aM)}}return aG(aI)}function aj(aK,aJ){var i=aJ.length>0,aL=aK.length>0,aI=function(aV,aP,aU,aT,aY){var aQ,aR,aW,a0=0,aS="0",aM=aV&&[],a1=[],aZ=aH,aO=aV||aL&&z.find.TAG("*",aY),aN=(aE+=aZ==null?1:Math.random()||0.1),aX=aO.length;if(aY){aH=aP!==N&&aP}for(;aS!==aX&&(aQ=aO[aS])!=null;aS++){if(aL&&aQ){aR=0;while((aW=aK[aR++])){if(aW(aQ,aP,aU)){aT.push(aQ);break}}if(aY){aE=aN}}if(i){if((aQ=!aW&&aQ)){a0--}if(aV){aM.push(aQ)}}}a0+=aS;if(i&&aS!==a0){aR=0;while((aW=aJ[aR++])){aW(aM,a1,aP,aU)}if(aV){if(a0>0){while(aS--){if(!(aM[aS]||a1[aS])){a1[aS]=az.call(aT)}}}a1=al(a1)}j.apply(aT,a1);if(aY&&!aV&&a1.length>0&&(a0+aJ.length)>1){H.uniqueSort(aT)}}if(aY){aE=aN;aH=aZ}return aM};return i?v(aI):aI}ah=H.compile=function(aI,aK){var aL,aJ=[],aN=[],aM=R[aI+" "];if(!aM){if(!aK){aK=t(aI)}aL=aK.length;while(aL--){aM=ax(aK[aL]);if(aM[aw]){aJ.push(aM)}else{aN.push(aM)}}aM=R(aI,aj(aN,aJ));aM.selector=aI}return aM};aC=H.select=function(aK,aI,aL,aO){var aM,aR,aJ,aS,aP,aQ=typeof aK==="function"&&aK,aN=!aO&&t((aK=aQ.selector||aK));aL=aL||[];if(aN.length===1){aR=aN[0]=aN[0].slice(0);if(aR.length>2&&(aJ=aR[0]).type==="ID"&&aD.getById&&aI.nodeType===9&&au&&z.relative[aR[1].type]){aI=(z.find.ID(aJ.matches[0].replace(E,aq),aI)||[])[0];if(!aI){return aL}else{if(aQ){aI=aI.parentNode}}aK=aK.slice(aR.shift().value.length)}aM=an.needsContext.test(aK)?0:aR.length;while(aM--){aJ=aR[aM];if(z.relative[(aS=aJ.type)]){break}if((aP=z.find[aS])){if((aO=aP(aJ.matches[0].replace(E,aq),am.test(aR[0].type)&&ae(aI.parentNode)||aI))){aR.splice(aM,1);aK=aO.length&&u(aR);if(!aK){j.apply(aL,aO);return aL}break}}}}(aQ||ah(aK,aN))(aO,aI,!au,aL,am.test(aK)&&ae(aI.parentNode)||aI);return aL};aD.sortStable=aw.split("").sort(P).join("")===aw;aD.detectDuplicates=!!ai;ak();aD.sortDetached=r(function(i){return i.compareDocumentPosition(N.createElement("div"))&1});if(!r(function(i){i.innerHTML="<a href='#'></a>";return i.firstChild.getAttribute("href")==="#"})){aF("type|href|height|width",function(aI,i,aJ){if(!aJ){return aI.getAttribute(i,i.toLowerCase()==="type"?1:2)}})}if(!aD.attributes||!r(function(i){i.innerHTML="<input/>";i.firstChild.setAttribute("value","");return i.firstChild.getAttribute("value")===""})){aF("value",function(aI,i,aJ){if(!aJ&&aI.nodeName.toLowerCase()==="input"){return aI.defaultValue}})}if(!r(function(i){return i.getAttribute("disabled")==null})){aF(k,function(aI,i,aK){var aJ;if(!aK){return aI[i]===true?i.toLowerCase():(aJ=aI.getAttributeNode(i))&&aJ.specified?aJ.value:null}})}return H});h("tinymce/util/Arr",[],function(){var m=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function l(u){var v=u,t,s;if(!m(u)){v=[];for(t=0,s=u.length;t<s;t++){v[t]=u[t]}}return v}function q(w,t,v){var x,u;if(!w){return 0}v=v||w;if(w.length!==g){for(x=0,u=w.length;x<u;x++){if(t.call(v,w[x],x,w)===false){return 0}}}else{for(x in w){if(w.hasOwnProperty(x)){if(t.call(v,w[x],x,w)===false){return 0}}}}return 1}function j(u,t){var s=[];q(u,function(w,v){s.push(t(w,v,u))});return s}function k(s,t){var u=[];q(s,function(w,x){if(!t||t(w,x,s)){u.push(w)}});return u}function p(t,u){var w,s;if(t){for(w=0,s=t.length;w<s;w++){if(t[w]===u){return w}}}return -1}function o(w,v,t,s){var u=0;if(arguments.length<3){t=w[0]}for(;u<w.length;u++){t=v.call(s,t,w[u],u)}return t}function i(w,s,u){var v,t;for(v=0,t=w.length;v<t;v++){if(s.call(u,w[v],v,w)){return v}}return -1}function n(v,t,u){var s=i(v,t,u);if(s!==-1){return v[s]}return g}function r(s){return s[s.length-1]}return{isArray:m,toArray:l,each:q,map:j,filter:k,indexOf:p,reduce:o,findIndex:i,find:n,last:r}});h("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(q,p){var v=/^\s*|\s*$/g;function k(w){return(w===null||w===g)?"":(""+w).replace(v,"")}function n(x,w){if(!w){return x!==g}if(w=="array"&&p.isArray(x)){return true}return typeof x==w}function l(w,z,y){var x;w=w||[];z=z||",";if(typeof w=="string"){w=w.split(z)}y=y||{};x=w.length;while(x--){y[w[x]]={}}return y}function j(w,x){return Object.prototype.hasOwnProperty.call(w,x)}function o(F,w,A){var E=this,x,z,B,C,y,D=0;F=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(F);B=F[3].match(/(^|\.)(\w+)$/i)[2];z=E.createNS(F[3].replace(/\.\w+$/,""),A);if(z[B]){return}if(F[2]=="static"){z[B]=w;if(this.onCreate){this.onCreate(F[2],F[3],z[B])}return}if(!w[B]){w[B]=function(){};D=1}z[B]=w[B];E.extend(z[B].prototype,w);if(F[5]){x=E.resolve(F[5]).prototype;C=F[5].match(/\.(\w+)$/i)[1];y=z[B];if(D){z[B]=function(){return x[C].apply(this,arguments)}}else{z[B]=function(){this.parent=x[C];return y.apply(this,arguments)}}z[B].prototype[B]=z[B];E.each(x,function(G,H){z[B].prototype[H]=x[H]});E.each(w,function(G,H){if(x[H]){z[B].prototype[H]=function(){this.parent=x[H];return G.apply(this,arguments)}}else{if(H!=B){z[B].prototype[H]=G}}})}E.each(w["static"],function(G,H){z[B][H]=G})}function r(C,A){var z,w,y,x=arguments,B;for(z=1,w=x.length;z<w;z++){A=x[z];for(y in A){if(A.hasOwnProperty(y)){B=A[y];if(B!==g){C[y]=B}}}}return C}function t(y,x,z,w){w=w||this;if(y){if(z){y=y[z]}p.each(y,function(B,A){if(x.call(w,B,A,z)===false){return false}t(B,x,z,w)})}}function m(z,y){var x,w;y=y||window;z=z.split(".");for(x=0;x<z.length;x++){w=z[x];if(!y[w]){y[w]={}}y=y[w]}return y}function u(z,y){var x,w;y=y||window;z=z.split(".");for(x=0,w=z.length;x<w;x++){y=y[z[x]];if(!y){break}}return y}function s(w,x){if(!w||n(w,"array")){return w}return p.map(w.split(x||","),k)}function i(x){var w=q.cacheSuffix;if(w){x+=(x.indexOf("?")===-1?"?":"&")+w}return x}return{trim:k,isArray:p.isArray,is:n,toArray:p.toArray,makeMap:l,each:p.each,map:p.map,grep:p.filter,inArray:p.indexOf,hasOwn:j,extend:r,create:o,walk:t,createNS:m,resolve:u,explode:s,_addCacheSuffix:i}});h("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,q,n,o){var Q=document,v=Array.prototype.push,F=Array.prototype.slice;var C=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var P=t.Event,p;var y=n.makeMap("children,contents,next,prev");function k(R){return typeof R!=="undefined"}function z(R){return typeof R==="string"}function K(R){return R&&R==R.window}function E(T,S){var V,U,R;S=S||Q;R=S.createElement("div");V=S.createDocumentFragment();R.innerHTML=T;while((U=R.firstChild)){V.appendChild(U)}return V}function B(R,U,V,S){var T;if(z(U)){U=E(U,A(R[0]))}else{if(U.length&&!U.nodeType){U=r.makeArray(U);if(S){for(T=U.length-1;T>=0;T--){B(R,U[T],V,S)}}else{for(T=0;T<U.length;T++){B(R,U[T],V,S)}}return R}}if(U.nodeType){T=R.length;while(T--){V.call(R[T],U)}}return R}function l(S,R){return S&&R&&(" "+S.className+" ").indexOf(" "+R+" ")!==-1}function x(U,V,S){var R,T;V=r(V)[0];U.each(function(){var W=this;if(!S||R!=W.parentNode){R=W.parentNode;T=V.cloneNode(false);W.parentNode.insertBefore(T,W);T.appendChild(W)}else{T.appendChild(W)}});return U}var j=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");var H=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ");var L={"for":"htmlFor","class":"className",readonly:"readOnly"};var m={"float":"cssFloat"};var N={},O={};function r(R,S){return new r.fn.init(R,S)}function I(S,T){var R;if(T.indexOf){return T.indexOf(S)}R=T.length;while(R--){if(T[R]===S){return R}}return -1}var M=/^\s*|\s*$/g;function G(R){return(R===null||R===p)?"":(""+R).replace(M,"")}function s(W,X){var U,S,R,T,V;if(W){U=W.length;if(U===T){for(S in W){if(W.hasOwnProperty(S)){V=W[S];if(X.call(V,S,V)===false){break}}}}else{for(R=0;R<U;R++){V=W[R];if(X.call(V,R,V)===false){break}}}}return W}function w(T,S){var R=[];s(T,function(U,V){if(S(V,U)){R.push(V)}});return R}function A(R){if(!R){return Q}if(R.nodeType==9){return R}return R.ownerDocument}r.fn=r.prototype={constructor:r,selector:"",context:null,length:0,init:function(R,U){var S=this,T,V;if(!R){return S}if(R.nodeType){S.context=S[0]=R;S.length=1;return S}if(U&&U.nodeType){S.context=U}else{if(U){return r(R).attr(U)}S.context=U=document}if(z(R)){S.selector=R;if(R.charAt(0)==="<"&&R.charAt(R.length-1)===">"&&R.length>=3){T=[null,R,null]}else{T=C.exec(R)}if(T){if(T[1]){V=E(R,A(U)).firstChild;while(V){v.call(S,V);V=V.nextSibling}}else{V=A(U).getElementById(T[2]);if(!V){return S}if(V.id!==T[2]){return S.find(R)}S.length=1;S[0]=V}}else{return r(U).find(R)}}else{this.add(R,false)}return S},toArray:function(){return n.toArray(this)},add:function(T,V){var S=this,R,U;if(z(T)){return S.add(r(T))}if(V!==false){R=r.unique(S.toArray().concat(r.makeArray(T)));S.length=R.length;for(U=0;U<R.length;U++){S[U]=R[U]}}else{v.apply(S,r.makeArray(T))}return S},attr:function(S,U){var R=this,T;if(typeof S==="object"){s(S,function(V,W){R.attr(V,W)})}else{if(k(U)){this.each(function(){var V;if(this.nodeType===1){V=N[S];if(V&&V.set){V.set(this,U);return}if(U===null){this.removeAttribute(S,2)}else{this.setAttribute(S,U,2)}}})}else{if(R[0]&&R[0].nodeType===1){T=N[S];if(T&&T.get){return T.get(R[0],S)}if(H[S]){return R.prop(S)?S:p}U=R[0].getAttribute(S,2);if(U===null){U=p}}return U}}return R},removeAttr:function(R){return this.attr(R,null)},prop:function(S,T){var R=this;S=L[S]||S;if(typeof S==="object"){s(S,function(U,V){R.prop(U,V)})}else{if(k(T)){this.each(function(){if(this.nodeType==1){this[S]=T}})}else{if(R[0]&&R[0].nodeType&&S in R[0]){return R[0][S]}return T}}return R},css:function(T,X){var S=this,Y,W;function V(Z){return Z.replace(/-(\D)/g,function(ab,aa){return aa.toUpperCase()})}function R(Z){return Z.replace(/[A-Z]/g,function(aa){return"-"+aa})}if(typeof T==="object"){s(T,function(Z,aa){S.css(Z,aa)})}else{if(k(X)){T=V(T);if(typeof X==="number"&&!j[T]){X+="px"}S.each(function(){var aa=this.style;W=O[T];if(W&&W.set){W.set(this,X);return}try{this.style[m[T]||T]=X}catch(Z){}if(X===null||X===""){if(aa.removeProperty){aa.removeProperty(R(T))}else{aa.removeAttribute(T)}}})}else{Y=S[0];W=O[T];if(W&&W.get){return W.get(Y)}if(Y.ownerDocument.defaultView){try{return Y.ownerDocument.defaultView.getComputedStyle(Y,null).getPropertyValue(R(T))}catch(U){return p}}else{if(Y.currentStyle){return Y.currentStyle[V(T)]}}}}return S},remove:function(){var R=this,T,S=this.length;while(S--){T=R[S];P.clean(T);if(T.parentNode){T.parentNode.removeChild(T)}}return this},empty:function(){var R=this,T,S=this.length;while(S--){T=R[S];while(T.firstChild){T.removeChild(T.firstChild)}}return this},html:function(U){var R=this,T;if(k(U)){T=R.length;try{while(T--){R[T].innerHTML=U}}catch(S){r(R[T]).empty().append(U)}return R}return R[0]?R[0].innerHTML:""},text:function(T){var R=this,S;if(k(T)){S=R.length;while(S--){if("innerText" in R[S]){R[S].innerText=T}else{R[0].textContent=T}}return R}return R[0]?(R[0].innerText||R[0].textContent):""},append:function(){return B(this,arguments,function(R){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.appendChild(R)}})},prepend:function(){return B(this,arguments,function(R){if(this.nodeType===1||(this.host&&this.host.nodeType===1)){this.insertBefore(R,this.firstChild)}},true)},before:function(){var R=this;if(R[0]&&R[0].parentNode){return B(R,arguments,function(S){this.parentNode.insertBefore(S,this)})}return R},after:function(){var R=this;if(R[0]&&R[0].parentNode){return B(R,arguments,function(S){this.parentNode.insertBefore(S,this.nextSibling)},true)}return R},appendTo:function(R){r(R).append(this);return this},prependTo:function(R){r(R).prepend(this);return this},replaceWith:function(R){return this.before(R).remove()},wrap:function(R){return x(this,R)},wrapAll:function(R){return x(this,R,true)},wrapInner:function(R){this.each(function(){r(this).contents().wrapAll(R)});return this},unwrap:function(){return this.parent().each(function(){r(this).replaceWith(this.childNodes)})},clone:function(){var R=[];this.each(function(){R.push(this.cloneNode(true))});return r(R)},addClass:function(R){return this.toggleClass(R,true)},removeClass:function(R){return this.toggleClass(R,false)},toggleClass:function(S,T){var R=this;if(typeof S!="string"){return R}if(S.indexOf(" ")!==-1){s(S.split(" "),function(){R.toggleClass(this,T)})}else{R.each(function(U,W){var V,X;X=l(W,S);if(X!==T){V=W.className;if(X){W.className=G((" "+V+" ").replace(" "+S+" "," "))}else{W.className+=V?" "+S:S}}})}return R},hasClass:function(R){return l(this[0],R)},each:function(R){return s(this,R)},on:function(R,S){return this.each(function(){P.bind(this,R,S)})},off:function(R,S){return this.each(function(){P.unbind(this,R,S)})},trigger:function(R){return this.each(function(){if(typeof R=="object"){P.fire(this,R.type,R)}else{P.fire(this,R)}})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new r(F.apply(this,arguments))},eq:function(R){return R===-1?this.slice(R):this.slice(R,+R+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(R){var U,S,T=[];for(U=0,S=this.length;U<S;U++){r.find(R,this[U],T)}return r(T)},filter:function(R){if(typeof R=="function"){return r(w(this.toArray(),function(T,S){return R(S,T)}))}return r(r.filter(R,this.toArray()))},closest:function(S){var R=[];if(S instanceof r){S=S[0]}this.each(function(T,U){while(U){if(typeof S=="string"&&r(U).is(S)){R.push(U);break}else{if(U==S){R.push(U);break}}U=U.parentNode}});return r(R)},offset:function(U){var X,T,S;var R=0,W=0,V;if(!U){X=this[0];if(X){T=X.ownerDocument;S=T.documentElement;if(X.getBoundingClientRect){V=X.getBoundingClientRect();R=V.left+(S.scrollLeft||T.body.scrollLeft)-S.clientLeft;W=V.top+(S.scrollTop||T.body.scrollTop)-S.clientTop}}return{left:R,top:W}}return this.css(U)},push:v,sort:[].sort,splice:[].splice};n.extend(r,{extend:n.extend,makeArray:function(R){if(K(R)||R.nodeType){return[R]}return n.toArray(R)},inArray:I,isArray:n.isArray,each:s,trim:G,grep:w,find:q,expr:q.selectors,unique:q.uniqueSort,text:q.getText,contains:q.contains,filter:function(U,R,T){var S=R.length;if(T){U=":not("+U+")"}while(S--){if(R[S].nodeType!=1){R.splice(S,1)}}if(R.length===1){R=r.find.matchesSelector(R[0],U)?[R[0]]:[]}else{R=r.find.matches(U,R)}return R}});function D(S,V,U){var R=[],T=S[V];if(typeof U!="string"&&U instanceof r){U=U[0]}while(T&&T.nodeType!==9){if(U!==g){if(T===U){break}if(typeof U=="string"&&r(T).is(U)){break}}if(T.nodeType===1){R.push(T)}T=T[V]}return R}function J(U,T,S,V){var R=[];if(V instanceof r){V=V[0]}for(;U;U=U[T]){if(S&&U.nodeType!==S){continue}if(V!==g){if(U===V){break}if(typeof V=="string"&&r(U).is(V)){break}}R.push(U)}return R}function i(T,S,R){for(T=T[S];T;T=T[S]){if(T.nodeType==R){return T}}return null}s({parent:function(S){var R=S.parentNode;return R&&R.nodeType!==11?R:null},parents:function(R){return D(R,"parentNode")},next:function(R){return i(R,"nextSibling",1)},prev:function(R){return i(R,"previousSibling",1)},children:function(R){return J(R.firstChild,"nextSibling",1)},contents:function(R){return n.toArray((R.nodeName==="iframe"?R.contentDocument||R.contentWindow.document:R).childNodes)}},function(R,S){r.fn[R]=function(U){var V=this,T=[];V.each(function(){var W=S.call(T,this,U,T);if(W){if(r.isArray(W)){T.push.apply(T,W)}else{T.push(W)}}});if(this.length>1){if(!y[R]){T=r.unique(T)}if(R.indexOf("parents")===0){T=T.reverse()}}T=r(T);if(U){return T.filter(U)}return T}});s({parentsUntil:function(R,S){return D(R,"parentNode",S)},nextUntil:function(R,S){return J(R,"nextSibling",1,S).slice(1)},prevUntil:function(R,S){return J(R,"previousSibling",1,S).slice(1)}},function(R,S){r.fn[R]=function(U,W){var V=this,T=[];V.each(function(){var X=S.call(T,this,U,T);if(X){if(r.isArray(X)){T.push.apply(T,X)}else{T.push(X)}}});if(this.length>1){T=r.unique(T);if(R.indexOf("parents")===0||R==="prevUntil"){T=T.reverse()}}T=r(T);if(W){return T.filter(W)}return T}});r.fn.is=function(R){return !!R&&this.filter(R).length>0};r.fn.init.prototype=r.fn;r.overrideDefaults=function(T){var S;function R(U,V){S=S||T();if(arguments.length===0){U=S.element}if(!V){V=S.context}return new R.fn.init(U,V)}r.extend(R,this);return R};function u(T,S,R){s(R,function(U,V){T[U]=T[U]||{};T[U][S]=V})}if(o.ie&&o.ie<8){u(N,"get",{maxlength:function(S){var R=S.maxLength;if(R===2147483647){return p}return R},size:function(S){var R=S.size;if(R===20){return p}return R},"class":function(R){return R.className},style:function(S){var R=S.style.cssText;if(R.length===0){return p}return R}});u(N,"set",{"class":function(S,R){S.className=R},style:function(S,R){S.style.cssText=R}})}if(o.ie&&o.ie<9){m["float"]="styleFloat";u(O,"set",{opacity:function(T,S){var R=T.style;if(S===null||S===""){R.removeAttribute("filter")}else{R.zoom=1;R.filter="alpha(opacity="+(S*100)+")"}}})}r.attrHooks=N;r.cssHooks=O;return r});h("tinymce/html/Styles",[],function(){return function(o,p){var t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,q=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,v=/\s+$/,r,k={},s,n,j,u="\uFEFF";o=o||{};if(p){n=p.getValidStyles();j=p.getInvalidStyles()}s=("\\\" \\' \\; \\: ; : "+u).split(" ");for(r=0;r<s.length;r++){k[s[r]]=u+r;k[u+r]=s[r]}function m(w,z,y,i){function x(A){A=parseInt(A,10).toString(16);return A.length>1?A:"0"+A}return"#"+x(z)+x(y)+x(i)}return{toHex:function(i){return i.replace(t,m)},parse:function(B){var J={},z,w,G,A,E=o.url_converter;var I=o.url_converter_scope||this;function y(P,S,M){var R,N,L,Q;R=J[P+"-top"+S];if(!R){return}N=J[P+"-right"+S];if(!N){return}L=J[P+"-bottom"+S];if(!L){return}Q=J[P+"-left"+S];if(!Q){return}var O=[R,N,L,Q];r=O.length-1;while(r--){if(O[r]!==O[r+1]){break}}if(r>-1&&M){return}J[P+S]=r==-1?O[0]:O.join(" ");delete J[P+"-top"+S];delete J[P+"-right"+S];delete J[P+"-bottom"+S];delete J[P+"-left"+S]}function D(M){var N=J[M],L;if(!N){return}N=N.split(" ");L=N.length;while(L--){if(N[L]!==N[0]){return false}}J[M]=N[0];return true}function K(N,M,L,O){if(!D(M)){return}if(!D(L)){return}if(!D(O)){return}J[N]=J[M]+" "+J[L]+" "+J[O];delete J[M];delete J[L];delete J[O]}function C(L){A=true;return k[L]}function i(M,L){if(A){M=M.replace(/\uFEFF[0-9]/g,function(N){return k[N]})}if(!L){M=M.replace(/\\([\'\";:])/g,"$1")}return M}function H(L){return String.fromCharCode(parseInt(L.slice(1),16))}function F(L){return L.replace(/\\[0-9a-f]+/gi,H)}function x(M,L,P,O,R,N){R=R||N;if(R){R=i(R);return"'"+R.replace(/\'/g,"\\'")+"'"}L=i(L||P||O);if(!o.allow_script_urls){var Q=L.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Q)){return""}if(!o.allow_svg_data_urls&&/^data:image\/svg/i.test(Q)){return""}}if(E){L=E.call(I,L,"style")}return"url('"+L.replace(/\'/g,"\\'")+"')"}if(B){B=B.replace(/[\u0000-\u001F]/g,"");B=B.replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(L){return L.replace(/[;:]/g,C)});while((z=l.exec(B))){l.lastIndex=z.index+z[0].length;w=z[1].replace(v,"").toLowerCase();G=z[2].replace(v,"");if(w&&G){w=F(w);G=F(G);if(w.indexOf(u)!==-1||w.indexOf('"')!==-1){continue}if(!o.allow_script_urls&&(w=="behavior"||/expression\s*\(|\/\*|\*\//.test(G))){continue}if(w==="font-weight"&&G==="700"){G="bold"}else{if(w==="color"||w==="background-color"){G=G.toLowerCase()}}G=G.replace(t,m);G=G.replace(q,x);J[w]=A?i(G,true):G}}y("border","",true);y("border","-width");y("border","-color");y("border","-style");y("padding","");y("margin","");K("border","border-width","border-style","border-color");if(J.border==="medium none"){delete J.border}if(J["border-image"]==="none"){delete J["border-image"]}}return J},serialize:function(z,i){var y="",x,A;function w(D){var G,E,C,F;G=n[D];if(G){for(E=0,C=G.length;E<C;E++){D=G[E];F=z[D];if(F){y+=(y.length>0?" ":"")+D+": "+F+";"}}}}function B(D,C){var E;E=j["*"];if(E&&E[D]){return false}E=j[C];if(E&&E[D]){return false}return true}if(i&&n){w("*");w(i)}else{for(x in z){A=z[x];if(A&&(!j||B(x,i))){y+=(y.length>0?" ":"")+x+": "+A+";"}}}return y}}}});h("tinymce/dom/TreeWalker",[],function(){return function(j,i){var l=j;function m(r,n,o,s){var q,p;if(r){if(!s&&r[n]){return r[n]}if(r!=i){q=r[o];if(q){return q}for(p=r.parentNode;p&&p!=i;p=p.parentNode){q=p[o];if(q){return q}}}}}function k(r,n,o,s){var q,p,t;if(r){q=r[o];if(i&&q===i){return}if(q){if(!s){for(t=q[n];t;t=t[n]){if(!t[n]){return t}}}return q}p=r.parentNode;if(p&&p!==i){return p}}}this.current=function(){return l};this.next=function(n){l=m(l,"firstChild","nextSibling",n);return l};this.prev=function(n){l=m(l,"lastChild","previousSibling",n);return l};this.prev2=function(n){l=k(l,"lastChild","previousSibling",n);return l}}});h("tinymce/dom/Range",["tinymce/util/Tools"],function(i){function j(k){var o=this,m=k.doc,aa=0,M=1,s=2,L=true,Y=false,ac="startOffset",q="startContainer",W="endContainer",H="endOffset",t=i.extend,w=k.nodeIndex;function E(){return m.createDocumentFragment()}function z(ae,ad){J(L,ae,ad)}function B(ae,ad){J(Y,ae,ad)}function p(ad){z(ad.parentNode,w(ad))}function Q(ad){z(ad.parentNode,w(ad)+1)}function R(ad){B(ad.parentNode,w(ad))}function C(ad){B(ad.parentNode,w(ad)+1)}function I(ad){if(ad){o[W]=o[q];o[H]=o[ac]}else{o[q]=o[W];o[ac]=o[H]}o.collapsed=L}function F(ad){p(ad);C(ad)}function N(ad){z(ad,0);B(ad,ad.nodeType===1?ad.childNodes.length:ad.nodeValue.length)}function D(ah,ad){var ak=o[q],af=o[ac],aj=o[W],ae=o[H],ai=ad.startContainer,am=ad.startOffset,ag=ad.endContainer,al=ad.endOffset;if(ah===0){return O(ak,af,ai,am)}if(ah===1){return O(aj,ae,ai,am)}if(ah===2){return O(aj,ae,ag,al)}if(ah===3){return O(ak,af,ag,al)}}function y(){u(s)}function P(){return u(aa)}function l(){return u(M)}function K(ah){var ae=this[q],ad=this[ac],ag,af;if((ae.nodeType===3||ae.nodeType===4)&&ae.nodeValue){if(!ad){ae.parentNode.insertBefore(ah,ae)}else{if(ad>=ae.nodeValue.length){k.insertAfter(ah,ae)}else{ag=ae.splitText(ad);ae.parentNode.insertBefore(ah,ag)}}}else{if(ae.childNodes.length>0){af=ae.childNodes[ad]}if(af){ae.insertBefore(ah,af)}else{if(ae.nodeType==3){k.insertAfter(ah,ae)}else{ae.appendChild(ah)}}}}function U(ae){var ad=o.extractContents();o.insertNode(ae);ae.appendChild(ad);o.selectNode(ae)}function S(){return t(new j(k),{startContainer:o[q],startOffset:o[ac],endContainer:o[W],endOffset:o[H],collapsed:o.collapsed,commonAncestorContainer:o.commonAncestorContainer})}function V(ad,ae){var af;if(ad.nodeType==3){return ad}if(ae<0){return ad}af=ad.firstChild;while(af&&ae>0){--ae;af=af.nextSibling}if(af){return af}return ad}function v(){return(o[q]==o[W]&&o[ac]==o[H])}function O(ag,ai,ae,ah){var aj,af,ad,ak,am,al;if(ag==ae){if(ai==ah){return 0}if(ai<ah){return -1}return 1}aj=ae;while(aj&&aj.parentNode!=ag){aj=aj.parentNode}if(aj){af=0;ad=ag.firstChild;while(ad!=aj&&af<ai){af++;ad=ad.nextSibling}if(ai<=af){return -1}return 1}aj=ag;while(aj&&aj.parentNode!=ae){aj=aj.parentNode}if(aj){af=0;ad=ae.firstChild;while(ad!=aj&&af<ah){af++;ad=ad.nextSibling}if(af<ah){return -1}return 1}ak=k.findCommonAncestor(ag,ae);am=ag;while(am&&am.parentNode!=ak){am=am.parentNode}if(!am){am=ak}al=ae;while(al&&al.parentNode!=ak){al=al.parentNode}if(!al){al=ak}if(am==al){return 0}ad=ak.firstChild;while(ad){if(ad==am){return -1}if(ad==al){return 1}ad=ad.nextSibling}}function J(ae,ah,ag){var ad,af;if(ae){o[q]=ah;o[ac]=ag}else{o[W]=ah;o[H]=ag}ad=o[W];while(ad.parentNode){ad=ad.parentNode}af=o[q];while(af.parentNode){af=af.parentNode}if(af==ad){if(O(o[q],o[ac],o[W],o[H])>0){o.collapse(ae)}}else{o.collapse(ae)}o.collapsed=v();o.commonAncestorContainer=k.findCommonAncestor(o[q],o[W])}function u(ak){var aj,ag=0,am=0,ae,ai,af,ah,ad,al;if(o[q]==o[W]){return n(ak)}for(aj=o[W],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[q]){return A(aj,ak)}++ag}for(aj=o[q],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[W]){return ab(aj,ak)}++am}ai=am-ag;af=o[q];while(ai>0){af=af.parentNode;ai--}ah=o[W];while(ai<0){ah=ah.parentNode;ai++}for(ad=af.parentNode,al=ah.parentNode;ad!=al;ad=ad.parentNode,al=al.parentNode){af=ad;ah=al}return x(af,ah,ak)}function n(aj){var al,am,ad,af,ag,ak,ah,ae,ai;if(aj!=s){al=E()}if(o[ac]==o[H]){return al}if(o[q].nodeType==3){am=o[q].nodeValue;ad=am.substring(o[ac],o[H]);if(aj!=M){af=o[q];ae=o[ac];ai=o[H]-o[ac];if(ae===0&&ai>=af.nodeValue.length-1){af.parentNode.removeChild(af)}else{af.deleteData(ae,ai)}o.collapse(L)}if(aj==s){return}if(ad.length>0){al.appendChild(m.createTextNode(ad))}return al}af=V(o[q],o[ac]);ag=o[H]-o[ac];while(af&&ag>0){ak=af.nextSibling;ah=G(af,aj);if(al){al.appendChild(ah)}--ag;af=ak}if(aj!=M){o.collapse(L)}return al}function A(ak,ah){var aj,ai,ae,ad,ag,af;if(ah!=s){aj=E()}ai=r(ak,ah);if(aj){aj.appendChild(ai)}ae=w(ak);ad=ae-o[ac];if(ad<=0){if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}ai=ak.previousSibling;while(ad>0){ag=ai.previousSibling;af=G(ai,ah);if(aj){aj.insertBefore(af,aj.firstChild)}--ad;ai=ag}if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}function ab(ai,ah){var ak,ae,aj,ad,ag,af;if(ah!=s){ak=E()}aj=X(ai,ah);if(ak){ak.appendChild(aj)}ae=w(ai);++ae;ad=o[H]-ae;aj=ai.nextSibling;while(aj&&ad>0){ag=aj.nextSibling;af=G(aj,ah);if(ak){ak.appendChild(af)}--ad;aj=ag}if(ah!=M){o.setStartAfter(ai);o.collapse(L)}return ak}function x(ah,ad,ak){var ae,am,ai,aj,af,al,ag;if(ak!=s){am=E()}ae=X(ah,ak);if(am){am.appendChild(ae)}ai=w(ah);aj=w(ad);++ai;af=aj-ai;al=ah.nextSibling;while(af>0){ag=al.nextSibling;ae=G(al,ak);if(am){am.appendChild(ae)}al=ag;--af}ae=r(ad,ak);if(am){am.appendChild(ae)}if(ak!=M){o.setStartAfter(ah);o.collapse(L)}return am}function r(aj,ak){var af=V(o[W],o[H]-1),al,ai;var ah,ad,ae,ag=af!=o[W];if(af==aj){return T(af,ag,Y,ak)}al=af.parentNode;ai=T(al,Y,Y,ak);while(al){while(af){ah=af.previousSibling;ad=T(af,ag,Y,ak);if(ak!=s){ai.insertBefore(ad,ai.firstChild)}ag=L;af=ah}if(al==aj){return ai}af=al.previousSibling;al=al.parentNode;ae=T(al,Y,Y,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function X(aj,ak){var ag=V(o[q],o[ac]),ah=ag!=o[q];var al,ai,af,ad,ae;if(ag==aj){return T(ag,ah,L,ak)}al=ag.parentNode;ai=T(al,Y,L,ak);while(al){while(ag){af=ag.nextSibling;ad=T(ag,ah,L,ak);if(ak!=s){ai.appendChild(ad)}ah=L;ag=af}if(al==aj){return ai}ag=al.nextSibling;al=al.parentNode;ae=T(al,Y,L,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function T(ad,ah,ak,al){var ag,af,ai,ae,aj;if(ah){return G(ad,al)}if(ad.nodeType==3){ag=ad.nodeValue;if(ak){ae=o[ac];af=ag.substring(ae);ai=ag.substring(0,ae)}else{ae=o[H];af=ag.substring(0,ae);ai=ag.substring(ae)}if(al!=M){ad.nodeValue=ai}if(al==s){return}aj=k.clone(ad,Y);aj.nodeValue=af;return aj}if(al==s){return}return k.clone(ad,Y)}function G(ae,ad){if(ad!=s){return ad==M?k.clone(ae,L):ae}ae.parentNode.removeChild(ae)}function Z(){return k.create("body",null,l()).outerText}t(o,{startContainer:m,startOffset:0,endContainer:m,endOffset:0,collapsed:L,commonAncestorContainer:m,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:z,setEnd:B,setStartBefore:p,setStartAfter:Q,setEndBefore:R,setEndAfter:C,collapse:I,selectNode:F,selectNodeContents:N,compareBoundaryPoints:D,deleteContents:y,extractContents:P,cloneContents:l,insertNode:K,surroundContents:U,cloneRange:S,toStringIE:Z});return o}j.prototype.toString=function(){return this.toStringIE()};return j});h("tinymce/html/Entities",["tinymce/util/Tools"],function(l){var m=l.makeMap;var i,r,o,u=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q=/[<>&\"\']/g,n=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,t={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","\u0060":"&#96;"};o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function s(v){var w;w=document.createElement("div");w.innerHTML=v;return w.textContent||w.innerText||v}function p(w,z){var x,y,v,A={};if(w){w=w.split(",");z=z||10;for(x=0;x<w.length;x+=2){y=String.fromCharCode(parseInt(w[x],z));if(!r[y]){v="&"+w[x+1]+";";A[y]=v;A[v]=y}}return A}}i=p("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var k={encodeRaw:function(w,v){return w.replace(v?u:j,function(x){return r[x]||x})},encodeAllRaw:function(v){return(""+v).replace(q,function(w){return r[w]||w})},encodeNumeric:function(w,v){return w.replace(v?u:j,function(x){if(x.length>1){return"&#"+(((x.charCodeAt(0)-55296)*1024)+(x.charCodeAt(1)-56320)+65536)+";"}return r[x]||"&#"+x.charCodeAt(0)+";"})},encodeNamed:function(x,v,w){w=w||i;return x.replace(v?u:j,function(y){return r[y]||w[y]||y})},getEncodeFunc:function(v,y){y=p(y)||i;function w(A,z){return A.replace(z?u:j,function(B){return r[B]||y[B]||"&#"+B.charCodeAt(0)+";"||B})}function x(A,z){return k.encodeNamed(A,z,y)}v=m(v.replace(/\+/g,","));if(v.named&&v.numeric){return w}if(v.named){if(y){return x}return k.encodeNamed}if(v.numeric){return k.encodeNumeric}return k.encodeRaw},decode:function(v){return v.replace(n,function(x,w){if(w){if(w.charAt(0).toLowerCase()==="x"){w=parseInt(w.substr(1),16)}else{w=parseInt(w,10)}if(w>65535){w-=65536;return String.fromCharCode(55296+(w>>10),56320+(w&1023))}return t[w]||String.fromCharCode(w)}return o[x]||i[x]||s(x)})}};return k});h("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(i,j){return function(k,o){var l=0,n={},q;o=o||{};q=o.maxLoadTime||5000;function m(r){k.getElementsByTagName("head")[0].appendChild(r)}function p(t,x,B){var C,s,u,r;function y(){var F=r.passed,E=F.length;while(E--){F[E]()}r.status=2;r.passed=[];r.failed=[]}function A(){var F=r.failed,E=F.length;while(E--){F[E]()}r.status=3;r.passed=[];r.failed=[]}function D(){var E=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(E&&E[1]<536)}function z(E,F){if(!E()){if((new Date().getTime())-u<q){j.setTimeout(F)}else{A()}}}function v(){z(function(){var G=k.styleSheets,H,F=G.length,E;while(F--){H=G[F];E=H.ownerNode?H.ownerNode:H.owningElement;if(E&&E.id===C.id){y();return true}}},v)}function w(){z(function(){try{var E=s.sheet.cssRules;y();return !!E}catch(F){}},w)}t=i._addCacheSuffix(t);if(!n[t]){r={passed:[],failed:[]};n[t]=r}else{r=n[t]}if(x){r.passed.push(x)}if(B){r.failed.push(B)}if(r.status==1){return}if(r.status==2){y();return}if(r.status==3){A();return}r.status=1;C=k.createElement("link");C.rel="stylesheet";C.type="text/css";C.id="u"+(l++);C.async=false;C.defer=false;u=new Date().getTime();if("onload" in C&&!D()){C.onload=v;C.onerror=A}else{if(navigator.userAgent.indexOf("Firefox")>0){s=k.createElement("style");s.textContent='@import "'+t+'"';w();m(s);return}v()}m(C);C.href=t}this.load=p}});h("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(k,o,r,n,p,B,l,j,i,v){var m=i.each,q=i.is,t=i.grep,x=i.trim;var w=j.ie;var u=/^([a-z0-9],?)+$/i;var C=/^[ \t\r\n]*$/;function z(E,G){var F={},D=G.keep_values,H;H={set:function(I,K,J){if(G.url_converter){K=G.url_converter.call(G.url_converter_scope||E,K,J,I[0])}I.attr("data-mce-"+J,K).attr(J,K)},get:function(I,J){return I.attr("data-mce-"+J)||I.attr(J)}};F={style:{set:function(I,J){if(J!==null&&typeof J==="object"){I.css(J);return}if(D){I.attr("data-mce-style",J)}I.attr("style",J)},get:function(I){var J=I.attr("data-mce-style")||I.attr("style");J=E.serializeStyle(E.parseStyle(J),I[0].nodeName);return J}}};if(D){F.href=F.src=H}return F}function s(D,E){var F=E.attr("style");F=D.serializeStyle(D.parseStyle(F),E[0].nodeName);if(!F){F=null}E.attr("data-mce-style",F)}function y(G,H){var D=0,F,E;if(G){for(F=G.nodeType,G=G.previousSibling;G;G=G.previousSibling){E=G.nodeType;if(H&&E==3){if(E==F||!G.nodeValue.length){continue}}D++;F=E}}return D}function A(G,E){var D=this,F;D.doc=G;D.win=window;D.files={};D.counter=0;D.stdMode=!w||G.documentMode>=8;D.boxModel=!w||G.compatMode=="CSS1Compat"||D.stdMode;D.styleSheetLoader=new v(G);D.boundEvents=[];D.settings=E=E||{};D.schema=E.schema;D.styles=new r({url_converter:E.url_converter,url_converter_scope:E.url_converter_scope},E.schema);D.fixDoc(G);D.events=E.ownEvents?new n(E.proxy):n.Event;D.attrHooks=z(D,E);F=E.schema?E.schema.getBlockElements():{};D.$=o.overrideDefaults(function(){return{context:G,element:D.getRoot()}});D.isBlock=function(I){if(!I){return false}var H=I.nodeType;if(H){return !!(H===1&&F[I.nodeName])}return !!F[I]}}A.prototype={$$:function(D){if(typeof D=="string"){D=this.get(D)}return this.$(D)},root:null,fixDoc:function(F){var E=this.settings,D;if(w&&E.schema){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(G){F.createElement(G)});for(D in E.schema.getCustomElements()){F.createElement(D)}}},clone:function(F,D){var E=this,H,G;if(!w||F.nodeType!==1||D){return F.cloneNode(D)}G=E.doc;if(!D){H=G.createElement(F.nodeName);m(E.getAttribs(F),function(I){E.setAttrib(H,I.nodeName,E.getAttrib(F,I.nodeName))});return H}return H.firstChild},getRoot:function(){var D=this;return D.settings.root_element||D.doc.body},getViewPort:function(E){var D,F;E=!E?this.win:E;D=E.document;F=this.boxModel?D.documentElement:D.body;return{x:E.pageXOffset||F.scrollLeft,y:E.pageYOffset||F.scrollTop,w:E.innerWidth||F.clientWidth,h:E.innerHeight||F.clientHeight}},getRect:function(G){var D=this,F,E;G=D.get(G);F=D.getPos(G);E=D.getSize(G);return{x:F.x,y:F.y,w:E.w,h:E.h}},getSize:function(G){var E=this,D,F;G=E.get(G);D=E.getStyle(G,"width");F=E.getStyle(G,"height");if(D.indexOf("px")===-1){D=0}if(F.indexOf("px")===-1){F=0}return{w:parseInt(D,10)||G.offsetWidth||G.clientWidth,h:parseInt(F,10)||G.offsetHeight||G.clientHeight}},getParent:function(F,D,E){return this.getParents(F,D,E,false)},getParents:function(I,E,F,J){var H=this,G,D=[];I=H.get(I);J=J===g;F=F||(H.getRoot().nodeName!="BODY"?H.getRoot().parentNode:null);if(q(E,"string")){G=E;if(E==="*"){E=function(K){return K.nodeType==1}}else{E=function(K){return H.is(K,G)}}}while(I){if(I==F||!I.nodeType||I.nodeType===9){break}if(!E||E(I)){if(J){D.push(I)}else{return I}}I=I.parentNode}return J?D:null},get:function(E){var D;if(E&&this.doc&&typeof E=="string"){D=E;E=this.doc.getElementById(E);if(E&&E.id!==D){return this.doc.getElementsByName(D)[1]}}return E},getNext:function(E,D){return this._findSib(E,D,"nextSibling")},getPrev:function(E,D){return this._findSib(E,D,"previousSibling")},select:function(D,F){var E=this;return k(D,E.get(F)||E.settings.root_element||E.doc,[])},is:function(G,D){var E;if(G.length===g){if(D==="*"){return G.nodeType==1}if(u.test(D)){D=D.toLowerCase().split(/,/);G=G.nodeName.toLowerCase();for(E=D.length-1;E>=0;E--){if(D[E]==G){return true}}return false}}if(G.nodeType&&G.nodeType!=1){return false}var F=G.nodeType?[G]:G;return k(D,F[0].ownerDocument||F[0],null,F).length>0},add:function(I,F,E,H,G){var D=this;return this.run(I,function(K){var J;J=q(F,"string")?D.doc.createElement(F):F;D.setAttribs(J,E);if(H){if(H.nodeType){J.appendChild(H)}else{D.setHTML(J,H)}}return !G?K.appendChild(J):J})},create:function(E,D,F){return this.add(this.doc.createElement(E),E,D,F,1)},createHTML:function(E,D,G){var H="",F;H+="<"+E;for(F in D){if(D.hasOwnProperty(F)&&D[F]!==null&&typeof D[F]!="undefined"){H+=" "+F+'="'+this.encode(D[F])+'"'}}if(typeof G!="undefined"){return H+">"+G+"</"+E+">"}return H+" />"},createFragment:function(E){var H,F,G=this.doc,D;D=G.createElement("div");H=G.createDocumentFragment();if(E){D.innerHTML=E}while((F=D.firstChild)){H.appendChild(F)}return H},remove:function(D,E){D=this.$$(D);if(E){D.each(function(){var F;while((F=this.firstChild)){if(F.nodeType==3&&F.data.length===0){this.removeChild(F)}else{this.parentNode.insertBefore(F,this)}}}).remove()}else{D.remove()}return D.length>1?D.toArray():D[0]},setStyle:function(F,D,E){F=this.$$(F).css(D,E);if(this.settings.update_styles){s(this,F)}},getStyle:function(F,D,E){F=this.$$(F);if(E){return F.css(D)}D=D.replace(/-(\D)/g,function(H,G){return G.toUpperCase()});if(D=="float"){D=j.ie&&j.ie<12?"styleFloat":"cssFloat"}return F[0]&&F[0].style?F[0].style[D]:g},setStyles:function(E,D){E=this.$$(E).css(D);if(this.settings.update_styles){s(this,E)}},removeAllAttribs:function(D){return this.run(D,function(G){var F,E=G.attributes;for(F=E.length-1;F>=0;F--){G.removeAttributeNode(E.item(F))}})},setAttrib:function(J,F,I){var E=this,D,H,G=E.settings;if(I===""){I=null}J=E.$$(J);D=J.attr(F);if(!J.length){return}H=E.attrHooks[F];if(H&&H.set){H.set(J,I,F)}else{J.attr(F,I)}if(D!=I&&G.onSetAttrib){G.onSetAttrib({attrElm:J,attrName:F,attrValue:I})}},setAttribs:function(F,E){var D=this;D.$$(F).each(function(G,H){m(E,function(J,I){D.setAttrib(H,I,J)})})},getAttrib:function(I,E,H){var D=this,G,F;I=D.$$(I);if(I.length){G=D.attrHooks[E];if(G&&G.get){F=G.get(I,E)}else{F=I.attr(E)}}if(typeof F=="undefined"){F=H||""}return F},getPos:function(F,G){var L=this,J=0,I=0,D,K=L.doc,E=K.body,H;F=L.get(F);G=G||E;if(F){if(G===E&&F.getBoundingClientRect&&o(E).css("position")==="static"){H=F.getBoundingClientRect();G=L.boxModel?K.documentElement:E;J=H.left+(K.documentElement.scrollLeft||E.scrollLeft)-G.clientLeft;I=H.top+(K.documentElement.scrollTop||E.scrollTop)-G.clientTop;return{x:J,y:I}}D=F;while(D&&D!=G&&D.nodeType){J+=D.offsetLeft||0;I+=D.offsetTop||0;D=D.offsetParent}D=F.parentNode;while(D&&D!=G&&D.nodeType){J-=D.scrollLeft||0;I-=D.scrollTop||0;D=D.parentNode}}return{x:J,y:I}},parseStyle:function(D){return this.styles.parse(D)},serializeStyle:function(E,D){return this.styles.serialize(E,D)},addStyle:function(G){var E=this,H=E.doc,F,I;if(E!==A.DOM&&H===document){var D=A.DOM.addedStyles;D=D||[];if(D[G]){return}D[G]=true;A.DOM.addedStyles=D}I=H.getElementById("mceDefaultStyles");if(!I){I=H.createElement("style");I.id="mceDefaultStyles";I.type="text/css";F=H.getElementsByTagName("head")[0];if(F.firstChild){F.insertBefore(I,F.firstChild)}else{F.appendChild(I)}}if(I.styleSheet){I.styleSheet.cssText+=G}else{I.appendChild(H.createTextNode(G))}},loadCSS:function(E){var D=this,G=D.doc,F;if(D!==A.DOM&&G===document){A.DOM.loadCSS(E);return}if(!E){E=""}F=G.getElementsByTagName("head")[0];m(E.split(","),function(H){var I;H=i._addCacheSuffix(H);if(D.files[H]){return}D.files[H]=true;I=D.create("link",{rel:"stylesheet",href:H});if(w&&G.documentMode&&G.recalc){I.onload=function(){if(G.recalc){G.recalc()}I.onload=null}}F.appendChild(I)})},addClass:function(E,D){this.$$(E).addClass(D)},removeClass:function(E,D){this.toggleClass(E,D,false)},hasClass:function(E,D){return this.$$(E).hasClass(D)},toggleClass:function(F,D,E){this.$$(F).toggleClass(D,E).each(function(){if(this.className===""){o(this).attr("class",null)}})},show:function(D){this.$$(D).show()},hide:function(D){this.$$(D).hide()},isHidden:function(D){return this.$$(D).css("display")=="none"},uniqueId:function(D){return(!D?"mce_":D)+(this.counter++)},setHTML:function(E,D){E=this.$$(E);if(w){E.each(function(G,H){if(H.canHaveHTML===false){return}while(H.firstChild){H.removeChild(H.firstChild)}try{H.innerHTML="<br>"+D;H.removeChild(H.firstChild)}catch(F){o("<div></div>").html("<br>"+D).contents().slice(1).appendTo(H)}return D})}else{E.html(D)}},getOuterHTML:function(D){D=this.get(D);return D.nodeType==1&&"outerHTML" in D?D.outerHTML:o("<div></div>").append(o(D).clone()).html()},setOuterHTML:function(F,E){var D=this;D.$$(F).each(function(){try{if("outerHTML" in this){this.outerHTML=E;return}}catch(G){}D.remove(o(this).html(E),true)})},decode:l.decode,encode:l.encodeAllRaw,insertAfter:function(E,D){D=this.get(D);return this.run(E,function(G){var F,H;F=D.parentNode;H=D.nextSibling;if(H){F.insertBefore(G,H)}else{F.appendChild(G)}return G})},replace:function(F,E,G){var D=this;return D.run(E,function(H){if(q(H,"array")){F=F.cloneNode(true)}if(G){m(t(H.childNodes),function(I){F.appendChild(I)})}return H.parentNode.replaceChild(F,H)})},rename:function(G,E){var D=this,F;if(G.nodeName!=E.toUpperCase()){F=D.create(E);m(D.getAttribs(G),function(H){D.setAttrib(F,H.nodeName,D.getAttrib(G,H.nodeName))});D.replace(F,G,1)}return F||G},findCommonAncestor:function(F,D){var G=F,E;while(G){E=D;while(E&&G!=E){E=E.parentNode}if(G==E){break}G=G.parentNode}if(!G&&F.ownerDocument){return F.ownerDocument.documentElement}return G},toHex:function(D){return this.styles.toHex(i.trim(D))},run:function(H,G,F){var E=this,D;if(typeof H==="string"){H=E.get(H)}if(!H){return false}F=F||this;if(!H.nodeType&&(H.length||H.length===0)){D=[];m(H,function(J,I){if(J){if(typeof J=="string"){J=E.get(J)}D.push(G.call(F,J,I))}});return D}return G.call(F,H)},getAttribs:function(F){var D;F=this.get(F);if(!F){return[]}if(w){D=[];if(F.nodeName=="OBJECT"){return F.attributes}if(F.nodeName==="OPTION"&&this.getAttrib(F,"selected")){D.push({specified:1,nodeName:"selected"})}var E=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;F.cloneNode(false).outerHTML.replace(E,"").replace(/[\w:\-]+/gi,function(G){D.push({specified:1,nodeName:G})});return D}return F.attributes},isEmpty:function(I,E){var N=this,K,J,M,G,D,F,L=0;I=I.firstChild;if(I){D=new p(I,I.parentNode);E=E||(N.schema?N.schema.getNonEmptyElements():null);G=N.schema?N.schema.getWhiteSpaceElements():{};do{M=I.nodeType;if(M===1){var H=I.getAttribute("data-mce-bogus");if(H){I=D.next(H==="all");continue}F=I.nodeName.toLowerCase();if(E&&E[F]){if(F==="br"){L++;I=D.next();continue}return false}J=N.getAttribs(I);K=J.length;while(K--){F=J[K].nodeName;if(F==="name"||F==="data-mce-bookmark"){return false}}}if(M==8){return false}if(M===3&&!C.test(I.nodeValue)){return false}if(M===3&&I.parentNode&&G[I.parentNode.nodeName]&&C.test(I.nodeValue)){return false}I=D.next()}while(I)}return L<=1},createRng:function(){var D=this.doc;return D.createRange?D.createRange():new B(this)},nodeIndex:y,split:function(H,I,E){var L=this,D=L.createRng(),J,G,K;function F(Q){var O,N=Q.childNodes,P=Q.nodeType;function R(U){var T=U.previousSibling&&U.previousSibling.nodeName=="SPAN";var S=U.nextSibling&&U.nextSibling.nodeName=="SPAN";return T&&S}if(P==1&&Q.getAttribute("data-mce-type")=="bookmark"){return}for(O=N.length-1;O>=0;O--){F(N[O])}if(P!=9){if(P==3&&Q.nodeValue.length>0){var M=x(Q.nodeValue).length;if(L.isBlock(Q.parentNode)||M>0||M===0&&R(Q)){return}if(!L.isBlock(Q.parentNode)||M>0||M===0&&R(Q)){return}}else{if(P==1){N=Q.childNodes;if(N.length==1&&N[0]&&N[0].nodeType==1&&N[0].getAttribute("data-mce-type")=="bookmark"){Q.parentNode.insertBefore(N[0],Q)}if(N.length||/^(br|hr|input|img)$/i.test(Q.nodeName)){return}}}L.remove(Q)}return Q}if(H&&I){D.setStart(H.parentNode,L.nodeIndex(H));D.setEnd(I.parentNode,L.nodeIndex(I));J=D.extractContents();D=L.createRng();D.setStart(I.parentNode,L.nodeIndex(I)+1);D.setEnd(H.parentNode,L.nodeIndex(H)+1);G=D.extractContents();K=H.parentNode;K.insertBefore(F(J),H);if(E){K.insertBefore(E,H)}else{K.insertBefore(I,H)}K.insertBefore(F(G),H);L.remove(H);return E||I}},bind:function(I,E,H,G){var D=this;if(i.isArray(I)){var F=I.length;while(F--){I[F]=D.bind(I[F],E,H,G)}return I}if(D.settings.collect&&(I===D.doc||I===D.win)){D.boundEvents.push([I,E,H,G])}return D.events.bind(I,E,H,G||D)},unbind:function(I,E,H){var D=this,F;if(i.isArray(I)){F=I.length;while(F--){I[F]=D.unbind(I[F],E,H)}return I}if(D.boundEvents&&(I===D.doc||I===D.win)){F=D.boundEvents.length;while(F--){var G=D.boundEvents[F];if(I==G[0]&&(!E||E==G[1])&&(!H||H==G[2])){this.events.unbind(G[0],G[1],G[2])}}}return this.events.unbind(I,E,H)},fire:function(F,E,D){return this.events.fire(F,E,D)},getContentEditable:function(E){var D;if(!E||E.nodeType!=1){return null}D=E.getAttribute("data-mce-contenteditable");if(D&&D!=="inherit"){return D}return E.contentEditable!=="inherit"?E.contentEditable:null},getContentEditableParent:function(E){var D=this.getRoot(),F=null;for(;E&&E!==D;E=E.parentNode){F=this.getContentEditable(E);if(F!==null){break}}return F},destroy:function(){var D=this;if(D.boundEvents){var E=D.boundEvents.length;while(E--){var F=D.boundEvents[E];this.events.unbind(F[0],F[1],F[2])}D.boundEvents=null}if(k.setDocument){k.setDocument()}D.win=D.doc=D.root=D.events=D.frag=null},isChildOf:function(E,D){while(E){if(D===E){return true}E=E.parentNode}return false},dumpRng:function(D){return("startContainer: "+D.startContainer.nodeName+", startOffset: "+D.startOffset+", endContainer: "+D.endContainer.nodeName+", endOffset: "+D.endOffset)},_findSib:function(H,D,F){var E=this,G=D;if(H){if(typeof G=="string"){G=function(I){return E.is(I,D)}}for(H=H[F];H;H=H[F]){if(G(H)){return H}}}return null}};A.DOM=new A(document);A.nodeIndex=y;return A});h("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(m,i){var k=m.DOM;var l=i.each,j=i.grep;var o=function(p){return typeof p==="function"};function n(){var q=0,y=1,w=2,r=3,z={},x=[],t={},s=[],v=0,u;function p(A,I,C,J){var E=k,F,B;var H;H="?"+Ext.urlEncode({v:SYNO.SDS.Session.fullversion,pkg:J});function D(){E.remove(B);if(F){F.onreadystatechange=F.onload=F=null}I()}function G(){if(o(C)){C()}else{if(typeof console!=="undefined"&&console.log){console.log("Failed to load script: "+A)}}}B=E.uniqueId();F=document.createElement("script");F.id=B;F.type="text/javascript";F.src=i._addCacheSuffix(A+H);if("onreadystatechange" in F){F.onreadystatechange=function(){if(/loaded|complete/.test(F.readyState)){D()}}}else{F.onload=D}F.onerror=G;(document.getElementsByTagName("head")[0]||document.body).appendChild(F)}this.isDone=function(A){return z[A]==w};this.markDone=function(A){z[A]=w};this.markUndefined=function(A){z[A]=g};this.add=this.load=function(B,E,C,A){var D=z[B];if(D==u){x.push(B);z[B]=q}if(E){if(!t[B]){t[B]=[]}t[B].push({success:E,failure:A,scope:C||this})}};this.remove=function(A){delete z[A];delete t[A]};this.loadQueue=function(D,B,A,C){this.loadScripts(x,D,B,A,C)};this.loadScripts=function(A,H,F,D,G){var C,E=[];function B(J,I){l(t[I],function(K){if(o(K[J])){K[J].call(K.scope)}});t[I]=u}s.push({success:H,failure:D,scope:F||this});C=function(){var I=j(A);A.length=0;l(I,function(J){if(z[J]===w){B("success",J);return}if(z[J]===r){B("failure",J);return}if(z[J]!==y){z[J]=y;v++;p(J,function(){z[J]=w;v--;B("success",J);C()},function(){z[J]=r;v--;E.push(J);B("failure",J);C()},G)}});if(!v){l(s,function(J){if(E.length===0){if(o(J.success)){J.success.call(J.scope)}}else{if(o(J.failure)){J.failure.call(J.scope,E)}}});s.length=0}};C()}}n.ScriptLoader=new n();return n});h("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(l,i){var k=i.each;function j(){var m=this;m.items=[];m.urls={};m.lookup={}}j.prototype={get:function(m){if(this.lookup[m]){return this.lookup[m].instance}return g},dependencies:function(n){var m;if(this.lookup[n]){m=this.lookup[n].dependencies}return m||[]},requireLangPack:function(m,n){var o=j.language;if(o&&j.languageLoad!==false){if(n){n=","+n+",";if(n.indexOf(","+o.substr(0,2)+",")!=-1){o=o.substr(0,2)}else{if(n.indexOf(","+o+",")==-1){return}}}l.ScriptLoader.add(this.urls[m]+"/langs/"+o+".js")}},add:function(o,m,n){this.items.push(m);this.lookup[o]={instance:m,dependencies:n};return m},remove:function(m){delete this.urls[m];delete this.lookup[m]},createUrl:function(m,n){if(typeof n==="object"){return n}return{prefix:m.prefix,resource:n,suffix:m.suffix}},addComponents:function(o,m){var n=this.urls[o];k(m,function(p){l.ScriptLoader.add(n+"/"+p)})},load:function(n,m,s,t,p,r){var u=this,o=m;function q(){var v=u.dependencies(n);k(v,function(x){var w=u.createUrl(m,x);u.load(w.resource,w,g,g)});if(s){if(t){s.call(t)}else{s.call(l)}}}if(r){u.urls[n]=g;u.lookup[n]=g}if(u.urls[n]){return}if(typeof m==="object"){o=m.prefix+m.resource+m.suffix}if(o.indexOf("/")!==0&&o.indexOf("://")==-1){o=j.baseURL+"/"+o}if(r){l.ScriptLoader.markUndefined(o)}u.urls[n]=o.substring(0,o.lastIndexOf("/"));if(u.lookup[n]){q()}else{l.ScriptLoader.add(o,q,t,p)}}};j.PluginManager=new j();j.ThemeManager=new j();return j});h("tinymce/dom/NodeType",[],function(){function p(q){return function(r){return !!r&&r.nodeType==q}}var j=p(1);function i(q){q=q.toLowerCase().split(" ");return function(t){var s,r;if(t&&t.nodeType){r=t.nodeName.toLowerCase();for(s=0;s<q.length;s++){if(r===q[s]){return true}}}return false}}function o(r,q){q=q.toLowerCase().split(" ");return function(u){var t,s;if(j(u)){for(t=0;t<q.length;t++){s=getComputedStyle(u,null).getPropertyValue(r);if(s===q[t]){return true}}}return false}}function n(q,r){return function(s){return j(s)&&s[q]===r}}function l(q,r){return function(s){return j(s)&&s.getAttribute(q)===r}}function k(q){return j(q)&&q.hasAttribute("data-mce-bogus")}function m(q){return function(r){if(j(r)){if(r.contentEditable===q){return true}if(r.getAttribute("data-mce-contenteditable")===q){return true}}return false}}return{isText:p(3),isElement:j,isComment:p(8),isBr:i("br"),isContentEditableTrue:m("true"),isContentEditableFalse:m("false"),matchNodeNames:i,hasPropValue:n,hasAttributeValue:l,matchStyleValues:o,isBogus:k}});h("tinymce/text/Zwsp",[],function(){var k="\uFEFF";function j(l){return l==k}function i(l){return l.replace(new RegExp(k,"g"),"")}return{isZwsp:j,ZWSP:k,trim:i}});h("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(k,A){var r=k.isElement,q=k.isText;function m(B){if(q(B)){B=B.parentNode}return r(B)&&B.hasAttribute("data-mce-caret")}function v(B){return q(B)&&A.isZwsp(B.data)}function j(B){return m(B)||v(B)}function s(C){var B=C.parentNode;if(B){B.removeChild(C)}}function n(C){try{return C.nodeValue}catch(B){return""}}function o(B,C){if(C.length===0){s(B)}else{B.nodeValue=C}}function u(D,E){var F,C,G,B;F=D.ownerDocument;G=F.createTextNode(A.ZWSP);B=D.parentNode;if(!E){C=D.nextSibling;if(q(C)){if(j(C)){return C}if(i(C)){C.splitText(1);return C}}if(D.nextSibling){B.insertBefore(G,D.nextSibling)}else{B.appendChild(G)}}else{C=D.previousSibling;if(q(C)){if(j(C)){return C}if(p(C)){return C.splitText(C.data.length-1)}}B.insertBefore(G,D)}return G}function x(){var B=document.createElement("br");B.setAttribute("data-mce-bogus","1");return B}function z(C,E,F){var G,D,B;G=E.ownerDocument;D=G.createElement(C);D.setAttribute("data-mce-caret",F?"before":"after");D.setAttribute("data-mce-bogus","all");D.appendChild(x());B=E.parentNode;if(!F){if(E.nextSibling){B.insertBefore(D,E.nextSibling)}else{B.appendChild(D)}}else{B.insertBefore(D,E)}return D}function w(B){return B.firstChild!==B.lastChild||!k.isBr(B.firstChild)}function y(B){if(r(B)&&j(B)){if(w(B)){B.removeAttribute("data-mce-caret")}else{s(B)}}if(q(B)){var C=A.trim(n(B));o(B,C)}}function i(B){return q(B)&&B.data[0]==A.ZWSP}function p(B){return q(B)&&B.data[B.data.length-1]==A.ZWSP}function t(D){var C=D.getElementsByTagName("br");var B=C[C.length-1];if(k.isBogus(B)){B.parentNode.removeChild(B)}}function l(B){if(B&&B.hasAttribute("data-mce-caret")){t(B);B.removeAttribute("data-mce-caret");B.removeAttribute("data-mce-bogus");B.removeAttribute("style");B.removeAttribute("_moz_abspos");return B}return null}return{isCaretContainer:j,isCaretContainerBlock:m,isCaretContainerInline:v,showCaretContainerBlock:l,insertInline:u,insertBlock:z,hasContent:w,remove:y,startsWithCaretContainer:i,endsWithCaretContainer:p}});h("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(m,q,r,w,t){var o=m.each,u=r.isContentEditableTrue,v=r.isContentEditableFalse,p=t.isCaretContainer;function i(A){return u(A)||v(A)}function l(A,B){var C=A.childNodes;B--;if(B>C.length-1){B=C.length-1}else{if(B<0){B=0}}return C[B]||A}function j(C,B,A){while(C&&C!==B){if(A(C)){return C}C=C.parentNode}return null}function x(C,B,A){return j(C,B,A)!==null}function s(A){return A.id==="_mce_caret"}function k(B,A){return p(B)&&x(B,A,s)===false}function z(A){this.walk=function(B,Q){var G=B.startContainer,J=B.startOffset,R=B.endContainer,K=B.endOffset,H,E,M,F,P,O,C;C=A.select("td[data-mce-selected],th[data-mce-selected]");if(C.length>0){o(C,function(S){Q([S])});return}function D(S){var T;T=S[0];if(T.nodeType===3&&T===G&&J>=T.nodeValue.length){S.splice(0,1)}T=S[S.length-1];if(K===0&&S.length>0&&T===R&&T.nodeType===3){S.splice(S.length-1,1)}return S}function N(U,T,S){var V=[];for(;U&&U!=S;U=U[T]){V.push(U)}return V}function L(T,S){do{if(T.parentNode==S){return T}T=T.parentNode}while(T)}function I(U,T,V){var S=V?"nextSibling":"previousSibling";for(F=U,P=F.parentNode;F&&F!=T;F=P){P=F.parentNode;O=N(F==U?F:F[S],S);if(O.length){if(!V){O.reverse()}Q(D(O))}}}if(G.nodeType==1&&G.hasChildNodes()){G=G.childNodes[J]}if(R.nodeType==1&&R.hasChildNodes()){R=l(R,K)}if(G==R){return Q(D([G]))}H=A.findCommonAncestor(G,R);for(F=G;F;F=F.parentNode){if(F===R){return I(G,H,true)}if(F===H){break}}for(F=R;F;F=F.parentNode){if(F===G){return I(R,H)}if(F===H){break}}E=L(G,H)||G;M=L(R,H)||R;I(G,E,true);O=N(E==G?E:E.nextSibling,"nextSibling",M==R?M.nextSibling:M);if(O.length){Q(D(O))}I(R,M)};this.split=function(C){var F=C.startContainer,B=C.startOffset,G=C.endContainer,E=C.endOffset;function D(H,I){return H.splitText(I)}if(F==G&&F.nodeType==3){if(B>0&&B<F.nodeValue.length){G=D(F,B);F=G.previousSibling;if(E>B){E=E-B;F=G=D(G,E).previousSibling;E=G.nodeValue.length;B=0}else{E=0}}}else{if(F.nodeType==3&&B>0&&B<F.nodeValue.length){F=D(F,B);B=0}if(G.nodeType==3&&E>0&&E<G.nodeValue.length){G=D(G,E).previousSibling;E=G.nodeValue.length}}return{startContainer:F,startOffset:B,endContainer:G,endOffset:E}};this.normalize=function(B){var E,D;function C(I){var H,M,F,O=A.getRoot(),J,N;var Q,K;function L(T){return T&&/^(TD|TH|CAPTION)$/.test(T.nodeName)}function S(T,U){var V=new q(T,A.getParent(T.parentNode,A.isBlock)||O);while((T=V[U?"prev":"next"]())){if(T.nodeName==="BR"){return true}}}function G(T){while(T&&T!=O){if(v(T)){return true}T=T.parentNode}return false}function P(U,T){return U.previousSibling&&U.previousSibling.nodeName==T}function R(W,T){var X,U,V;T=T||H;V=A.getParent(T.parentNode,A.isBlock)||O;if(W&&T.nodeName=="BR"&&K&&A.isEmpty(V)){H=T.parentNode;M=A.nodeIndex(T);E=true;return}X=new q(T,V);while((J=X[W?"prev":"next"]())){if(A.getContentEditableParent(J)==="false"||k(J,A.getRoot())){return}if(J.nodeType===3&&J.nodeValue.length>0){H=J;M=W?J.nodeValue.length:0;E=true;return}if(A.isBlock(J)||N[J.nodeName.toLowerCase()]){return}U=J}if(D&&U){H=U;E=true;M=0}}H=B[(I?"start":"end")+"Container"];M=B[(I?"start":"end")+"Offset"];K=H.nodeType==1&&M===H.childNodes.length;N=A.schema.getNonEmptyElements();Q=I;if(p(H)){return}if(H.nodeType==1&&M>H.childNodes.length-1){Q=false}if(H.nodeType===9){H=A.getRoot();M=0}if(H===O){if(Q){J=H.childNodes[M>0?M-1:0];if(J){if(p(J)){return}if(N[J.nodeName]||J.nodeName=="TABLE"){return}}}if(H.hasChildNodes()){M=Math.min(!Q&&M>0?M-1:M,H.childNodes.length-1);H=H.childNodes[M];M=0;if(!D&&H===O.lastChild&&H.nodeName==="TABLE"){return}if(G(H)||p(H)){return}if(H.hasChildNodes()&&!/TABLE/.test(H.nodeName)){J=H;F=new q(H,O);do{if(v(J)||p(J)){E=false;break}if(J.nodeType===3&&J.nodeValue.length>0){M=Q?0:J.nodeValue.length;H=J;E=true;break}if(N[J.nodeName.toLowerCase()]&&!L(J)){M=A.nodeIndex(J);H=J.parentNode;if(J.nodeName=="IMG"&&!Q){M++}E=true;break}}while((J=(Q?F.next():F.prev())))}}}if(D){if(H.nodeType===3&&M===0){R(true)}if(H.nodeType===1){J=H.childNodes[M];if(!J){J=H.childNodes[M-1]}if(J&&J.nodeName==="BR"&&!P(J,"A")&&!S(J)&&!S(J,true)){R(true,J)}}}if(Q&&!D&&H.nodeType===3&&M===H.nodeValue.length){R(false)}if(E){B["set"+(I?"Start":"End")](H,M)}}D=B.collapsed;C(true);if(!D){C()}if(E&&D){B.collapse(true)}return E}}z.compareRanges=function(B,A){if(B&&A){if(B.item||B.duplicate){if(B.item&&A.item&&B.item(0)===A.item(0)){return true}if(B.isEqual&&A.isEqual&&A.isEqual(B)){return true}}else{return B.startContainer==A.startContainer&&B.startOffset==A.startOffset}}return false};function n(F,E,G){var D,A,B;D=G.elementFromPoint(F,E);A=G.body.createTextRange();if(!D||D.tagName=="HTML"){D=G.body}A.moveToElementText(D);B=m.toArray(A.getClientRects());B=B.sort(function(I,H){I=Math.abs(Math.max(I.top-E,I.bottom-E));H=Math.abs(Math.max(H.top-E,H.bottom-E));return I-H});if(B.length>0){E=(B[0].bottom+B[0].top)/2;try{A.moveToPoint(F,E);A.collapse(true);return A}catch(C){}}return null}function y(B,C){var A=B&&B.parentElement?B.parentElement():null;return v(j(A,C,i))?null:B}z.getCaretRangeFromPoint=function(E,D,F){var B,A;if(F.caretPositionFromPoint){A=F.caretPositionFromPoint(E,D);B=F.createRange();B.setStart(A.offsetNode,A.offset);B.collapse(true)}else{if(F.caretRangeFromPoint){B=F.caretRangeFromPoint(E,D)}else{if(F.body.createTextRange){B=F.body.createTextRange();try{B.moveToPoint(E,D);B.collapse(true)}catch(C){B=n(E,D,F)}return y(B,F.body)}}}return B};z.getSelectedNode=function(B){var C=B.startContainer,A=B.startOffset;if(C.hasChildNodes()&&B.endOffset==A+1){return C.childNodes[A]}return null};z.getNode=function(A,B){if(A.nodeType==1&&A.hasChildNodes()){if(B>=A.childNodes.length){B=A.childNodes.length-1}A=A.childNodes[B]}return A};return z});h("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(j,i,k){return function(l){var n,m=[];function o(p){var q,r;r=l.$(p).parentsUntil(l.getBody()).add(p);if(r.length===m.length){for(q=r.length;q>=0;q--){if(r[q]!==m[q]){break}}if(q===-1){m=r;return true}}m=r;return false}if(!("onselectionchange" in l.getDoc())){l.on("NodeChange Click MouseUp KeyUp Focus",function(q){var r,p;r=l.selection.getRng();p={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};if(q.type=="nodechange"||!j.compareRanges(p,n)){l.fire("SelectionChange")}n=p})}l.on("contextmenu",function(){l.fire("SelectionChange")});l.on("SelectionChange",function(){var p=l.selection.getStart(true);if(!i.range&&l.selection.isCollapsed()){return}if(!o(p)&&l.dom.isChildOf(p,l.getBody())){l.nodeChanged({selectionChange:true})}});l.on("MouseUp",function(p){if(!p.isDefaultPrevented()){if(l.selection.getNode().nodeName=="IMG"){k.setEditorTimeout(l,function(){l.nodeChanged()})}else{l.nodeChanged()}}});this.nodeChanged=function(r){var s=l.selection,t,q,p;if(l.initialized&&s&&!l.settings.disable_nodechange&&!l.readonly){p=l.getBody();t=s.getStart()||p;if(t.ownerDocument!=l.getDoc()||!l.dom.isChildOf(t,p)){t=p}if(t.nodeName=="IMG"&&s.isCollapsed()){t=t.parentNode}q=[];l.dom.getParent(t,function(u){if(u===p){return true}q.push(u)});r=r||{};r.element=t;r.parents=q;l.fire("NodeChange",r)}}}});h("tinymce/html/Node",[],function(){var k=/^[ \t\r\n]*$/,l={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function i(r,s,q){var p,o,m=q?"lastChild":"firstChild",n=q?"prev":"next";if(r[m]){return r[m]}if(r!==s){p=r[n];if(p){return p}for(o=r.parent;o&&o!==s;o=o.parent){p=o[n];if(p){return p}}}}function j(m,n){this.name=m;this.type=n;if(n===1){this.attributes=[];this.attributes.map={}}}j.prototype={replace:function(n){var m=this;if(n.parent){n.remove()}m.insert(n,m);m.remove();return m},attr:function(o,r){var m=this,n,p,q;if(typeof o!=="string"){for(p in o){m.attr(p,o[p])}return m}if((n=m.attributes)){if(r!==q){if(r===null){if(o in n.map){delete n.map[o];p=n.length;while(p--){if(n[p].name===o){n=n.splice(p,1);return m}}}return m}if(o in n.map){p=n.length;while(p--){if(n[p].name===o){n[p].value=r;break}}}else{n.push({name:o,value:r})}n.map[o]=r;return m}return n.map[o]}},clone:function(){var n=this,s=new j(n.name,n.type),o,m,r,p,q;if((r=n.attributes)){q=[];q.map={};for(o=0,m=r.length;o<m;o++){p=r[o];if(p.name!=="id"){q[q.length]={name:p.name,value:p.value};q.map[p.name]=p.value}}s.attributes=q}s.value=n.value;s.shortEnded=n.shortEnded;return s},wrap:function(n){var m=this;m.parent.insert(n,m);n.append(m);return m},unwrap:function(){var m=this,o,n;for(o=m.firstChild;o;){n=o.next;m.insert(o,m,true);o=n}m.remove()},remove:function(){var m=this,o=m.parent,n=m.next,p=m.prev;if(o){if(o.firstChild===m){o.firstChild=n;if(n){n.prev=null}}else{p.next=n}if(o.lastChild===m){o.lastChild=p;if(p){p.next=null}}else{n.prev=p}m.parent=m.next=m.prev=null}return m},append:function(o){var m=this,n;if(o.parent){o.remove()}n=m.lastChild;if(n){n.next=o;o.prev=n;m.lastChild=o}else{m.lastChild=m.firstChild=o}o.parent=m;return o},insert:function(o,m,p){var n;if(o.parent){o.remove()}n=m.parent||this;if(p){if(m===n.firstChild){n.firstChild=o}else{m.prev.next=o}o.prev=m.prev;o.next=m;m.prev=o}else{if(m===n.lastChild){n.lastChild=o}else{m.next.prev=o}o.next=m.next;o.prev=m;m.next=o}o.parent=n;return o},getAll:function(n){var m=this,o,p=[];for(o=m.firstChild;o;o=i(o,m)){if(o.name===n){p.push(o)}}return p},empty:function(){var n=this,m,o,p;if(n.firstChild){m=[];for(p=n.firstChild;p;p=i(p,n)){m.push(p)}o=m.length;while(o--){p=m[o];p.parent=p.firstChild=p.lastChild=p.next=p.prev=null}}n.firstChild=n.lastChild=null;return n},isEmpty:function(r,o){var m=this,q=m.firstChild,p,n;o=o||{};if(q){do{if(q.type===1){if(q.attributes.map["data-mce-bogus"]){continue}if(r[q.name]){return false}p=q.attributes.length;while(p--){n=q.attributes[p].name;if(n==="name"||n.indexOf("data-mce-bookmark")===0){return false}}}if(q.type===8){return false}if(q.type===3&&!k.test(q.value)){return false}if(q.type===3&&q.parent&&o[q.parent.name]&&k.test(q.value)){return false}}while((q=i(q,m)))}return true},walk:function(m){return i(this,null,m)}};j.create=function(n,m){var p,o;p=new j(n,l[n]||1);if(m){for(o in m){p.attr(o,m[o])}}return p};return j});h("tinymce/html/Schema",["tinymce/util/Tools"],function(j){var k={},m={};var l=j.makeMap,q=j.each,n=j.extend,p=j.explode,s=j.inArray;function o(t,u){t=j.trim(t);return t?t.split(u||" "):[]}function r(A){var x={},B,u;var y,z,t,w;function C(F,D,I){var H,J,G;function E(O,N){var M={},L,K;for(L=0,K=O.length;L<K;L++){M[O[L]]=N||{}}return M}I=I||[];D=D||"";if(typeof I==="string"){I=o(I)}F=o(F);H=F.length;while(H--){J=o([B,D].join(" "));G={attributes:E(J),attributesOrder:J,children:E(I,m)};x[F[H]]=G}}function v(G,F){var I,E,H,D;G=o(G);I=G.length;F=o(F);while(I--){E=x[G[I]];for(H=0,D=F.length;H<D;H++){E.attributes[F[H]]={};E.attributesOrder.push(F[H])}}}if(k[A]){return k[A]}B="id accesskey class dir lang style tabindex title";u="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";y="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment";if(A!="html4"){B+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate";u+=" article aside details dialog figure header footer hgroup section nav";y+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(A!="html5-strict"){B+=" xml:lang";w="acronym applet basefont big font strike tt";y=[y,w].join(" ");q(o(w),function(D){C(D,"",y)});t="center dir isindex noframes";u=[u,t].join(" ");z=[u,y].join(" ");q(o(t),function(D){C(D,"",z)})}z=z||[u,y].join(" ");C("html","manifest","head body");C("head","","base command link meta noscript script style title");C("title hr noscript br");C("base","href target");C("link","href rel media hreflang type sizes hreflang");C("meta","name http-equiv content charset");C("style","media type scoped");C("script","src async defer type charset");C("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",z);C("address dt dd div caption","",z);C("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",y);C("blockquote","cite",z);C("ol","reversed start type","li");C("ul","","li");C("li","value",z);C("dl","","dt dd");C("a","href target rel media hreflang type",y);C("q","cite",y);C("ins del","cite datetime",z);C("img","src sizes srcset alt usemap ismap width height");C("iframe","src name width height",z);C("embed","src type width height");C("object","data type typemustmatch name usemap form width height",[z,"param"].join(" "));C("param","name value");C("map","name",[z,"area"].join(" "));C("area","alt coords shape href target rel media hreflang type");C("table","border","caption colgroup thead tfoot tbody tr"+(A=="html4"?" col":""));C("colgroup","span","col");C("col","span");C("tbody thead tfoot","","tr");C("tr","","td th");C("td","colspan rowspan headers",z);C("th","colspan rowspan headers scope abbr",z);C("form","accept-charset action autocomplete enctype method name novalidate target",z);C("fieldset","disabled form name",[z,"legend"].join(" "));C("label","form for",y);C("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");C("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",A=="html4"?z:y);C("select","disabled form multiple name required size","option optgroup");C("optgroup","disabled label","option");C("option","disabled label selected value");C("textarea","cols dirname disabled form maxlength name readonly required rows wrap");C("menu","type label",[z,"li"].join(" "));C("noscript","",z);if(A!="html4"){C("wbr");C("ruby","",[y,"rt rp"].join(" "));C("figcaption","",z);C("mark rt rp summary bdi","",y);C("canvas","width height",z);C("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[z,"track source"].join(" "));C("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[z,"track source"].join(" "));C("picture","","img source");C("source","src srcset type media sizes");C("track","kind src srclang label default");C("datalist","",[y,"option"].join(" "));C("article section nav aside header footer","",z);C("hgroup","","h1 h2 h3 h4 h5 h6");C("figure","",[z,"figcaption"].join(" "));C("time","datetime",y);C("dialog","open",z);C("command","type label icon disabled checked radiogroup command");C("output","for form name",y);C("progress","value max",y);C("meter","value min max low high optimum",y);C("details","open",[z,"summary"].join(" "));C("keygen","autofocus challenge disabled form keytype name")}if(A!="html5-strict"){v("script","language xml:space");v("style","xml:space");v("object","declare classid code codebase codetype archive standby align border hspace vspace");v("embed","align name hspace vspace");v("param","valuetype type");v("a","charset name rev shape coords");v("br","clear");v("applet","codebase archive code object alt name width height align hspace vspace");v("img","name longdesc align border hspace vspace");v("iframe","longdesc frameborder marginwidth marginheight scrolling align");v("font basefont","size color face");v("input","usemap align");v("select","onchange");v("textarea");v("h1 h2 h3 h4 h5 h6 div p legend caption","align");v("ul","type compact");v("li","type");v("ol dl menu dir","compact");v("pre","width xml:space");v("hr","align noshade size width");v("isindex","prompt");v("table","summary width frame rules cellspacing cellpadding align bgcolor");v("col","width align char charoff valign");v("colgroup","width align char charoff valign");v("thead","align char charoff valign");v("tr","align char charoff valign bgcolor");v("th","axis align char charoff valign nowrap bgcolor width height");v("form","accept");v("td","abbr axis scope align char charoff valign nowrap bgcolor width height");v("tfoot","align char charoff valign");v("tbody","align char charoff valign");v("area","nohref");v("body","background bgcolor text link vlink alink")}if(A!="html4"){v("input button select textarea","autofocus");v("input textarea","placeholder");v("a","download");v("link script img","crossorigin");v("iframe","sandbox seamless allowfullscreen")}q(o("a form meter progress dfn"),function(D){if(x[D]){delete x[D].children[D]}});delete x.caption.children.table;delete x.script;k[A]=x;return x}function i(u,v){var t;if(u){t={};if(typeof u=="string"){u={"*":u}}q(u,function(x,w){t[w]=t[w.toUpperCase()]=v=="map"?l(x,/[, ]/):p(x,/[, ]/)})}return t}return function(P){var K=this,I={},x={},w=[],T,t,N;var D,F,O,G,H;var L,C,B,u,S;var E={},y={};function A(W,U,V){var X=P[W];if(!X){X=k[W];if(!X){X=l(U," ",l(U.toUpperCase()," "));X=n(X,V);k[W]=X}}else{X=l(X,/[, ]/,l(X.toUpperCase(),/[, ]/))}return X}P=P||{};N=r(P.schema);if(P.verify_html===false){P.valid_elements="*[*]"}T=i(P.valid_styles);t=i(P.invalid_styles,"map");H=i(P.valid_classes,"map");D=A("whitespace_elements","pre script noscript style textarea video audio iframe object code");F=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");O=A("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");G=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");C=A("non_empty_elements","td th iframe video audio object script pre code",O);B=A("move_caret_before_on_enter_elements","table",C);u=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");L=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",u);S=A("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");q((P.special||"script noscript style textarea").split(" "),function(U){y[U]=new RegExp("</"+U+"[^>]*>","gi")});function v(U){return new RegExp("^"+U.replace(/([?+*])/g,".$1")+"$")}function R(ag){var aa,W,aq,am,V,Y,ak,ao,ae,ap,ar,ad,Z,an,U,ah,X,at,aj,ac=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,af=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ab=/[*?+]/;if(ag){ag=o(ag,",");if(I["@"]){ah=I["@"].attributes;X=I["@"].attributesOrder}for(aa=0,W=ag.length;aa<W;aa++){V=ac.exec(ag[aa]);if(V){an=V[1];ae=V[2];U=V[3];ao=V[5];ad={};Z=[];Y={attributes:ad,attributesOrder:Z};if(an==="#"){Y.paddEmpty=true}if(an==="-"){Y.removeEmpty=true}if(V[4]==="!"){Y.removeEmptyAttrs=true}if(ah){for(at in ah){ad[at]=ah[at]}Z.push.apply(Z,X)}if(ao){ao=o(ao,"|");for(aq=0,am=ao.length;aq<am;aq++){V=af.exec(ao[aq]);if(V){ak={};ar=V[1];ap=V[2].replace(/::/g,":");an=V[3];aj=V[4];if(ar==="!"){Y.attributesRequired=Y.attributesRequired||[];Y.attributesRequired.push(ap);ak.required=true}if(ar==="-"){delete ad[ap];Z.splice(s(Z,ap),1);continue}if(an){if(an==="="){Y.attributesDefault=Y.attributesDefault||[];Y.attributesDefault.push({name:ap,value:aj});ak.defaultValue=aj}if(an===":"){Y.attributesForced=Y.attributesForced||[];Y.attributesForced.push({name:ap,value:aj});ak.forcedValue=aj}if(an==="<"){ak.validValues=l(aj,"?")}}if(ab.test(ap)){Y.attributePatterns=Y.attributePatterns||[];ak.pattern=v(ap);Y.attributePatterns.push(ak)}else{if(!ad[ap]){Z.push(ap)}ad[ap]=ak}}}}if(!ah&&ae=="@"){ah=ad;X=Z}if(U){Y.outputName=ae;I[U]=Y}if(ab.test(ae)){Y.pattern=v(ae);w.push(Y)}else{I[ae]=Y}}}}}function J(U){I={};w=[];R(U);q(N,function(W,V){x[V]=W.children})}function z(V){var U=/^(~)?(.+)$/;if(V){k.text_block_elements=k.block_elements=null;q(o(V,","),function(aa){var Y=U.exec(aa),Z=Y[1]==="~",ab=Z?"span":"div",X=Y[2];x[X]=x[ab];E[X]=ab;if(!Z){L[X.toUpperCase()]={};L[X]={}}if(!I[X]){var W=I[ab];W=n({},W);delete W.removeEmptyAttrs;delete W.removeEmpty;I[X]=W}q(x,function(ac,ad){if(ac[ab]){x[ad]=ac=n({},x[ad]);ac[X]=ac[ab]}})})}}function M(U){var V=/^([+\-]?)(\w+)\[([^\]]+)\]$/;k[P.schema]=null;if(U){q(o(U,","),function(Z){var Y=V.exec(Z),W,X;if(Y){X=Y[1];if(X){W=x[Y[2]]}else{W=x[Y[2]]={"#comment":{}}}W=x[Y[2]];q(o(Y[3],"|"),function(aa){if(X==="-"){delete W[aa]}else{W[aa]={}}})}})}}function Q(U){var W=I[U],V;if(W){return W}V=w.length;while(V--){W=w[V];if(W.pattern.test(U)){return W}}}if(!P.valid_elements){q(N,function(V,U){I[U]={attributes:V.attributes,attributesOrder:V.attributesOrder};x[U]=V.children});if(P.schema!="html5"){q(o("strong/b em/i"),function(U){U=o(U,"/");I[U[1]].outputName=U[0]})}q(o("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(U){if(I[U]){I[U].removeEmpty=true}});q(o("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(U){I[U].paddEmpty=true});q(o("span"),function(U){I[U].removeEmptyAttrs=true})}else{J(P.valid_elements)}z(P.custom_elements);M(P.valid_children);R(P.extended_valid_elements);M("+ol[ul|ol],+ul[ul|ol]");q({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(U,V){if(I[V]){I[V].parentsRequired=o(U)}});if(P.invalid_elements){q(p(P.invalid_elements),function(U){if(I[U]){delete I[U]}})}if(!Q("span")){R("span[!data-mce-type|*]")}K.children=x;K.getValidStyles=function(){return T};K.getInvalidStyles=function(){return t};K.getValidClasses=function(){return H};K.getBoolAttrs=function(){return G};K.getBlockElements=function(){return L};K.getTextBlockElements=function(){return u};K.getTextInlineElements=function(){return S};K.getShortEndedElements=function(){return O};K.getSelfClosingElements=function(){return F};K.getNonEmptyElements=function(){return C};K.getMoveCaretBeforeOnEnterElements=function(){return B};K.getWhiteSpaceElements=function(){return D};K.getSpecialElements=function(){return y};K.isValidChild=function(U,W){var V=x[U];return !!(V&&V[W])};K.isValid=function(V,U){var X,W,Y=Q(V);if(Y){if(U){if(Y.attributes[U]){return true}X=Y.attributePatterns;if(X){W=X.length;while(W--){if(X[W].pattern.test(V)){return true}}}}else{return true}}return false};K.getElementRule=Q;K.getCustomElements=function(){return E};K.addValidElements=R;K.setValidElements=J;K.addCustomElements=z;K.addValidChildren=M;K.elements=I}});h("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(l,n,k){var m=k.each;function j(s,q,v){var r=1,o,u,t,p;p=s.getShortEndedElements();t=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;t.lastIndex=o=v;while((u=t.exec(q))){o=t.lastIndex;if(u[1]==="/"){r--}else{if(!u[1]){if(u[2] in p){continue}r++}}if(r===0){break}}return o}function i(p,r){var o=this;function q(){}p=p||{};o.schema=r=r||new l();if(p.fix_self_closing!==false){p.fix_self_closing=true}m("comment cdata text start end pi doctype".split(" "),function(s){if(s){o[s]=p[s]||q}});o.parse=function(P){var B=this,t,R=0,U,M,L=[],Z,ac,N,D;var K,E,Y,S,aa;var H,A,x,F,ae,ab,Q;var af,X,s;var ad,V,y,O,W,u,I=0;var w=n.decode,J,T=k.makeMap("src,href,data,background,formaction,poster");var v=/((java|vb)script|mhtml):/i,z=/^data:/i;function G(ag){var ai,ah;ai=L.length;while(ai--){if(L[ai].name===ag){break}}if(ai>=0){for(ah=L.length-1;ah>=ai;ah--){ag=L[ah];if(ag.valid){B.end(ag.name)}}L.length=ai}}function C(al,ah,ap,an,am){var aj,ak,ag=/[\s\u0000-\u001F]+/g;ah=ah.toLowerCase();ap=ah in S?ah:w(ap||an||am||"");if(H&&!K&&ah.indexOf("data-")!==0){aj=ab[ah];if(!aj&&Q){ak=Q.length;while(ak--){aj=Q[ak];if(aj.pattern.test(ah)){break}}if(ak===-1){aj=null}}if(!aj){return}if(aj.validValues&&!(ap in aj.validValues)){return}}if(T[ah]&&!p.allow_script_urls){var ai=ap.replace(ag,"");try{ai=decodeURIComponent(ai)}catch(ao){ai=unescape(ai)}if(v.test(ai)){return}if(!p.allow_html_data_urls&&z.test(ai)&&!/^data:image\//i.test(ai)){return}}Z.map[ah]=ap;Z.push({name:ah,value:ap})}y=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");O=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;Y=r.getShortEndedElements();V=p.self_closing_elements||r.getSelfClosingElements();S=r.getBoolAttrs();H=p.validate;E=p.remove_internals;J=p.fix_self_closing;W=r.getSpecialElements();while((t=y.exec(P))){if(R<t.index){B.text(w(P.substr(R,t.index-R)))}if((U=t[6])){U=U.toLowerCase();if(U.charAt(0)===":"){U=U.substr(1)}G(U)}else{if((U=t[7])){U=U.toLowerCase();if(U.charAt(0)===":"){U=U.substr(1)}aa=U in Y;if(J&&V[U]&&L.length>0&&L[L.length-1].name===U){G(U)}if(!H||(A=r.getElementRule(U))){x=true;if(H){ab=A.attributes;Q=A.attributePatterns}if((ae=t[8])){K=ae.indexOf("data-mce-type")!==-1;if(K&&E){x=false}Z=[];Z.map={};ae.replace(O,C)}else{Z=[];Z.map={}}if(H&&!K){af=A.attributesRequired;X=A.attributesDefault;s=A.attributesForced;ad=A.removeEmptyAttrs;if(ad&&!Z.length){x=false}if(s){ac=s.length;while(ac--){F=s[ac];D=F.name;u=F.value;if(u==="{$uid}"){u="mce_"+I++}Z.map[D]=u;Z.push({name:D,value:u})}}if(X){ac=X.length;while(ac--){F=X[ac];D=F.name;if(!(D in Z.map)){u=F.value;if(u==="{$uid}"){u="mce_"+I++}Z.map[D]=u;Z.push({name:D,value:u})}}}if(af){ac=af.length;while(ac--){if(af[ac] in Z.map){break}}if(ac===-1){x=false}}if((F=Z.map["data-mce-bogus"])){if(F==="all"){R=j(r,P,y.lastIndex);y.lastIndex=R;continue}x=false}}if(x){B.start(U,Z,aa)}}else{x=false}if((M=W[U])){M.lastIndex=R=t.index+t[0].length;if((t=M.exec(P))){if(x){N=P.substr(R,t.index-R)}R=t.index+t[0].length}else{N=P.substr(R);R=P.length}if(x){if(N.length>0){B.text(N,true)}B.end(U)}y.lastIndex=R;continue}if(!aa){if(!ae||ae.indexOf("/")!=ae.length-1){L.push({name:U,valid:x})}else{if(x){B.end(U)}}}}else{if((U=t[1])){if(U.charAt(0)===">"){U=" "+U}if(!p.allow_conditional_comments&&U.substr(0,3).toLowerCase()==="[if"){U=" "+U}B.comment(U)}else{if((U=t[2])){B.cdata(U)}else{if((U=t[3])){B.doctype(U)}else{if((U=t[4])){B.pi(U,t[5])}}}}}}R=t.index+t[0].length}if(R<P.length){B.text(w(P.substr(R)))}for(ac=L.length-1;ac>=0;ac--){U=L[ac];if(U.valid){B.end(U.name)}}}}i.findEndTag=j;return i});h("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(l,k,p,i){var j=i.makeMap,o=i.each,n=i.explode,m=i.extend;var q=function(s,t){if(s.padd_empty_with_br){t.empty().append(new l("br","1")).shortEnded=true}else{t.empty().append(new l("#text","3")).value="\u00a0"}};var r=function(t,s){return t&&t.firstChild===t.lastChild&&t.firstChild.name===s};return function(w,x){var v=this,u={},t=[],y={},s={};w=w||{};w.validate="validate" in w?w.validate:true;w.root_name=w.root_name||"body";v.schema=x=x||new k();function z(E){var G,H,N,M,Q,F,I,B,L;var A,P,K,D,C,O,J;K=j("tr,td,th,tbody,thead,tfoot,table");A=x.getNonEmptyElements();P=x.getWhiteSpaceElements();D=x.getTextBlockElements();C=x.getSpecialElements();for(G=0;G<E.length;G++){H=E[G];if(!H.parent||H.fixed){continue}if(D[H.name]&&H.parent.name=="li"){O=H.next;while(O){if(D[O.name]){O.name="li";O.fixed=true;H.parent.insert(O,H.parent)}else{break}O=O.next}H.unwrap(H);continue}M=[H];for(N=H.parent;N&&!x.isValidChild(N.name,H.name)&&!K[N.name];N=N.parent){M.push(N)}if(N&&M.length>1){M.reverse();Q=F=v.filterNode(M[0].clone());for(L=0;L<M.length-1;L++){if(x.isValidChild(F.name,M[L].name)){I=v.filterNode(M[L].clone());F.append(I)}else{I=F}for(B=M[L].firstChild;B&&B!=M[L+1];){J=B.next;I.append(B);B=J}F=I}if(!Q.isEmpty(A,P)){N.insert(Q,M[0],true);N.insert(H,Q)}else{N.insert(H,M[0],true)}N=M[0];if(N.isEmpty(A,P)||r(N,"br")){N.empty().remove()}}else{if(H.parent){if(H.name==="li"){O=H.prev;if(O&&(O.name==="ul"||O.name==="ul")){O.append(H);continue}O=H.next;if(O&&(O.name==="ul"||O.name==="ul")){O.insert(H,O.firstChild,true);continue}H.wrap(v.filterNode(new l("ul",1)));continue}if(x.isValidChild(H.parent.name,"div")&&x.isValidChild("div",H.name)){H.wrap(v.filterNode(new l("div",1)))}else{if(C[H.name]){H.empty().remove()}else{H.unwrap()}}}}}}v.filterNode=function(C){var B,A,D;if(A in u){D=y[A];if(D){D.push(C)}else{y[A]=[C]}}B=t.length;while(B--){A=t[B].name;if(A in C.attributes.map){D=s[A];if(D){D.push(C)}else{s[A]=[C]}}}return C};v.addNodeFilter=function(A,B){o(n(A),function(C){var D=u[C];if(!D){u[C]=D=[]}D.push(B)})};v.addAttributeFilter=function(A,B){o(n(A),function(C){var D;for(D=0;D<t.length;D++){if(t[D].name===C){t[D].callbacks.push(B);return}}t.push({name:C,callbacks:[B]})})};v.parse=function(K,B){var C,X,P,O,R,Q,L,G,T,ab,N;var D,S,aa=[],Z;var I,A,M,H;var E,J,F;B=B||{};y={};s={};D=m(j("script,style,head,html,body,title,meta,param"),x.getBlockElements());J=x.getNonEmptyElements();E=x.children;N=w.validate;F="forced_root_block" in B?B.forced_root_block:w.forced_root_block;H=x.getWhiteSpaceElements();S=/^[ \t\r\n]+/;I=/[ \t\r\n]+$/;A=/[ \t\r\n]+/g;M=/^[ \t\r\n]+$/;function U(){var ae=X.firstChild,ad,af;function ac(ag){if(ag){ae=ag.firstChild;if(ae&&ae.type==3){ae.value=ae.value.replace(S,"")}ae=ag.lastChild;if(ae&&ae.type==3){ae.value=ae.value.replace(I,"")}}}if(!x.isValidChild(X.name,F.toLowerCase())){return}while(ae){ad=ae.next;if(ae.type==3||(ae.type==1&&ae.name!=="p"&&!D[ae.name]&&!ae.attr("data-mce-type"))){if(!af){af=Y(F,1);af.attr(w.forced_root_block_attrs);X.insert(af,ae);af.append(ae)}else{af.append(ae)}}else{ac(af);af=null}ae=ad}ac(af)}function Y(ac,ad){var ae=new l(ac,ad),af;if(ac in u){af=y[ac];if(af){af.push(ae)}else{y[ac]=[ae]}}return ae}function W(af){var ag,ah,ac,ad,ae=x.getBlockElements();for(ag=af.prev;ag&&ag.type===3;){ac=ag.value.replace(I,"");if(ac.length>0){ag.value=ac;return}ah=ag.next;if(ah){if(ah.type==3&&ah.value.length){ag=ag.prev;continue}if(!ae[ah.name]&&ah.name!="script"&&ah.name!="style"){ag=ag.prev;continue}}ad=ag.prev;ag.remove();ag=ad}}function V(ad){var ae,ac={};for(ae in ad){if(ae!=="li"&&ae!="p"){ac[ae]=ad[ae]}}return ac}C=new p({validate:N,allow_script_urls:w.allow_script_urls,allow_conditional_comments:w.allow_conditional_comments,self_closing_elements:V(x.getSelfClosingElements()),cdata:function(ac){P.append(Y("#cdata",4)).value=ac},text:function(ae,ac){var ad;if(!Z){ae=ae.replace(A," ");if(P.lastChild&&D[P.lastChild.name]){ae=ae.replace(S,"")}}if(ae.length!==0){ad=Y("#text",3);ad.raw=!!ac;P.append(ad).value=ae}},comment:function(ac){P.append(Y("#comment",8)).value=ac},pi:function(ac,ad){P.append(Y(ac,7)).value=ad;W(P)},doctype:function(ad){var ac;ac=P.append(Y("#doctype",10));ac.value=ad;W(P)},start:function(ae,ad,aj){var ag,ac,ai,af,ah;ai=N?x.getElementRule(ae):{};if(ai){ag=Y(ai.outputName||ae,1);ag.attributes=ad;ag.shortEnded=aj;P.append(ag);ah=E[P.name];if(ah&&E[ag.name]&&!ah[ag.name]){aa.push(ag)}ac=t.length;while(ac--){af=t[ac].name;if(af in ad.map){T=s[af];if(T){T.push(ag)}else{s[af]=[ag]}}}if(D[ae]){W(ag)}if(!aj){P=ag}if(!Z&&H[ae]){Z=true}}},end:function(ac){var ah,ae,ag,ad,af;ae=N?x.getElementRule(ac):{};if(ae){if(D[ac]){if(!Z){ah=P.firstChild;if(ah&&ah.type===3){ag=ah.value.replace(S,"");if(ag.length>0){ah.value=ag;ah=ah.next}else{ad=ah.next;ah.remove();ah=ad;while(ah&&ah.type===3){ag=ah.value;ad=ah.next;if(ag.length===0||M.test(ag)){ah.remove();ah=ad}ah=ad}}}ah=P.lastChild;if(ah&&ah.type===3){ag=ah.value.replace(I,"");if(ag.length>0){ah.value=ag;ah=ah.prev}else{ad=ah.prev;ah.remove();ah=ad;while(ah&&ah.type===3){ag=ah.value;ad=ah.prev;if(ag.length===0||M.test(ag)){ah.remove();ah=ad}ah=ad}}}}}if(Z&&H[ac]){Z=false}if(ae.removeEmpty||ae.paddEmpty){if(P.isEmpty(J,H)){if(ae.paddEmpty){q(w,P)}else{if(!P.attributes.map.name&&!P.attributes.map.id){af=P.parent;if(D[P.name]){P.empty().remove()}else{P.unwrap()}P=af;return}}}}P=P.parent}}},x);X=P=new l(B.context||w.root_name,11);C.parse(K);if(N&&aa.length){if(!B.context){z(aa)}else{B.invalid=true}}if(F&&(X.name=="body"||B.isRootContent)){U()}if(!B.invalid){for(ab in y){T=u[ab];O=y[ab];L=O.length;while(L--){if(!O[L].parent){O.splice(L,1)}}for(R=0,Q=T.length;R<Q;R++){T[R](O,ab,B)}}for(R=0,Q=t.length;R<Q;R++){T=t[R];if(T.name in s){O=s[T.name];L=O.length;while(L--){if(!O[L].parent){O.splice(L,1)}}for(L=0,G=T.callbacks.length;L<G;L++){T.callbacks[L](O,T.name,B)}}}}return X};if(w.remove_trailing_brs){v.addNodeFilter("br",function(B){var G,F=B.length,C,L=m({},x.getBlockElements());var A=x.getNonEmptyElements(),J,H,E,K;var M=x.getNonEmptyElements();var I,D;L.body=1;for(G=0;G<F;G++){C=B[G];J=C.parent;if(L[C.parent.name]&&C===J.lastChild){E=C.prev;while(E){K=E.name;if(K!=="span"||E.attr("data-mce-type")!=="bookmark"){if(K!=="br"){break}if(K==="br"){C=null;break}}E=E.prev}if(C){C.remove();if(J.isEmpty(A,M)){I=x.getElementRule(J.name);if(I){if(I.removeEmpty){J.remove()}else{if(I.paddEmpty){q(w,J)}}}}}}else{H=C;while(J&&J.firstChild===H&&J.lastChild===H){H=J;if(L[J.name]){break}J=J.parent}if(H===J&&w.padd_empty_with_br!==true){D=new l("#text",3);D.value="\u00a0";C.replace(D)}}}})}if(!w.allow_unsafe_link_target){v.addAttributeFilter("href",function(B){var C=B.length,F,A;var G="noopener noreferrer";function E(I){I=H(I);return I?[I,G].join(" "):G}function H(I){var J=new RegExp("("+G.replace(" ","|")+")","g");if(I){I=i.trim(I.replace(J,""))}return I?I:null}function D(I,J){return J?E(I):H(I)}while(C--){F=B[C];A=F.attr("rel");if(F.name==="a"){F.attr("rel",D(A,F.attr("target")=="_blank"))}}})}if(!w.allow_html_in_named_anchor){v.addAttributeFilter("id,name",function(A){var C=A.length,E,B,D,F;while(C--){F=A[C];if(F.name==="a"&&F.firstChild&&!F.attr("href")){D=F.parent;E=F.lastChild;do{B=E.prev;D.insert(E,F);E=B}while(E)}}})}if(w.fix_list_elements){v.addNodeFilter("ul,ol",function(C){var D=C.length,E,B;while(D--){E=C[D];B=E.parent;if(B.name==="ul"||B.name==="ol"){if(E.prev&&E.prev.name==="li"){E.prev.append(E)}else{var A=new l("li",1);A.attr("style","list-style-type: none");E.wrap(A)}}}})}if(w.validate&&x.getValidClasses()){v.addAttributeFilter("class",function(B){var F=B.length,E,C,J,H,D;var I=x.getValidClasses(),G,A;while(F--){E=B[F];C=E.attr("class").split(" ");D="";for(J=0;J<C.length;J++){H=C[J];A=false;G=I["*"];if(G&&G[H]){A=true}G=I[E.name];if(!A&&G&&G[H]){A=true}if(A){if(D){D+=" "}D+=H}}if(!D.length){D=null}E.attr("class",D)}})}}});h("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(k,i){var j=i.makeMap;return function(p){var n=[],l,m,o,q,r;p=p||{};l=p.indent;m=j(p.indent_before||"");o=j(p.indent_after||"");q=k.getEncodeFunc(p.entity_encoding||"raw",p.entities);r=p.element_format=="html";return{start:function(v,u,y){var w,t,s,x;if(l&&m[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}n.push("<",v);if(u){for(w=0,t=u.length;w<t;w++){s=u[w];n.push(" ",s.name,'="',q(s.value,true),'"')}}if(!y||r){n[n.length]=">"}else{n[n.length]=" />"}if(y&&l&&o[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}},end:function(s){var t;n.push("</",s,">");if(l&&o[s]&&n.length>0){t=n[n.length-1];if(t.length>0&&t!=="\n"){n.push("\n")}}},text:function(t,s){if(t.length>0){n[n.length]=s?t:q(t)}},cdata:function(s){n.push("<![CDATA[",s,"]]>")},comment:function(s){n.push("<!--",s,"-->")},pi:function(s,t){if(t){n.push("<?",s," ",q(t),"?>")}else{n.push("<?",s,"?>")}if(l){n.push("\n")}},doctype:function(s){n.push("<!DOCTYPE",s,">",l?"\n":"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}}});h("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(j,i){return function(l,m){var k=this,n=new j(l);l=l||{};l.validate="validate" in l?l.validate:true;k.schema=m=m||new i();k.writer=n;k.serialize=function(q){var p,r;r=l.validate;p={3:function(s){n.text(s.value,s.raw)},8:function(s){n.comment(s.value)},7:function(s){n.pi(s.name,s.value)},10:function(s){n.doctype(s.value)},4:function(s){n.cdata(s.value)},11:function(s){if((s=s.firstChild)){do{o(s)}while((s=s.next))}}};n.reset();function o(t){var B=p[t.type],s,w,A,z,x,C,v,u,y;if(!B){s=t.name;w=t.shortEnded;A=t.attributes;if(r&&A&&A.length>1){C=[];C.map={};y=m.getElementRule(t.name);if(y){for(v=0,u=y.attributesOrder.length;v<u;v++){z=y.attributesOrder[v];if(z in A.map){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}for(v=0,u=A.length;v<u;v++){z=A[v].name;if(!(z in C.map)){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}A=C}}n.start(t.name,A,w);if(!w){if((t=t.firstChild)){do{o(t)}while((t=t.next))}n.end(s)}}else{B(t)}}if(q.type==1&&!l.inner){o(q)}else{p[11](q)}return n.getContent()}}});h("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(q,v,t,k,p,n,m,o,j,l){var s=j.each,i=j.trim;var u=q.DOM;function r(x){var z,y;function w(A){return A&&A.name==="br"}z=x.lastChild;if(w(z)){y=z.prev;if(w(y)){z.remove();y.remove()}}}return function(y,E){var B,A,z,w=["data-mce-selected"];if(E){B=E.dom;A=E.schema}function D(G){var H=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>","\\s?("+w.join("|")+')="[^"]+"'].join("|"),"gi");G=l.trim(G.replace(H,""));return G}function C(K){var M=K;var N=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var H,L,I,J,O,G=E.schema;M=D(M);O=G.getShortEndedElements();while((J=N.exec(M))){L=N.lastIndex;I=J[0].length;if(O[J[1]]){H=L}else{H=t.findEndTag(G,M,L)}M=M.substring(0,L-I)+M.substring(H);N.lastIndex=L-I}return M}function F(){return C(E.getBody().innerHTML)}function x(G){if(j.inArray(w,G)===-1){z.addAttributeFilter(G,function(H,I){var J=H.length;while(J--){H[J].attr(I,null)}});w.push(G)}}B=B||u;A=A||new m(y);y.entity_encoding=y.entity_encoding||"named";y.remove_trailing_brs="remove_trailing_brs" in y?y.remove_trailing_brs:true;z=new v(y,A);z.addAttributeFilter("data-mce-tabindex",function(G,H){var I=G.length,J;while(I--){J=G[I];J.attr("tabindex",J.attributes.map["data-mce-tabindex"]);J.attr(H,null)}});z.addAttributeFilter("src,href,style",function(H,G){var L=H.length,I,N,K="data-mce-"+G;var M=y.url_converter,O=y.url_converter_scope,J;while(L--){I=H[L];N=I.attributes.map[K];if(N!==J){I.attr(G,N.length>0?N:null);I.attr(K,null)}else{N=I.attributes.map[G];if(G==="style"){N=B.serializeStyle(B.parseStyle(N),I.name)}else{if(M){N=M.call(O,N,G,I.name)}}I.attr(G,N.length>0?N:null)}}});z.addAttributeFilter("class",function(G){var H=G.length,I,J;while(H--){I=G[H];J=I.attr("class");if(J){J=I.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");I.attr("class",J.length>0?J:null)}}});z.addAttributeFilter("data-mce-type",function(G,I,H){var J=G.length,K;while(J--){K=G[J];if(K.attributes.map["data-mce-type"]==="bookmark"&&!H.cleanup){K.remove()}}});z.addNodeFilter("noscript",function(G){var H=G.length,I;while(H--){I=G[H].firstChild;if(I){I.value=k.decode(I.value)}}});z.addNodeFilter("script,style",function(H,I){var J=H.length,L,M,K;function G(N){return N.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}while(J--){L=H[J];M=L.firstChild?L.firstChild.value:"";if(I==="script"){K=L.attr("type");if(K){L.attr("type",K=="mce-no/type"?null:K.replace(/^mce\-/,""))}if(M.length>0){L.firstChild.value="// <![CDATA[\n"+G(M)+"\n// ]]>"}}else{if(M.length>0){L.firstChild.value="<!--\n"+G(M)+"\n-->"}}}});z.addNodeFilter("#comment",function(G){var H=G.length,I;while(H--){I=G[H];if(I.value.indexOf("[CDATA[")===0){I.name="#cdata";I.type=4;I.value=I.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(I.value.indexOf("mce:protected ")===0){I.name="#text";I.type=3;I.raw=true;I.value=unescape(I.value).substr(14)}}}});z.addNodeFilter("xml:namespace,input",function(G,H){var I=G.length,J;while(I--){J=G[I];if(J.type===7){J.remove()}else{if(J.type===1){if(H==="input"&&!("type" in J.attributes.map)){J.attr("type","text")}}}}});z.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(G,H){var I=G.length;while(I--){G[I].attr(H,null)}});return{schema:A,addNodeFilter:z.addNodeFilter,addAttributeFilter:z.addAttributeFilter,serialize:function(H,L){var O=this,M,N,J,I,K,G;if(o.ie&&B.select("script,style,select,map").length>0){K=H.innerHTML;H=H.cloneNode(false);B.setHTML(H,K)}else{H=H.cloneNode(true)}M=document.implementation;if(M.createHTMLDocument){N=M.createHTMLDocument("");s(H.nodeName=="BODY"?H.childNodes:[H],function(P){N.body.appendChild(N.importNode(P,true))});if(H.nodeName!="BODY"){H=N.body.firstChild}else{H=N.body}J=B.doc;B.doc=N}L=L||{};L.format=L.format||"html";if(L.selection){L.forced_root_block=""}if(!L.no_events){L.node=H;O.onPreProcess(L)}G=z.parse(i(L.getInner?H.innerHTML:B.getOuterHTML(H)),L);r(G);I=new p(y,A);L.content=I.serialize(G);if(!L.cleanup){L.content=l.trim(L.content);L.content=L.content.replace(/\uFEFF/g,"")}if(!L.no_events){O.onPostProcess(L)}if(J){B.doc=J}L.node=null;return L.content},addRules:function(G){A.addValidElements(G)},setRules:function(G){A.setValidElements(G)},onPreProcess:function(G){if(E){E.fire("PreProcess",G)}},onPostProcess:function(G){if(E){E.fire("PostProcess",G)}},addTempAttr:x,trimHtml:D,getTrimmedContent:F,trimContent:C}}});h("tinymce/dom/TridentSelection",[],function(){function i(k){var j=this,o=k.dom,m=false;function l(p,q){var r,A=0,x,u,t,s,v,y,w=-1,z;r=p.duplicate();r.collapse(q);z=r.parentElement();if(z.ownerDocument!==k.dom.doc){return}while(z.contentEditable==="false"){z=z.parentNode}if(!z.hasChildNodes()){return{node:z,inside:1}}t=z.children;x=t.length-1;while(A<=x){y=Math.floor((A+x)/2);s=t[y];r.moveToElementText(s);w=r.compareEndPoints(q?"StartToStart":"EndToEnd",p);if(w>0){x=y-1}else{if(w<0){A=y+1}else{return{node:s}}}}if(w<0){if(!s){r.moveToElementText(z);r.collapse(true);s=z;u=true}else{r.collapse(false)}v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",1)===0||z!=r.parentElement()){break}v++}}else{r.collapse(true);v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",-1)===0||z!=r.parentElement()){break}v++}}return{node:s,position:w,offset:v,inside:u}}function n(){var p=k.getRng(),x=o.createRng(),r,q,v,w,s;r=p.item?p.item(0):p.parentElement();if(r.ownerDocument!=o.doc){return x}q=k.isCollapsed();if(p.item){x.setStart(r.parentNode,o.nodeIndex(r));x.setEnd(x.startContainer,x.startOffset+1);return x}function u(F){var A=l(p,F),y,D,E=0,C,B,z;y=A.node;D=A.offset;if(A.inside&&!y.hasChildNodes()){x[F?"setStart":"setEnd"](y,0);return}if(D===B){x[F?"setStartBefore":"setEndAfter"](y);return}if(A.position<0){C=A.inside?y.firstChild:y.nextSibling;if(!C){x[F?"setStartAfter":"setEndAfter"](y);return}if(!D){if(C.nodeType==3){x[F?"setStart":"setEnd"](C,0)}else{x[F?"setStartBefore":"setEndBefore"](C)}return}while(C){if(C.nodeType==3){z=C.nodeValue;E+=z.length;if(E>=D){y=C;E-=D;E=z.length-E;break}}C=C.nextSibling}}else{C=y.previousSibling;if(!C){return x[F?"setStartBefore":"setEndBefore"](y)}if(!D){if(y.nodeType==3){x[F?"setStart":"setEnd"](C,y.nodeValue.length)}else{x[F?"setStartAfter":"setEndAfter"](C)}return}while(C){if(C.nodeType==3){E+=C.nodeValue.length;if(E>=D){y=C;E-=D;break}}C=C.previousSibling}}x[F?"setStart":"setEnd"](y,E)}try{u(true);if(!q){u()}}catch(t){if(t.number==-2147024809){s=j.getBookmark(2);v=p.duplicate();v.collapse(true);r=v.parentElement();if(!q){v=p.duplicate();v.collapse(false);w=v.parentElement();w.innerHTML=w.innerHTML}r.innerHTML=r.innerHTML;j.moveToBookmark(s);p=k.getRng();u(true);if(!q){u()}}else{throw t}}return x}this.getBookmark=function(s){var p=k.getRng(),r={};function t(z){var y,u,x,w,v=[];y=z.parentNode;u=o.getRoot().parentNode;while(y!=u&&y.nodeType!==9){x=y.children;w=x.length;while(w--){if(z===x[w]){v.push(w);break}}z=y;y=y.parentNode}return v}function q(v){var u;u=l(p,v);if(u){return{position:u.position,offset:u.offset,indexes:t(u.node),inside:u.inside}}}if(s===2){if(!p.item){r.start=q(true);if(!k.isCollapsed()){r.end=q()}}else{r.start={ctrl:true,indexes:t(p.item(0))}}}return r};this.moveToBookmark=function(r){var q,p=o.doc.body;function t(v){var y,x,u,w;y=o.getRoot();for(x=v.length-1;x>=0;x--){w=y.children;u=v[x];if(u<=w.length-1){y=w[u]}}return y}function s(z){var u=r[z?"start":"end"],x,w,v,y;if(u){x=u.position>0;w=p.createTextRange();w.moveToElementText(t(u.indexes));y=u.offset;if(y!==v){w.collapse(u.inside||x);w.moveStart("character",x?-y:y)}else{w.collapse(z)}q.setEndPoint(z?"StartToStart":"EndToStart",w);if(z){q.collapse(true)}}}if(r.start){if(r.start.ctrl){q=p.createControlRange();q.addElement(t(r.start.indexes));q.select()}else{q=p.createTextRange();s(true);s();q.select()}}};this.addRange=function(p){var u,s,r,w,C,x,A,z=k.dom.doc,t=z.body,y,B;function q(I){var E,H,D,G,F;D=o.create("a");E=I?r:C;H=I?w:x;G=u.duplicate();if(E==z||E==z.documentElement){E=t;H=0}if(E.nodeType==3){E.parentNode.insertBefore(D,E);G.moveToElementText(D);G.moveStart("character",H);o.remove(D);u.setEndPoint(I?"StartToStart":"EndToEnd",G)}else{F=E.childNodes;if(F.length){if(H>=F.length){o.insertAfter(D,F[F.length-1])}else{E.insertBefore(D,F[H])}G.moveToElementText(D)}else{if(E.canHaveHTML){E.innerHTML="<span>&#xFEFF;</span>";D=E.firstChild;G.moveToElementText(D);G.collapse(m)}}u.setEndPoint(I?"StartToStart":"EndToEnd",G);o.remove(D)}}r=p.startContainer;w=p.startOffset;C=p.endContainer;x=p.endOffset;u=t.createTextRange();if(r==C&&r.nodeType==1){if(w==x&&!r.hasChildNodes()){if(r.canHaveHTML){A=r.previousSibling;if(A&&!A.hasChildNodes()&&o.isBlock(A)){A.innerHTML="&#xFEFF;"}else{A=null}r.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";u.moveToElementText(r.lastChild);u.select();o.doc.selection.clear();r.innerHTML="";if(A){A.innerHTML=""}return}w=o.nodeIndex(r);r=r.parentNode}if(w==x-1){try{B=r.childNodes[w];s=t.createControlRange();s.addElement(B);s.select();y=k.getRng();if(y.item&&B===y.item(0)){return}}catch(v){}}}q(true);q();u.select()};this.getRangeAt=n}return i});h("tinymce/util/VK",["tinymce/Env"],function(i){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(j){return j.shiftKey||j.ctrlKey||j.altKey||this.metaKeyPressed(j)},metaKeyPressed:function(j){return(i.mac?j.metaKey:j.ctrlKey&&!j.altKey)}}});h("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(n,l,o,i,k){var m=k.isContentEditableFalse;var p=k.isContentEditableTrue;function j(q,r){while(r&&r!=q){if(p(r)||m(r)){return r}r=r.parentNode}return null}return function(D,r){var s=r.dom,aa=l.each;var A,aj,U,W,ah,af;var I,G,R,Q,J,O,X,w;var q,t,B=r.getDoc(),ag=document,z=i.ie&&i.ie<11;var N=Math.abs,ae=Math.round,F=r.getBody(),K,u;W={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var H=".mce-content-body";r.contentStyles.push(H+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+H+" .mce-resizehandle:hover {background: #000}"+H+" img[data-mce-selected],"+H+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+H+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+H+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");function ab(al){var ak=r.settings.object_resizing;if(ak===false||i.iOS){return false}if(typeof ak!="string"){ak="table,img,div"}if(al.getAttribute("data-mce-resize")==="false"){return false}if(al==r.getBody()){return false}return r.dom.is(al,ak)}function v(an){var al,ak,am;var ap,ao;al=an.screenX-I;ak=an.screenY-G;q=al*ah[2]+J;t=ak*ah[3]+O;q=q<5?5:q;t=t<5?5:t;if(A.nodeName=="IMG"&&r.settings.resize_img_proportional!==false){am=!n.modifierPressed(an)}else{am=n.modifierPressed(an)||(A.nodeName=="IMG"&&ah[2]*ah[3]!==0)}if(am){if(N(al)>N(ak)){t=ae(q*X);q=ae(t/X)}else{q=ae(t/X);t=ae(q*X)}}s.setStyles(aj,{width:q,height:t});ap=ah.startPos.x+al;ao=ah.startPos.y+ak;ap=ap>0?ap:0;ao=ao>0?ao:0;s.setStyles(U,{left:ap,top:ao,display:"block"});U.innerHTML=q+" &times; "+t;if(ah[2]<0&&aj.clientWidth<=q){s.setStyle(aj,"left",R+(J-q))}if(ah[3]<0&&aj.clientHeight<=t){s.setStyle(aj,"top",Q+(O-t))}al=F.scrollWidth-K;ak=F.scrollHeight-u;if(al+ak!==0){s.setStyles(U,{left:ap-al,top:ao-ak})}if(!w){r.fire("ObjectResizeStart",{target:A,width:J,height:O});w=true}}function V(){w=false;function ak(al,am){if(am){if(A.style[al]||!r.schema.isValid(A.nodeName.toLowerCase(),al)){s.setStyle(A,al,am)}else{s.setAttrib(A,al,am)}}}ak("width",q);ak("height",t);s.unbind(B,"mousemove",v);s.unbind(B,"mouseup",V);if(ag!=B){s.unbind(ag,"mousemove",v);s.unbind(ag,"mouseup",V)}s.remove(aj);s.remove(U);if(!z||A.nodeName=="TABLE"){P(A)}r.fire("ObjectResized",{target:A,width:q,height:t});s.setAttrib(A,"style",s.getAttrib(A,"style"));r.nodeChanged()}function P(aq,ao,am){var al,an,ak,ar,ap;L();ai();al=s.getPos(aq,F);R=al.x;Q=al.y;ap=aq.getBoundingClientRect();an=ap.width||(ap.right-ap.left);ak=ap.height||(ap.bottom-ap.top);if(A!=aq){ac();A=aq;q=t=0}ar=r.fire("ObjectSelected",{target:aq});if(ab(aq)&&!ar.isDefaultPrevented()){aa(W,function(aw,au){var av;function at(ax){I=ax.screenX;G=ax.screenY;J=A.clientWidth;O=A.clientHeight;X=O/J;ah=aw;aw.startPos={x:an*aw[0]+R,y:ak*aw[1]+Q};K=F.scrollWidth;u=F.scrollHeight;aj=A.cloneNode(true);s.addClass(aj,"mce-clonedresizable");s.setAttrib(aj,"data-mce-bogus","all");aj.contentEditable=false;aj.unSelectabe=true;s.setStyles(aj,{left:R,top:Q,margin:0});aj.removeAttribute("data-mce-selected");F.appendChild(aj);s.bind(B,"mousemove",v);s.bind(B,"mouseup",V);if(ag!=B){s.bind(ag,"mousemove",v);s.bind(ag,"mouseup",V)}U=s.add(F,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},J+" &times; "+O)}if(ao){if(au==ao){at(am)}return}av=s.get("mceResizeHandle"+au);if(av){s.remove(av)}av=s.add(F,"div",{id:"mceResizeHandle"+au,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:true,style:"cursor:"+au+"-resize; margin:0; padding:0"});if(i.ie){av.contentEditable=false}s.bind(av,"mousedown",function(ax){ax.stopImmediatePropagation();ax.preventDefault();at(ax)});aw.elm=av;s.setStyles(av,{left:(an*aw[0]+R)-(av.offsetWidth/2),top:(ak*aw[1]+Q)-(av.offsetHeight/2)})})}else{L()}A.setAttribute("data-mce-selected","1")}function L(){var ak,al;ai();if(A){A.removeAttribute("data-mce-selected")}for(ak in W){al=s.get("mceResizeHandle"+ak);if(al){s.unbind(al);s.remove(al)}}}function M(an){var am,ak;function al(ap,ao){if(ap){do{if(ap===ao){return true}}while((ap=ap.parentNode))}}if(w||r.removed){return}aa(s.select("img[data-mce-selected],hr[data-mce-selected]"),function(ao){ao.removeAttribute("data-mce-selected")});ak=an.type=="mousedown"?an.target:D.getNode();ak=s.$(ak).closest(z?"table":"table,img,hr")[0];if(al(ak,F)){S();am=D.getStart(true);if(al(am,ak)&&al(D.getEnd(true),ak)){if(!z||(ak!=am&&am.nodeName!=="IMG")){P(ak);return}}}L()}function x(am,ak,al){if(am&&am.attachEvent){am.attachEvent("on"+ak,al)}}function E(am,ak,al){if(am&&am.detachEvent){am.detachEvent("on"+ak,al)}}function C(am){var an=am.srcElement,ar,ak,at,aq,ao,ap,al;ar=an.getBoundingClientRect();ap=af.clientX-ar.left;al=af.clientY-ar.top;for(ak in W){at=W[ak];aq=an.offsetWidth*at[0];ao=an.offsetHeight*at[1];if(N(aq-ap)<8&&N(ao-al)<8){ah=at;break}}w=true;r.fire("ObjectResizeStart",{target:A,width:A.clientWidth,height:A.clientHeight});r.getDoc().selection.empty();P(an,ak,af)}function T(ak){if(ak.preventDefault){ak.preventDefault()}else{ak.returnValue=false}}function Y(ak){return m(j(r.getBody(),ak))}function ad(al){var ak=al.srcElement;if(Y(ak)){T(al);return}if(ak!=A){r.fire("ObjectSelected",{target:ak});ac();if(ak.id.indexOf("mceResizeHandle")===0){al.returnValue=false;return}if(ak.nodeName=="IMG"||ak.nodeName=="TABLE"){L();A=ak;x(ak,"resizestart",C)}}}function ac(){E(A,"resizestart",C)}function ai(){for(var ak in W){var al=W[ak];if(al.elm){s.unbind(al.elm);delete al.elm}}}function S(){try{r.getDoc().execCommand("enableObjectResizing",false,false)}catch(ak){}}function y(am){var al;if(!z){return}al=B.body.createControlRange();try{al.addElement(am);al.select();return true}catch(ak){}}r.on("init",function(){if(z){r.on("ObjectResized",function(al){if(al.target.nodeName!="TABLE"){L();y(al.target)}});x(F,"controlselect",ad);r.on("mousedown",function(al){af=al})}else{S();if(i.ie>=11){r.on("mousedown click",function(am){var al=am.target,an=al.nodeName;if(!w&&/^(TABLE|IMG|HR)$/.test(an)&&!Y(al)){r.selection.select(al,an=="TABLE");if(am.type=="mousedown"){r.nodeChanged()}}});r.dom.bind(F,"mscontrolselect",function(am){function al(an){o.setEditorTimeout(r,function(){r.selection.select(an)})}if(Y(am.target)){am.preventDefault();al(am.target);return}if(/^(TABLE|IMG|HR)$/.test(am.target.nodeName)){am.preventDefault();if(am.target.tagName=="IMG"){al(am.target)}}})}}var ak=o.throttle(function(al){if(!r.composing){M(al)}});r.on("nodechange ResizeEditor ResizeWindow drop",ak);r.on("keyup compositionend",function(al){if(A&&A.nodeName=="TABLE"){ak(al)}});r.on("hide blur",L)});r.on("remove",ai);function Z(){A=aj=null;if(z){ac();E(F,"controlselect",ad)}}return{isResizable:ab,showResizeRect:P,hideResizeRect:L,updateResizeRect:M,controlSelect:y,destroy:Z}}});h("tinymce/util/Fun",[],function(){var p=[].slice;function j(q){return function(){return q}}function o(q){return function(r){return !q(r)}}function n(r,q){return function(s){return r(q(s))}}function m(){var q=p.call(arguments);return function(r){for(var s=0;s<q.length;s++){if(q[s](r)){return true}}return false}}function l(){var q=p.call(arguments);return function(r){for(var s=0;s<q.length;s++){if(!q[s](r)){return false}}return true}}function i(r){var q=p.call(arguments);if(q.length-1>=r.length){return r.apply(this,q.slice(1))}return function(){var s=q.concat([].slice.call(arguments));return i.apply(this,s)}}function k(){}return{constant:j,negate:o,and:l,or:m,curry:i,compose:n,noop:k}});h("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(j,q,u){var x=j.isContentEditableTrue,r=j.isContentEditableFalse,t=j.isBr,p=j.isText,l=j.matchNodeNames("script style textarea"),k=j.matchNodeNames("img input textarea hr iframe video audio object"),w=j.matchNodeNames("table"),i=u.isCaretContainer;function s(y){if(i(y)){return false}if(p(y)){if(l(y.parentNode)){return false}return true}return k(y)||t(y)||w(y)||r(y)}function n(z,y){for(z=z.parentNode;z&&z!=y;z=z.parentNode){if(r(z)){return false}if(x(z)){return true}}return true}function v(y){if(!r(y)){return false}return q.reduce(y.getElementsByTagName("*"),function(z,A){return z||x(A)},false)!==true}function m(y){return k(y)||v(y)}function o(z,y){return s(z)&&n(z,y)}return{isCaretCandidate:s,isInEditable:n,isAtomic:m,isEditableCaretCandidate:o}});h("tinymce/geom/ClientRect",[],function(){var s=Math.round;function n(t){if(!t){return{left:0,top:0,bottom:0,right:0,width:0,height:0}}return{left:s(t.left),top:s(t.top),bottom:s(t.bottom),right:s(t.right),width:s(t.width),height:s(t.height)}}function q(u,t){u=n(u);if(t){u.right=u.left}else{u.left=u.left+u.width;u.right=u.left}u.width=0;return u}function m(u,t){return(u.left===t.left&&u.top===t.top&&u.bottom===t.bottom&&u.right===t.right)}function j(t,v,u){return t>=0&&t<=Math.min(v.height,u.height)/2}function l(u,t){if(u.bottom<t.top){return true}if(u.top>t.bottom){return false}return j(t.top-u.bottom,u,t)}function o(u,t){if(u.top>t.bottom){return true}if(u.bottom<t.top){return false}return j(t.bottom-u.top,u,t)}function r(u,t){return u.left<t.left}function p(u,t){return u.right>t.right}function i(u,t){if(l(u,t)){return -1}if(o(u,t)){return 1}if(r(u,t)){return -1}if(p(u,t)){return 1}return 0}function k(v,u,t){return(u>=v.left&&u<=v.right&&t>=v.top&&t<=v.bottom)}return{clone:n,collapse:q,isEqual:m,isAbove:l,isBelow:o,isLeft:r,isRight:p,compare:i,containsXY:k}});h("tinymce/text/ExtendingChar",[],function(){var j=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]");function i(k){return typeof k=="string"&&k.charCodeAt(0)>=768&&j.test(k)}return{isExtendingChar:i}});h("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(k,l,z,C,x,j,q){var v=l.isElement,s=x.isCaretCandidate,o=l.matchStyleValues("display","block table"),D=l.matchStyleValues("float","left right"),n=k.and(v,s,k.negate(D)),u=k.negate(l.matchStyleValues("white-space","pre pre-line pre-wrap")),r=l.isText,m=l.isBr,y=z.nodeIndex,w=C.getNode;function B(E){return"createRange" in E?E.createRange():z.DOM.createRng()}function p(E){return E&&/[\r\n\t ]/.test(E)}function A(F){var E=F.startContainer,H=F.startOffset,G;if(p(F.toString())&&u(E.parentNode)){G=E.data;if(p(G[H-1])||p(G[H+1])){return true}}return false}function t(I){var H=[],K,E;function G(S){var R=S.ownerDocument,P=B(R),O=R.createTextNode("\u00a0"),N=S.parentNode,Q;N.insertBefore(O,S);P.setStart(O,0);P.setEnd(O,1);Q=j.clone(P.getBoundingClientRect());N.removeChild(O);return Q}function F(O){var P,N;N=O.getClientRects();if(N.length>0){P=j.clone(N[0])}else{P=j.clone(O.getBoundingClientRect())}if(m(O)&&P.left===0){return G(O)}return P}function J(O,N){O=j.collapse(O,N);O.width=1;O.right=O.left+1;return O}function L(N){if(N.height===0){return}if(H.length>0){if(j.isEqual(N,H[H.length-1])){return}}H.push(N)}function M(N,P){var O=B(N.ownerDocument);if(P<N.data.length){if(q.isExtendingChar(N.data[P])){return H}if(q.isExtendingChar(N.data[P-1])){O.setStart(N,P);O.setEnd(N,P+1);if(!A(O)){L(J(F(O),false));return H}}}if(P>0){O.setStart(N,P-1);O.setEnd(N,P);if(!A(O)){L(J(F(O),false))}}if(P<N.data.length){O.setStart(N,P);O.setEnd(N,P+1);if(!A(O)){L(J(F(O),true))}}}if(r(I.container())){M(I.container(),I.offset());return H}if(v(I.container())){if(I.isAtEnd()){E=w(I.container(),I.offset());if(r(E)){M(E,E.data.length)}if(n(E)&&!m(E)){L(J(F(E),false))}}else{E=w(I.container(),I.offset());if(r(E)){M(E,0)}if(n(E)&&I.isAtEnd()){L(J(F(E),false));return H}K=w(I.container(),I.offset()-1);if(n(K)&&!m(K)){if(o(K)||o(E)||!n(E)){L(J(F(K),false))}}if(n(E)){L(J(F(E),true))}}}return H}function i(E,H,K){function J(){if(r(E)){return H===0}return H===0}function L(){if(r(E)){return H>=E.data.length}return H>=E.childNodes.length}function G(){var O;O=B(E.ownerDocument);O.setStart(E,H);O.setEnd(E,H);return O}function N(){if(!K){K=t(new i(E,H))}return K}function I(){return N().length>0}function M(O){return O&&E===O.container()&&H===O.offset()}function F(O){return w(E,O?H-1:H)}return{container:k.constant(E),offset:k.constant(H),toRange:G,getClientRects:N,isVisible:I,isAtStart:J,isAtEnd:L,isEqual:M,getNode:F}}i.fromRangeStart=function(E){return new i(E.startContainer,E.startOffset)};i.fromRangeEnd=function(E){return new i(E.endContainer,E.endOffset)};i.after=function(E){return new i(E.parentNode,y(E)+1)};i.before=function(E){return new i(E.parentNode,y(E))};return i});h("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(n,A,m,p,i){var u=n.isText,t=n.isBogus,z=A.nodeIndex;function k(C){var B=C.parentNode;if(t(B)){return k(B)}return B}function q(B){if(!B){return[]}return p.reduce(B.childNodes,function(C,D){if(t(D)&&D.nodeName!="BR"){C=C.concat(q(D))}else{C.push(D)}return C},[])}function r(C,B){while((C=C.previousSibling)){if(!u(C)){break}B+=C.data.length}return B}function v(B){return function(C){return B===C}}function o(E){var B,C,D;B=q(k(E));C=p.findIndex(B,v(E),E);B=B.slice(0,C+1);D=p.reduce(B,function(F,H,G){if(u(H)&&u(B[G-1])){F++}return F},0);B=p.filter(B,n.matchNodeNames(E.nodeName));C=p.findIndex(B,v(E),E);return C-D}function y(C){var B;if(u(C)){B="text()"}else{B=C.nodeName.toLowerCase()}return B+"["+o(C)+"]"}function l(C,E,B){var D=[];for(E=E.parentNode;E!=C;E=E.parentNode){if(B&&B(E)){break}D.push(E)}return D}function s(D,G){var C,I,F=[],B,H,E;C=G.container();I=G.offset();if(u(C)){B=r(C,I)}else{H=C.childNodes;if(I>=H.length){B="after";I=H.length-1}else{B="before"}C=H[I]}F.push(y(C));E=l(D,C);E=p.filter(E,m.negate(n.isBogus));F=F.concat(p.map(E,function(J){return y(J)}));return F.reverse().join("/")+","+B}function w(E,D,C){var B=q(E);B=p.filter(B,function(G,F){return !u(G)||!u(B[F-1])});B=p.filter(B,n.matchNodeNames(D));return B[C]}function j(B,F){var D=B,E=0,C;while(u(D)){C=D.data.length;if(F>=E&&F<=E+C){B=D;F=F-E;break}if(!u(D.nextSibling)){B=D;F=C;break}E+=C;D=D.nextSibling}if(F>B.data.length){F=B.data.length}return new i(B,F)}function x(C,E){var D,B,F;if(!E){return null}D=E.split(",");E=D[0].split("/");F=D.length>1?D[1]:"before";B=p.reduce(E,function(G,H){H=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(H);if(!H){return null}if(H[1]==="text()"){H[1]="#text"}return w(G,H[1],parseInt(H[2],10))},C);if(!B){return null}if(!u(B)){if(F==="after"){F=z(B)+1}else{F=z(B)}return new i(B.parentNode,F)}return j(B,parseInt(F,10))}return{create:s,resolve:x}});h("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils"],function(n,j,o,q,l,i,k){var m=i.isContentEditableFalse;function p(r){var s=r.dom;this.getBookmark=function(E,G){var u,x,w,A,v,B,z="&#xFEFF;",H;function t(I,J){var K=0;j.each(s.select(I),function(L){if(L.getAttribute("data-mce-bogus")==="all"){return}if(L==J){return false}K++});return K}function F(I){function J(O){var K,N,M,L=O?"start":"end";K=I[L+"Container"];N=I[L+"Offset"];if(K.nodeType==1&&K.nodeName=="TR"){M=K.childNodes;K=M[Math.min(O?N:N-1,M.length-1)];if(K){N=O?0:K.childNodes.length;I["set"+(O?"Start":"End")](K,N)}}}J(true);J();return I}function y(J){var I=s.getRoot(),K={};function L(O,T){var N=O[T?"startContainer":"endContainer"],S=O[T?"startOffset":"endOffset"],M=[],P,R,Q=0;if(N.nodeType==3){if(G){for(P=N.previousSibling;P&&P.nodeType==3;P=P.previousSibling){S+=P.nodeValue.length}}M.push(S)}else{R=N.childNodes;if(S>=R.length&&R.length){Q=1;S=Math.max(0,R.length-1)}M.push(s.nodeIndex(R[S],G)+Q)}for(;N&&N!=I;N=N.parentNode){M.push(s.nodeIndex(N,G))}return M}K.start=L(J,true);if(!r.isCollapsed()){K.end=L(J)}return K}function D(I){function J(L,M){var K;if(i.isElement(L)){L=k.getNode(L,M);if(m(L)){return L}}if(o.isCaretContainer(L)){if(i.isText(L)&&o.isCaretContainerBlock(L)){L=L.parentNode}K=L.previousSibling;if(m(K)){return K}K=L.nextSibling;if(m(K)){return K}}}return J(I.startContainer,I.startOffset)||J(I.endContainer,I.endOffset)}if(E==2){B=r.getNode();v=B?B.nodeName:null;u=r.getRng();if(m(B)||v=="IMG"){return{name:v,index:t(v,B)}}if(r.tridentSel){return r.tridentSel.getBookmark(E)}B=D(u);if(B){v=B.tagName;return{name:v,index:t(v,B)}}return y(u)}if(E==3){u=r.getRng();return{start:q.create(s.getRoot(),l.fromRangeStart(u)),end:q.create(s.getRoot(),l.fromRangeEnd(u))}}if(E){return{rng:r.getRng()}}u=r.getRng();w=s.uniqueId();A=r.isCollapsed();H="overflow:hidden;line-height:0px";if(u.duplicate||u.item){if(!u.item){x=u.duplicate();try{u.collapse();u.pasteHTML('<span data-mce-type="bookmark" id="'+w+'_start" style="'+H+'">'+z+"</span>");if(!A){x.collapse(false);u.moveToElementText(x.parentElement());if(u.compareEndPoints("StartToEnd",x)===0){x.move("character",-1)}x.pasteHTML('<span data-mce-type="bookmark" id="'+w+'_end" style="'+H+'">'+z+"</span>")}}catch(C){return null}}else{B=u.item(0);v=B.nodeName;return{name:v,index:t(v,B)}}}else{B=r.getNode();v=B.nodeName;if(v=="IMG"){return{name:v,index:t(v,B)}}x=F(u.cloneRange());if(!A){x.collapse(false);x.insertNode(s.create("span",{"data-mce-type":"bookmark",id:w+"_end",style:H},z))}u=F(u);u.collapse(true);u.insertNode(s.create("span",{"data-mce-type":"bookmark",id:w+"_start",style:H},z))}r.moveToBookmark({id:w,keep:1});return{id:w}};this.moveToBookmark=function(y){var t,C,v,D,z,A;function u(J){var E=y[J?"start":"end"],G,H,I,F;if(E){I=E[0];for(H=C,G=E.length-1;G>=1;G--){F=H.childNodes;if(E[G]>F.length-1){return}H=F[E[G]]}if(H.nodeType===3){I=Math.min(E[0],H.nodeValue.length)}if(H.nodeType===1){I=Math.min(E[0],H.childNodes.length)}if(J){t.setStart(H,I)}else{t.setEnd(H,I)}}return true}function w(K){var F=s.get(y.id+"_"+K),J,E,H,I,G=y.keep;if(F){J=F.parentNode;if(K=="start"){if(!G){E=s.nodeIndex(F)}else{J=F.firstChild;E=1}v=D=J;z=A=E}else{if(!G){E=s.nodeIndex(F)}else{J=F.firstChild;E=1}D=J;A=E}if(!G){I=F.previousSibling;H=F.nextSibling;j.each(j.grep(F.childNodes),function(L){if(L.nodeType==3){L.nodeValue=L.nodeValue.replace(/\uFEFF/g,"")}});while((F=s.get(y.id+"_"+K))){s.remove(F,1)}if(I&&H&&I.nodeType==H.nodeType&&I.nodeType==3&&!n.opera){E=I.nodeValue.length;I.appendData(H.nodeValue);s.remove(H);if(K=="start"){v=D=I;z=A=E}else{D=I;A=E}}}}}function x(E){if(s.isBlock(E)&&!E.innerHTML&&!n.ie){E.innerHTML='<br data-mce-bogus="1" />'}return E}function B(){var E,F;E=s.createRng();F=q.resolve(s.getRoot(),y.start);E.setStart(F.container(),F.offset());F=q.resolve(s.getRoot(),y.end);E.setEnd(F.container(),F.offset());return E}if(y){if(j.isArray(y.start)){t=s.createRng();C=s.getRoot();if(r.tridentSel){return r.tridentSel.moveToBookmark(y)}if(u(true)&&u()){r.setRng(t)}}else{if(typeof y.start=="string"){r.setRng(B(y))}else{if(y.id){w("start");w("end");if(v){t=s.createRng();t.setStart(x(v),z);t.setEnd(x(D),A);r.setRng(t)}}else{if(y.name){r.select(s.select(y.name)[y.index])}else{if(y.rng){r.setRng(y.rng)}}}}}}}}p.isBookmarkNode=function(r){return r&&r.tagName==="SPAN"&&r.getAttribute("data-mce-type")==="bookmark"};return p});h("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretPosition"],function(s,q,i,o,t,j,p,m,n){var r=m.each,l=m.trim;var k=p.ie;function u(z,y,x,w){var v=this;v.dom=z;v.win=y;v.serializer=x;v.editor=w;v.bookmarkManager=new t(v);v.controlSelection=new i(v,w);if(!v.win.getSelection){v.tridentSel=new q(v)}}u.prototype={setCursorLocation:function(x,y){var w=this,v=w.dom.createRng();if(!x){w._moveEndPoint(v,w.editor.getBody(),true);w.setRng(v)}else{v.setStart(x,y);v.setEnd(x,y);w.setRng(v);w.collapse(false)}},getContent:function(z){var x=this,w=x.getRng(),v=x.dom.create("body");var C=x.getSel(),B,A,y;z=z||{};B=A="";z.get=true;z.format=z.format||"html";z.selection=true;x.editor.fire("BeforeGetContent",z);if(z.format=="text"){return x.isCollapsed()?"":(w.text||(C.toString?C.toString():""))}if(w.cloneContents){y=w.cloneContents();if(y){v.appendChild(y)}}else{if(w.item!==g||w.htmlText!==g){v.innerHTML="<br>"+(w.item?w.item(0).outerHTML:w.htmlText);v.removeChild(v.firstChild)}else{v.innerHTML=w.toString()}}if(/^\s/.test(v.innerHTML)){B=" "}if(/\s+$/.test(v.innerHTML)){A=" "}z.getInner=true;z.content=x.isCollapsed()?"":B+x.serializer.serialize(v,z)+A;x.editor.fire("GetContent",z);return z.content},setContent:function(w,y){var D=this,v=D.getRng(),z,A=D.win.document,C,B;y=y||{format:"html"};y.set=true;y.selection=true;y.content=w;if(!y.no_events){D.editor.fire("BeforeSetContent",y)}w=y.content;if(v.insertNode){w+='<span id="__caret">_</span>';if(v.startContainer==A&&v.endContainer==A){A.body.innerHTML=w}else{v.deleteContents();if(A.body.childNodes.length===0){A.body.innerHTML=w}else{if(v.createContextualFragment){v.insertNode(v.createContextualFragment(w))}else{C=A.createDocumentFragment();B=A.createElement("div");C.appendChild(B);B.outerHTML=w;v.insertNode(C)}}}z=D.dom.get("__caret");v=A.createRange();v.setStartBefore(z);v.setEndBefore(z);D.setRng(v);D.dom.remove("__caret");try{D.setRng(v)}catch(x){}}else{if(v.item){A.execCommand("Delete",false,null);v=D.getRng()}if(/^\s+/.test(w)){v.pasteHTML('<span id="__mce_tmp">_</span>'+w);D.dom.remove("__mce_tmp")}else{v.pasteHTML(w)}}if(!y.no_events){D.editor.fire("SetContent",y)}},getStart:function(B){var x=this,w=x.getRng(),y,v,A,z;if(w.duplicate||w.item){if(w.item){return w.item(0)}A=w.duplicate();A.collapse(1);y=A.parentElement();if(y.ownerDocument!==x.dom.doc){y=x.dom.getRoot()}v=z=w.parentElement();while((z=z.parentNode)){if(z==y){y=v;break}}return y}y=w.startContainer;if(y.nodeType==1&&y.hasChildNodes()){if(!B||!w.collapsed){y=y.childNodes[Math.min(y.childNodes.length-1,w.startOffset)]}}if(y&&y.nodeType==3){return y.parentNode}return y},getEnd:function(z){var w=this,v=w.getRng(),y,x;if(v.duplicate||v.item){if(v.item){return v.item(0)}v=v.duplicate();v.collapse(0);y=v.parentElement();if(y.ownerDocument!==w.dom.doc){y=w.dom.getRoot()}if(y&&y.nodeName=="BODY"){return y.lastChild||y}return y}y=v.endContainer;x=v.endOffset;if(y.nodeType==1&&y.hasChildNodes()){if(!z||!v.collapsed){y=y.childNodes[x>0?x-1:x]}}if(y&&y.nodeType==3){return y.parentNode}return y},getBookmark:function(v,w){return this.bookmarkManager.getBookmark(v,w)},moveToBookmark:function(v){return this.bookmarkManager.moveToBookmark(v)},select:function(z,y){var x=this,A=x.dom,w=A.createRng(),v;x.lastFocusBookmark=null;if(z){if(!y&&x.controlSelection.controlSelect(z)){return}v=A.nodeIndex(z);w.setStart(z.parentNode,v);w.setEnd(z.parentNode,v+1);if(y){x._moveEndPoint(w,z,true);x._moveEndPoint(w,z)}x.setRng(w)}return z},isCollapsed:function(){var w=this,v=w.getRng(),x=w.getSel();if(!v||v.item){return false}if(v.compareEndPoints){return v.compareEndPoints("StartToEnd",v)===0}return !x||v.collapsed},collapse:function(x){var w=this,v=w.getRng(),y;if(v.item){y=v.item(0);v=w.win.document.body.createTextRange();v.moveToElementText(y)}v.collapse(!!x);w.setRng(v)},getSel:function(){var v=this.win;return v.getSelection?v.getSelection():v.document.selection},getRng:function(B){var F=this,D,v,z,C,x,E;function A(I,J,G){try{return J.compareBoundaryPoints(I,G)}catch(H){return -1}}if(!F.win){return null}C=F.win.document;if(typeof C==="undefined"||C===null){return null}if(!B&&F.lastFocusBookmark){var w=F.lastFocusBookmark;if(w.startContainer){v=C.createRange();v.setStart(w.startContainer,w.startOffset);v.setEnd(w.endContainer,w.endOffset)}else{v=w}return v}if(B&&F.tridentSel){return F.tridentSel.getRangeAt(0)}try{if((D=F.getSel())){if(D.rangeCount>0){v=D.getRangeAt(0)}else{v=D.createRange?D.createRange():C.createRange()}}}catch(y){}E=F.editor.fire("GetSelectionRange",{range:v});if(E.range!==v){return E.range}if(k&&v&&v.setStart&&C.selection){try{x=C.selection.createRange()}catch(y){}if(x&&x.item){z=x.item(0);v=C.createRange();v.setStartBefore(z);v.setEndAfter(z)}}if(!v){v=C.createRange?C.createRange():C.body.createTextRange()}if(v.setStart&&v.startContainer.nodeType===9&&v.collapsed){z=F.dom.getRoot();v.setStart(z,0);v.setEnd(z,0)}if(F.selectedRange&&F.explicitRange){if(A(v.START_TO_START,v,F.selectedRange)===0&&A(v.END_TO_END,v,F.selectedRange)===0){v=F.explicitRange}else{F.selectedRange=null;F.explicitRange=null}}return v},setRng:function(w,y){var x=this,B,A,v;if(!w){return}if(w.select){x.explicitRange=null;try{w.select()}catch(z){}return}if(!x.tridentSel){B=x.getSel();v=x.editor.fire("SetSelectionRange",{range:w});w=v.range;if(B){x.explicitRange=w;try{B.removeAllRanges();B.addRange(w)}catch(z){}if(y===false&&B.extend){B.collapse(w.endContainer,w.endOffset);B.extend(w.startContainer,w.startOffset)}x.selectedRange=B.rangeCount>0?B.getRangeAt(0):null}if(!w.collapsed&&w.startContainer==w.endContainer&&B.setBaseAndExtent&&!p.ie){if(w.endOffset-w.startOffset<2){if(w.startContainer.hasChildNodes()){A=w.startContainer.childNodes[w.startOffset];if(A&&A.tagName=="IMG"){B.setBaseAndExtent(w.startContainer,w.startOffset,w.endContainer,w.endOffset);if(B.anchorNode!==w.startContainer||B.focusNode!==w.endContainer){B.setBaseAndExtent(A,0,A,1)}}}}}x.editor.fire("AfterSetSelectionRange",{range:w})}else{if(w.cloneRange){try{x.tridentSel.addRange(w)}catch(z){}}}},setNode:function(w){var v=this;v.setContent(v.dom.getOuterHTML(w));return w},getNode:function(){var C=this,v=C.getRng(),y;var w,D,z,A,B=C.dom.getRoot();function x(F,E){var G=F;while(F&&F.nodeType===3&&F.length===0){F=E?F.nextSibling:F.previousSibling}return F||G}if(!v){return B}w=v.startContainer;D=v.endContainer;z=v.startOffset;A=v.endOffset;if(v.setStart){y=v.commonAncestorContainer;if(!v.collapsed){if(w==D){if(A-z<2){if(w.hasChildNodes()){y=w.childNodes[z]}}}if(w.nodeType===3&&D.nodeType===3){if(w.length===z){w=x(w.nextSibling,true)}else{w=w.parentNode}if(A===0){D=x(D.previousSibling,false)}else{D=D.parentNode}if(w&&w===D){return w}}}if(y&&y.nodeType==3){return y.parentNode}return y}y=v.item?v.item(0):v.parentElement();if(y.ownerDocument!==C.win.document){y=B}return y},getSelectedBlocks:function(y,x){var w=this,C=w.dom,z,v,B=[];v=C.getRoot();y=C.getParent(y||w.getStart(),C.isBlock);x=C.getParent(x||w.getEnd(),C.isBlock);if(y&&y!=v){B.push(y)}if(y&&x&&y!=x){z=y;var A=new s(y,v);while((z=A.next())&&z!=x){if(C.isBlock(z)){B.push(z)}}}if(x&&y!=x&&x!=v){B.push(x)}return B},isForward:function(){var x=this.dom,v=this.getSel(),y,w;if(!v||!v.anchorNode||!v.focusNode){return true}y=x.createRng();y.setStart(v.anchorNode,v.anchorOffset);y.collapse(true);w=x.createRng();w.setStart(v.focusNode,v.focusOffset);w.collapse(true);return y.compareBoundaryPoints(y.START_TO_START,w)<=0},normalize:function(){var w=this,v=w.getRng();if(p.range&&new o(w.dom).normalize(v)){w.setRng(v,w.isForward())}return v},selectorChanged:function(v,y){var w=this,x;if(!w.selectorChangedData){w.selectorChangedData={};x={};w.editor.on("NodeChange",function(C){var B=C.element,D=w.dom,z=D.getParents(B,null,D.getRoot()),A={};r(w.selectorChangedData,function(F,E){r(z,function(G){if(D.is(G,E)){if(!x[E]){r(F,function(H){H(true,{node:G,selector:E,parents:z})});x[E]=F}A[E]=F;return false}})});r(x,function(F,E){if(!A[E]){delete x[E];r(F,function(G){G(false,{node:B,selector:E,parents:z})})}})})}if(!w.selectorChangedData[v]){w.selectorChangedData[v]=[]}w.selectorChangedData[v].push(y);return w},synoSelectorMatched:function(v,y){var w=this,x;if(!w.synoSelectorMatchedData){w.synoSelectorMatchedData={};x={};w.editor.on("NodeChange",function(C){var B=C.element,D=w.dom,z=D.getParents(B,null,D.getRoot()),A={};r(w.synoSelectorMatchedData,function(F,E){r(z,function(G){if(D.is(G,E)){r(F,function(H){H(true,{node:G,selector:E,parents:z})});if(!x[E]){x[E]=F}A[E]=F;return false}})});r(x,function(F,E){if(!A[E]){delete x[E];r(F,function(G){G(false,{node:B,selector:E,parents:z})})}})})}if(!w.synoSelectorMatchedData[v]){w.synoSelectorMatchedData[v]=[]}w.synoSelectorMatchedData[v].push(y);return w},getScrollContainer:function(){var v,w=this.dom.getRoot();while(w&&w.nodeName!="BODY"){if(w.scrollHeight>w.clientHeight){v=w;break}w=w.parentNode}return v},getScrollContainer:function(){var v,w=this.dom.getRoot();while(w&&w.nodeName!="BODY"){if(w.scrollHeight>w.clientHeight){v=w;break}w=w.parentNode}return v},scrollIntoView:function(A,E){var C,G,H=this,x=H.dom,D=x.getRoot(),v,F,z=0;function w(L){var I=0,K=0;var J=L;while(J&&J.nodeType){I+=J.offsetLeft||0;K+=J.offsetTop||0;J=J.offsetParent}return{x:I,y:K}}if(!j.isElement(A)){return}if(E===false){z=A.offsetHeight}if(D.nodeName!="BODY"){var B=H.getScrollContainer();if(B){C=w(A).y-w(B).y+z;F=B.clientHeight;v=B.scrollTop;if(C<v||C+25>v+F){B.scrollTop=C<v?C:C-F+25}return}}G=x.getViewPort(H.editor.getWin());C=x.getPos(A).y+z;v=G.y;F=G.h;if(C<G.y||C+25>v+F){H.editor.getWin().scrollTo(0,C<v?C:C-F+25)}},placeCaretAt:function(w,v){this.setRng(o.getCaretRangeFromPoint(w,v,this.editor.getDoc()))},_moveEndPoint:function(w,y,A){var v=y,z=new s(y,v);var x=this.dom.schema.getNonEmptyElements();do{if(y.nodeType==3&&l(y.nodeValue).length!==0){if(A){w.setStart(y,0)}else{w.setEnd(y,y.nodeValue.length)}return}if(x[y.nodeName]&&!/^(TD|TH)$/.test(y.nodeName)){if(A){w.setStartBefore(y)}else{if(y.nodeName=="BR"){w.setEndBefore(y)}else{w.setEndAfter(y)}}return}if(p.ie&&p.ie<11&&this.dom.isBlock(y)&&this.dom.isEmpty(y)){if(A){w.setStart(y,0)}else{w.setEnd(y,0)}return}}while((y=(A?z.next():z.prev())));if(v.nodeName=="BODY"){if(A){w.setStart(v,0)}else{w.setEnd(v,v.childNodes.length)}}},getBoundingClientRect:function(){var v=this.getRng();return v.collapsed?n.fromRangeStart(v).getClientRects()[0]:v.getBoundingClientRect()},destroy:function(){this.win=null;this.controlSelection.destroy()}};return u});h("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(i,k){var l=k.each;function j(m){this.compare=function(p,o){if(p.nodeName!=o.nodeName){return false}function n(r){var s={};l(m.getAttribs(r),function(t){var u=t.nodeName.toLowerCase();if(u.indexOf("_")!==0&&u!=="style"&&u.indexOf("data-")!==0){s[u]=m.getAttrib(r,u)}});return s}function q(u,t){var s,r;for(r in u){if(u.hasOwnProperty(r)){s=t[r];if(typeof s=="undefined"){return false}if(u[r]!=s){return false}delete t[r]}}for(r in t){if(t.hasOwnProperty(r)){return false}}return true}if(!q(n(p),n(o))){return false}if(!q(m.parseStyle(m.getAttrib(p,"style")),m.parseStyle(m.getAttrib(o,"style")))){return false}return !i.isBookmarkNode(p)&&!i.isBookmarkNode(o)}}return j});h("tinymce/fmt/Preview",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/html/Schema"],function(p,i,n){var q=i.each;var l=p.DOM;function j(s,y){var A,B,z;var w=y&&y.schema||new n({});function t(D,C){if(C.classes.length){l.addClass(D,C.classes.join(" "))}l.setAttribs(D,C.attrs)}function v(C){var D;B=typeof C==="string"?{name:C,classes:[],attrs:{}}:C;D=l.create(B.name);t(D,B);return D}function x(G,F){var D=typeof G!=="string"?G.nodeName.toLowerCase():G;var C=w.getElementRule(D);var E=C.parentsRequired;if(E&&E.length){return F&&i.inArray(E,F)!==-1?F:E[0]}else{return false}}function u(J,D,I){var F,C,G;var E=D.length&&D[0];var H=E&&E.name;G=x(J,H);if(G){if(H==G){C=D[0];D=D.slice(1)}else{C=G}}else{if(E){C=D[0];D=D.slice(1)}else{if(!I){return J}}}if(C){F=v(C);F.appendChild(J)}if(I){if(!F){F=l.create("div");F.appendChild(J)}i.each(I,function(L){var K=v(L);F.insertBefore(K,J)})}return u(F,D,C&&C.siblings)}if(s&&s.length){B=s[0];A=v(B);z=l.create("div");z.appendChild(u(A,s.slice(1),B.siblings));return z}else{return""}}function m(s,t){return j(o(s),t)}function k(t){var s;var u={classes:[],attrs:{}};t=u.selector=i.trim(t);if(t!=="*"){s=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(x,w,A,z,y){switch(w){case"#":u.attrs.id=A;break;case".":u.classes.push(A);break;case":":if(i.inArray("checked disabled enabled read-only required".split(" "),A)!==-1){u.attrs[A]=A}break}if(z=="["){var v=y.match(/([\w\-]+)(?:\=\"([^\"]+))?/);if(v){u.attrs[v[1]]=v[2]}}return""})}u.name=s||"div";return u}function o(s){if(!s||typeof s!=="string"){return[]}s=s.split(/\s*,\s*/)[0];s=s.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return i.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var v=i.map(t.split(/(?:~\+|~|\+)/),k);var u=v.pop();if(v.length){u.siblings=v}return u}).reverse()}function r(w,A){var t,B,u,z;var s="",v,y;y=w.settings.preview_styles;if(y===false){return""}if(typeof y!=="string"){y="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}function x(C){return C.replace(/%(\w+)/g,"")}if(typeof A=="string"){A=w.formatter.get(A);if(!A){return}A=A[0]}if("preview" in A){y=A.preview;if(y===false){return""}}t=A.block||A.inline||"span";z=o(A.selector);if(z.length){if(!z[0].name){z[0].name=t}t=A.selector;B=j(z,w)}else{B=j([t],w)}u=l.select(t,B)[0]||B.firstChild;q(A.styles,function(D,C){D=x(D);if(D){l.setStyle(u,C,D)}});q(A.attributes,function(D,C){D=x(D);if(D){l.setAttrib(u,C,D)}});q(A.classes,function(C){C=x(C);if(!l.hasClass(u,C)){l.addClass(u,C)}});w.fire("PreviewFormats");l.setStyles(B,{position:"absolute",left:-65535});w.getBody().appendChild(B);v=l.getStyle(w.getBody(),"fontSize",true);v=/px$/.test(v)?parseInt(v,10):0;q(y.split(" "),function(C){var D=l.getStyle(u,C,true);if(C=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(D)){D=l.getStyle(w.getBody(),C,true);if(l.toHex(D).toLowerCase()=="#ffffff"){return}}if(C=="color"){if(l.toHex(D).toLowerCase()=="#000000"){return}}if(C=="font-size"){if(/em|%$/.test(D)){if(v===0){return}D=parseFloat(D,10)/(/%$/.test(D)?100:1);D=(D*v)+"px"}}if(C=="border"&&D){s+="padding:0 2px;"}s+=C+":"+D+";"});w.fire("AfterPreviewFormats");l.remove(B);return s}return{getCssText:r,parseSelector:o,selectorToHtml:m}});h("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(p,i,o){var n={},k=p.filter,m=p.each;function j(r,s){var q=n[r];if(!q){n[r]=q=[]}n[r].push(s)}function l(q,r){m(n[q],function(s){s(r)})}j("pre",function(u){var r=u.selection.getRng(),s,v;function t(w){return s(w.previousSibling)&&p.indexOf(v,w.previousSibling)!=-1}function q(x,w){o(w).remove();o(x).append("<br><br>").append(w.childNodes)}s=i.matchNodeNames("pre");if(!r.collapsed){v=u.selection.getSelectedBlocks();m(k(k(v,s),t),function(w){q(w.previousSibling,w)})}});return{postProcess:l}});h("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Fun","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(l,m,i,k,p,j,o,n){return function(aD){var an={},r=aD.dom,L=aD.selection,aj=new m(r),t=aD.schema.isValidChild,ad=r.isBlock,E=aD.settings.forced_root_block,N=r.nodeIndex,ab="\uFEFF",u=/^(src|href|style)$/,ax=false,X=true,am,Y,R=r.getContentEditable,ac,C,ag=i.isBookmarkNode;var aq=j.each,aB=j.grep,I=j.walk,J=j.extend;function ae(aE){if(aE.nodeType){aE=aE.nodeName}return !!aD.schema.getTextBlockElements()[aE.toLowerCase()]}function at(aE){return/^(TH|TD)$/.test(aE.nodeName)}function au(aE){return aE&&/^(IMG)$/.test(aE.nodeName)}function F(aF,aE){return r.getParents(aF,aE,r.getRoot())}function q(aE){return aE.nodeType===1&&aE.id==="_mce_caret"}function A(){D({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:false,preview:false,defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:false,preview:false,defaultBlock:"div"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:false,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(){return true},onformat:function(aG,aE,aF){aq(aF,function(aI,aH){r.setAttrib(aG,aH,aI)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});aq("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(aE){D(aE,{block:aE,remove:"all"})});D(aD.settings.formats)}function aw(){aD.addShortcut("meta+b","bold_desc","Bold");aD.addShortcut("meta+i","italic_desc","Italic");aD.addShortcut("meta+u","underline_desc","Underline");for(var aE=1;aE<=6;aE++){aD.addShortcut("access+"+aE,"",["FormatBlock",false,"h"+aE])}aD.addShortcut("access+7","",["FormatBlock",false,"p"]);aD.addShortcut("access+8","",["FormatBlock",false,"div"]);aD.addShortcut("access+9","",["FormatBlock",false,"address"])}function av(aE){return aE?an[aE]:an}function D(aE,aF){if(aE){if(typeof aE!=="string"){aq(aE,function(aH,aG){D(aG,aH)})}else{aF=aF.length?aF:[aF];aq(aF,function(aG){if(aG.deep===Y){aG.deep=!aG.selector}if(aG.split===Y){aG.split=!aG.selector||aG.inline}if(aG.remove===Y&&aG.selector&&!aG.inline){aG.remove="none"}if(aG.selector&&aG.inline){aG.mixed=true;aG.block_expand=true}if(typeof aG.classes==="string"){aG.classes=aG.classes.split(/\s+/)}});an[aE]=aF}}}function S(aE){if(aE&&an[aE]){delete an[aE]}return an}function z(aG,aE){var aH=av(aE);if(aH){for(var aF=0;aF<aH.length;aF++){if(aH[aF].inherit===false&&r.is(aG,aH[aF].selector)){return true}}}return false}function y(aF){var aE;aD.dom.getParent(aF,function(aG){aE=aD.dom.getStyle(aG,"text-decoration");return aE&&aE!=="none"});return aE}function ah(aE){var aF;if(aE.nodeType===1&&aE.parentNode&&aE.parentNode.nodeType===1){aF=y(aE.parentNode);if(aD.dom.getStyle(aE,"color")&&aF){aD.dom.setStyle(aE,"text-decoration",aF)}else{if(aD.dom.getStyle(aE,"text-decoration")===aF){aD.dom.setStyle(aE,"text-decoration",null)}}}}function aA(aH,aP,aJ){if(aH==="superscript"){W("subscript",aP,aJ)}else{if(aH==="subscript"){W("superscript",aP,aJ)}}var aL=av(aH),aQ=aL[0],aO,aF,aN=!aJ&&L.isCollapsed();function aE(aV,aT){aT=aT||aQ;if(aV){if(aT.onformat){aT.onformat(aV,aT,aP,aJ)}aq(aT.styles,function(aX,aW){r.setStyle(aV,aW,K(aX,aP))});if(aT.styles){var aU=r.getAttrib(aV,"style");if(aU){aV.setAttribute("data-mce-style",aU)}}aq(aT.attributes,function(aX,aW){r.setAttrib(aV,aW,K(aX,aP))});aq(aT.classes,function(aW){aW=K(aW,aP);if(!r.hasClass(aV,aW)){r.addClass(aV,aW)}})}}function aG(aV,aT){var aU=false;if(!aQ.selector){return false}aq(aV,function(aW){if("collapsed" in aW&&aW.collapsed!==aN){return}if(r.is(aT,aW.selector)&&!q(aT)){aE(aT,aW);aU=true;return false}});return aU}function aI(){function aV(a1,aZ){var a0=new l(aZ);for(aJ=a0.prev2();aJ;aJ=a0.prev2()){if(aJ.nodeType==3&&aJ.data.length>0){return aJ}if(aJ.childNodes.length>1||aJ==a1||aJ.tagName=="BR"){return aJ}}}var aU=aD.selection.getRng();var aY=aU.startContainer;var aT=aU.endContainer;if(aY!=aT&&aU.endOffset===0){var aX=aV(aY,aT);var aW=aX.nodeType==3?aX.data.length:aX.childNodes.length;aU.setEnd(aX,aW)}return aU}function aR(aU,aW,aZ){var aT=[],aY,aV,aX=true;aY=aQ.inline||aQ.block;aV=r.create(aY);aE(aV);aj.walk(aU,function(a0){var a1;function a2(a3){var a8,a6,a5,a7;a7=aX;a8=a3.nodeName.toLowerCase();a6=a3.parentNode.nodeName.toLowerCase();if(a3.nodeType===1&&R(a3)){a7=aX;aX=R(a3)==="true";a5=true}if(w(a8,"br")){a1=0;if(aQ.block){r.remove(a3)}return}if(aQ.wrapper&&U(a3,aH,aP)){a1=0;return}if(aX&&!a5&&aQ.block&&!aQ.wrapper&&ae(a8)&&t(a6,aY)){a3=r.rename(a3,aY);aE(a3);aT.push(a3);a1=0;return}if(aQ.selector){var a4=aG(aL,a3);if(!aQ.inline||a4){a1=0;return}}if(aX&&!a5&&t(aY,a8)&&t(a6,aY)&&!(!aZ&&a3.nodeType===3&&a3.nodeValue.length===1&&a3.nodeValue.charCodeAt(0)===65279)&&!q(a3)&&(!aQ.inline||!ad(a3))){if(!a1){a1=r.clone(aV,ax);a3.parentNode.insertBefore(a1,a3);aT.push(a1)}a1.appendChild(a3)}else{a1=0;aq(aB(a3.childNodes),a2);if(a5){aX=a7}a1=0}}aq(a0,a2)});if(aQ.links===true){aq(aT,function(a0){function a1(a2){if(a2.nodeName==="A"){aE(a2,aQ)}aq(aB(a2.childNodes),a1)}a1(a0)})}aq(aT,function(a3){var a1;function a5(a8){var a7=0;aq(a8.childNodes,function(a9){if(!v(a9)&&!ag(a9)){a7++}});return a7}function a0(a7){var a8=false;aq(a7.childNodes,function(a9){if(T(a9)){a8=a9;return false}});return a8}function a6(a8,a7){do{if(a5(a8)!==1){break}a8=a0(a8);if(!a8){break}else{if(a7(a8)){return a8}}}while(a8);return null}function a2(a7){var a9,a8;a9=a0(a7);if(a9&&!ag(a9)&&x(a9,aQ)){a8=r.clone(a9,ax);aE(a8);r.replace(a8,a7,X);r.remove(a9,1)}return a8||a7}a1=a5(a3);if((aT.length>1||!ad(a3))&&a1===0){r.remove(a3,1);return}if(aQ.inline||aQ.wrapper){if(!aQ.exact&&a1===1){a3=a2(a3)}aq(aL,function(a7){aq(r.select(a7.inline,a3),function(a8){if(ag(a8)){return}aC(a7,aP,a8,a7.exact?a8:null)})});if(U(a3.parentNode,aH,aP)){if(aC(aQ,aP,a3)){a3=0}}if(aQ.merge_with_parents){r.getParent(a3.parentNode,function(a7){if(U(a7,aH,aP)){if(aC(aQ,aP,a3)){a3=0}return X}})}if(!ad(a3)&&!ak(a3,"fontSize")){var a4=a6(a3,O("fontSize"));if(a4){aA("fontsize",{value:ak(a4,"fontSize")},a3)}}if(a3&&aQ.merge_siblings!==false){a3=P(Z(a3),a3);a3=P(a3,Z(a3,X))}}})}if(R(L.getNode())==="false"){aJ=L.getNode();for(var aM=0,aK=aL.length;aM<aK;aM++){if(aL[aM].ceFalseOverride&&r.is(aJ,aL[aM].selector)){aE(aJ,aL[aM]);return}}return}if(aQ){if(aJ){if(aJ.nodeType){if(!aG(aL,aJ)){aF=r.createRng();aF.setStartBefore(aJ);aF.setEndAfter(aJ);aR(H(aF,aL),null,true)}}else{aR(aJ,null,true)}}else{if(!aN||!aQ.inline||r.select("td[data-mce-selected],th[data-mce-selected]").length){var aS=aD.selection.getNode();if(!E&&aL[0].defaultBlock&&!r.getParent(aS,r.isBlock)){aA(aL[0].defaultBlock)}aD.selection.setRng(aI());aO=L.getBookmark();aR(H(L.getRng(X),aL),aO);if(aQ.styles){if(aQ.styles.color||aQ.styles.textDecoration){I(aS,ah,"childNodes");ah(aS)}if(aQ.styles.backgroundColor){al(aS,O("fontSize"),az("backgroundColor",K(aQ.styles.backgroundColor,aP)))}}L.moveToBookmark(aO);ao(L.getRng(X));aD.nodeChanged()}else{ar("apply",aH,aP)}}n.postProcess(aH,aD)}}function W(aG,aR,aI,aM){var aK=av(aG),aT=aK[0],aP,aF,aQ=true;function aH(aY){var aX,aW,aV,a0,aZ;if(aY.nodeType===1&&R(aY)){a0=aQ;aQ=R(aY)==="true";aZ=true}aX=aB(aY.childNodes);if(aQ&&!aZ){for(aW=0,aV=aK.length;aW<aV;aW++){if(aC(aK[aW],aR,aY,aY)){break}}}if(aT.deep){if(aX.length){for(aW=0,aV=aX.length;aW<aV;aW++){aH(aX[aW])}if(aZ){aQ=a0}}}}function aL(aV){var aW;aq(F(aV.parentNode).reverse(),function(aX){var aY;if(!aW&&aX.id!="_start"&&aX.id!="_end"){aY=U(aX,aG,aR,aM);if(aY&&aY.split!==false){aW=aX}}});return aW}function aE(aZ,aV,a0,a3){var a4,a2,a1,aX,aY,aW;if(aZ){aW=aZ.parentNode;for(a4=aV.parentNode;a4&&a4!=aW;a4=a4.parentNode){a2=r.clone(a4,ax);for(aY=0;aY<aK.length;aY++){if(aC(aK[aY],aR,a2,a2)){a2=0;break}}if(a2){if(a1){a2.appendChild(a1)}if(!aX){aX=a2}a1=a2}}if(a3&&(!aT.mixed||!ad(aZ))){aV=r.split(aZ,aV)}if(a1){a0.parentNode.insertBefore(a1,a0);aX.appendChild(a0)}}return aV}function aS(aV){return aE(aL(aV),aV,aV,true)}function aO(aX){var aW=r.get(aX?"_start":"_end"),aV=aW[aX?"firstChild":"lastChild"];if(ag(aV)){aV=aV[aX?"firstChild":"lastChild"]}if(aV.nodeType==3&&aV.data.length===0){aV=aX?aW.previousSibling||aW.nextSibling:aW.nextSibling||aW.previousSibling}r.remove(aW,true);return aV}function aU(aV){var aW,aX;var aY=aV.commonAncestorContainer;aV=H(aV,aK,X);if(aT.split){aW=ai(aV,X);aX=ai(aV);if(aW!=aX){if(/^(TR|TH|TD)$/.test(aW.nodeName)&&aW.firstChild){if(aW.nodeName=="TR"){aW=aW.firstChild.firstChild||aW}else{aW=aW.firstChild||aW}}if(aY&&/^T(HEAD|BODY|FOOT|R)$/.test(aY.nodeName)&&at(aX)&&aX.firstChild){aX=aX.firstChild||aX}if(r.isChildOf(aW,aX)&&!ad(aX)&&!at(aW)&&!at(aX)){aW=ap(aW,"span",{id:"_start","data-mce-type":"bookmark"});aS(aW);aW=aO(X);return}aW=ap(aW,"span",{id:"_start","data-mce-type":"bookmark"});aX=ap(aX,"span",{id:"_end","data-mce-type":"bookmark"});aS(aW);aS(aX);aW=aO(X);aX=aO()}else{aW=aX=aS(aW)}aV.startContainer=aW.parentNode?aW.parentNode:aW;aV.startOffset=N(aW);aV.endContainer=aX.parentNode?aX.parentNode:aX;aV.endOffset=N(aX)+1}aj.walk(aV,function(aZ){aq(aZ,function(a0){aH(a0);if(a0.nodeType===1&&aD.dom.getStyle(a0,"text-decoration")==="underline"&&a0.parentNode&&y(a0.parentNode)==="underline"){aC({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,a0)}})})}if(aI){if(aI.nodeType){aF=r.createRng();aF.setStartBefore(aI);aF.setEndAfter(aI);aU(aF)}else{aU(aI)}return}if(R(L.getNode())==="false"){aI=L.getNode();for(var aN=0,aJ=aK.length;aN<aJ;aN++){if(aK[aN].ceFalseOverride){if(aC(aK[aN],aR,aI,aI)){break}}}return}if(!L.isCollapsed()||!aT.inline||r.select("td[data-mce-selected],th[data-mce-selected]").length){aP=L.getBookmark();aU(L.getRng(X));L.moveToBookmark(aP);if(aT.inline&&B(aG,aR,L.getStart())){ao(L.getRng(true))}aD.nodeChanged()}else{ar("remove",aG,aR,aM)}}function aa(aF,aH,aG){var aE=av(aF);if(B(aF,aH,aG)&&(!("toggle" in aE[0])||aE[0].toggle)){W(aF,aH,aG)}else{aA(aF,aH,aG)}}function U(aF,aE,aK,aI){var aG=av(aE),aL,aJ,aH;function aM(aQ,aS,aT){var aP,aR,aN=aS[aT],aO;if(aS.onmatch){return aS.onmatch(aQ,aS,aT)}if(aN){if(aN.length===Y){for(aP in aN){if(aN.hasOwnProperty(aP)){if(aT==="attributes"){aR=r.getAttrib(aQ,aP)}else{aR=ak(aQ,aP)}if(aI&&!aR&&!aS.exact){return}if((!aI||aS.exact)&&!w(aR,M(K(aN[aP],aK),aP))){return}}}}else{for(aO=0;aO<aN.length;aO++){if(aT==="attributes"?r.getAttrib(aQ,aN[aO]):ak(aQ,aN[aO])){return aS}}}}return aS}if(aG&&aF){for(aJ=0;aJ<aG.length;aJ++){aL=aG[aJ];if(x(aF,aL)&&aM(aF,aL,"attributes")&&aM(aF,aL,"styles")){if((aH=aL.classes)){for(aJ=0;aJ<aH.length;aJ++){if(!r.hasClass(aF,aH[aJ])){return}}}return aL}}}}function B(aG,aI,aH){var aF;function aE(aK){var aJ=r.getRoot();if(aK===aJ){return false}aK=r.getParent(aK,function(aL){if(z(aL,aG)){return true}return aL.parentNode===aJ||!!U(aL,aG,aI,true)});return U(aK,aG,aI)}if(aH){return aE(aH)}aH=L.getNode();if(aE(aH)){return X}aF=L.getStart();if(aF!=aH){if(aE(aF)){return X}}return ax}function Q(aI,aH){var aF,aG=[],aE={};aF=L.getStart();r.getParent(aF,function(aL){var aK,aJ;for(aK=0;aK<aI.length;aK++){aJ=aI[aK];if(!aE[aJ]&&U(aL,aJ,aH)){aE[aJ]=true;aG.push(aJ)}}},r.getRoot());return aG}function V(aI){var aK=av(aI),aH,aG,aJ,aF,aE;if(aK){aH=L.getStart();aG=F(aH);for(aF=aK.length-1;aF>=0;aF--){aE=aK[aF].selector;if(!aE||aK[aF].defaultBlock){return X}for(aJ=aG.length-1;aJ>=0;aJ--){if(r.is(aG[aJ],aE)){return X}}}}return ax}function af(aE,aH,aF){var aG;if(!am){am={};aG={};aD.on("NodeChange",function(aJ){var aI=F(aJ.element),aK={};aI=j.grep(aI,function(aL){return aL.nodeType==1&&!aL.getAttribute("data-mce-bogus")});aq(am,function(aL,aM){aq(aI,function(aN){if(U(aN,aM,{},aL.similar)){if(!aG[aM]){aq(aL,function(aO){aO(true,{node:aN,format:aM,parents:aI})});aG[aM]=aL}aK[aM]=aL;return false}if(z(aN,aM)){return false}})});aq(aG,function(aL,aM){if(!aK[aM]){delete aG[aM];aq(aL,function(aN){aN(false,{node:aJ.element,format:aM,parents:aI})})}})})}aq(aE.split(","),function(aI){if(!am[aI]){am[aI]=[];am[aI].similar=aF}am[aI].push(aH)});return this}function ay(aE){return o.getCssText(aD,aE)}J(this,{get:av,register:D,unregister:S,apply:aA,remove:W,toggle:aa,match:B,matchAll:Q,matchNode:U,canApply:V,formatChanged:af,getCssText:ay});A();aw();aD.on("BeforeGetContent",function(aE){if(C&&aE.format!="raw"){C()}});aD.on("mouseup keydown",function(aE){if(ac){ac(aE)}});function x(aE,aF){if(w(aE,aF.inline)){return X}if(w(aE,aF.block)){return X}if(aF.selector){return aE.nodeType==1&&r.is(aE,aF.selector)}}function w(aF,aE){aF=aF||"";aE=aE||"";aF=""+(aF.nodeName||aF);aE=""+(aE.nodeName||aE);return aF.toLowerCase()==aE.toLowerCase()}function al(aF,aE,aG){aq(aF.childNodes,function(aH){if(T(aH)){if(aE(aH)){aG(aH)}if(aH.hasChildNodes()){al(aH,aE,aG)}}})}function T(aE){return aE.nodeType==1&&!ag(aE)&&!v(aE)&&!q(aE)}function O(aE){return p.curry(function(aF,aG){return !!(aG&&ak(aG,aF))},aE)}function az(aE,aF){return p.curry(function(aG,aI,aH){r.setStyle(aH,aG,aI)},aE,aF)}function ak(aF,aE){return M(r.getStyle(aF,aE),aE)}function M(aF,aE){if(aE=="color"||aE=="backgroundColor"){aF=r.toHex(aF)}if(aE=="fontWeight"&&aF==700){aF="bold"}if(aE=="fontFamily"){aF=aF.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return""+aF}function K(aE,aF){if(typeof aE!="string"){aE=aE(aF)}else{if(aF){aE=aE.replace(/%(\w+)/g,function(aH,aG){return aF[aG]||aH})}}return aE}function v(aE){return aE&&aE.nodeType===3&&/^([\t \r\n]+|)$/.test(aE.nodeValue)}function ap(aG,aF,aE){var aH=r.create(aF,aE);aG.parentNode.insertBefore(aH,aG);aH.appendChild(aG);return aH}function H(aE,aP,aH){var aQ,aK,aO,aG=aE.startContainer,aL=aE.startOffset,aT=aE.endContainer,aN=aE.endOffset;function aR(a0){var aV,aY,aX,aW,aU;aV=aY=a0?aG:aT;aW=a0?"previousSibling":"nextSibling";aU=r.getRoot();function aZ(a1){return a1.nodeName=="BR"&&a1.getAttribute("data-mce-bogus")&&!a1.nextSibling}if(aV.nodeType==3&&!v(aV)){if(a0?aL>0:aN<aV.nodeValue.length){return aV}}while(true){if(!aP[0].block_expand&&ad(aY)){return aY}for(aX=aY[aW];aX;aX=aX[aW]){if(!ag(aX)&&!v(aX)&&!aZ(aX)){return aY}}if(aY==aU||aY.parentNode==aU){aV=aY;break}aY=aY.parentNode}return aV}function aJ(aU,aV){if(aV===Y){aV=aU.nodeType===3?aU.length:aU.childNodes.length}while(aU&&aU.hasChildNodes()){aU=aU.childNodes[aV];if(aU){aV=aU.nodeType===3?aU.length:aU.childNodes.length}}return{node:aU,offset:aV}}if(aG.nodeType==1&&aG.hasChildNodes()){aQ=aG.childNodes.length-1;aG=aG.childNodes[aL>aQ?aQ:aL];if(aG.nodeType==3){aL=0}}if(aT.nodeType==1&&aT.hasChildNodes()){aQ=aT.childNodes.length-1;aT=aT.childNodes[aN>aQ?aQ:aN-1];if(aT.nodeType==3){aN=aT.nodeValue.length}}function aS(aV){var aU=aV;while(aU){if(aU.nodeType===1&&R(aU)){return R(aU)==="false"?aU:aV}aU=aU.parentNode}return aV}function aM(aV,aZ,a1){var aY,aW,a0,aU;function aX(a3,a5){var a6,a2,a4=a3.nodeValue;if(typeof a5=="undefined"){a5=a1?a4.length:0}if(a1){a6=a4.lastIndexOf(" ",a5);a2=a4.lastIndexOf("\u00a0",a5);a6=a6>a2?a6:a2;if(a6!==-1&&!aH){a6++}}else{a6=a4.indexOf(" ",a5);a2=a4.indexOf("\u00a0",a5);a6=a6!==-1&&(a2===-1||a6<a2)?a6:a2}return a6}if(aV.nodeType===3){a0=aX(aV,aZ);if(a0!==-1){return{container:aV,offset:a0}}aU=aV}aY=new l(aV,r.getParent(aV,ad)||aD.getBody());while((aW=aY[a1?"prev":"next"]())){if(aW.nodeType===3){aU=aW;a0=aX(aW);if(a0!==-1){return{container:aW,offset:a0}}}else{if(ad(aW)){break}}}if(aU){if(a1){aZ=0}else{aZ=aU.length}return{container:aU,offset:aZ}}}function aI(aV,aU){var aW,aX,aZ,aY;if(aV.nodeType==3&&aV.nodeValue.length===0&&aV[aU]){aV=aV[aU]}aW=F(aV);for(aX=0;aX<aW.length;aX++){for(aZ=0;aZ<aP.length;aZ++){aY=aP[aZ];if("collapsed" in aY&&aY.collapsed!==aE.collapsed){continue}if(r.is(aW[aX],aY.selector)){return aW[aX]}}}return aV}function aF(aW,aU){var aX,aV=r.getRoot();if(!aP[0].wrapper){aX=r.getParent(aW,aP[0].block,aV)}if(!aX){aX=r.getParent(aW.nodeType==3?aW.parentNode:aW,function(aY){return aY!=aV&&ae(aY)})}if(aX&&aP[0].wrapper){aX=F(aX,"ul,ol").reverse()[0]||aX}if(!aX){aX=aW;while(aX[aU]&&!ad(aX[aU])){aX=aX[aU];if(w(aX,"br")){break}}}return aX||aW}aG=aS(aG);aT=aS(aT);if(ag(aG.parentNode)||ag(aG)){aG=ag(aG)?aG:aG.parentNode;aG=aG.nextSibling||aG;if(aG.nodeType==3){aL=0}}if(ag(aT.parentNode)||ag(aT)){aT=ag(aT)?aT:aT.parentNode;aT=aT.previousSibling||aT;if(aT.nodeType==3){aN=aT.length}}if(aP[0].inline){if(aE.collapsed){aO=aM(aG,aL,true);if(aO){aG=aO.container;aL=aO.offset}aO=aM(aT,aN);if(aO){aT=aO.container;aN=aO.offset}}aK=aJ(aT,aN);if(aK.node){while(aK.node&&aK.offset===0&&aK.node.previousSibling){aK=aJ(aK.node.previousSibling)}if(aK.node&&aK.offset>0&&aK.node.nodeType===3&&aK.node.nodeValue.charAt(aK.offset-1)===" "){if(aK.offset>1){aT=aK.node;aT.splitText(aK.offset-1)}}}}if(aP[0].inline||aP[0].block_expand){if(!aP[0].inline||(aG.nodeType!=3||aL===0)){aG=aR(true)}if(!aP[0].inline||(aT.nodeType!=3||aN===aT.nodeValue.length)){aT=aR()}}if(aP[0].selector&&aP[0].expand!==ax&&!aP[0].inline){aG=aI(aG,"previousSibling");aT=aI(aT,"nextSibling")}if(aP[0].block||aP[0].selector){aG=aF(aG,"previousSibling");aT=aF(aT,"nextSibling");if(aP[0].block){if(!ad(aG)){aG=aR(true)}if(!ad(aT)){aT=aR()}}}if(aG.nodeType==1){aL=N(aG);aG=aG.parentNode}if(aT.nodeType==1){aN=N(aT)+1;aT=aT.parentNode}return{startContainer:aG,startOffset:aL,endContainer:aT,endOffset:aN}}function s(aE,aF){return aF.links&&aE.tagName=="A"}function aC(aL,aK,aI,aE){var aH,aF,aJ;if(!x(aI,aL)&&!s(aI,aL)){return ax}if(aL.remove!="all"){aq(aL.styles,function(aN,aM){aN=M(K(aN,aK),aM);if(typeof aM==="number"){aM=aN;aE=0}if(aL.remove_similar||(!aE||w(ak(aE,aM),aN))){r.setStyle(aI,aM,"")}aJ=1});if(aJ&&r.getAttrib(aI,"style")===""){aI.removeAttribute("style");aI.removeAttribute("data-mce-style")}aq(aL.attributes,function(aO,aM){var aN;aO=K(aO,aK);if(typeof aM==="number"){aM=aO;aE=0}if(!aE||w(r.getAttrib(aE,aM),aO)){if(aM=="class"){aO=r.getAttrib(aI,aM);if(aO){aN="";aq(aO.split(/\s+/),function(aP){if(/mce\-\w+/.test(aP)){aN+=(aN?" ":"")+aP}});if(aN){r.setAttrib(aI,aM,aN);return}}}if(aM=="class"){aI.removeAttribute("className")}if(u.test(aM)){aI.removeAttribute("data-mce-"+aM)}aI.removeAttribute(aM)}});aq(aL.classes,function(aM){aM=K(aM,aK);if(!aE||r.hasClass(aE,aM)){r.removeClass(aI,aM)}});aF=r.getAttribs(aI);for(aH=0;aH<aF.length;aH++){var aG=aF[aH].nodeName;if(aG.indexOf("_")!==0&&aG.indexOf("data-")!==0){return ax}}}if(aL.remove!="none"){G(aI,aL);return X}}function G(aG,aH){var aE=aG.parentNode,aF;function aI(aK,aJ,aL){aK=Z(aK,aJ,aL);return !aK||(aK.nodeName=="BR"||ad(aK))}if(aH.block){if(!E){if(ad(aG)&&!ad(aE)){if(!aI(aG,ax)&&!aI(aG.firstChild,X,1)){aG.insertBefore(r.create("br"),aG.firstChild)}if(!aI(aG,X)&&!aI(aG.lastChild,ax,1)){aG.appendChild(r.create("br"))}}}else{if(aE==r.getRoot()){if(!aH.list_block||!w(aG,aH.list_block)){aq(aB(aG.childNodes),function(aJ){if(t(E,aJ.nodeName.toLowerCase())){if(!aF){aF=ap(aJ,E);r.setAttribs(aF,aD.settings.forced_root_block_attrs)}else{aF.appendChild(aJ)}}else{aF=0}})}}}}if(aH.selector&&aH.inline&&!w(aH.inline,aG)){return}r.remove(aG,1)}function Z(aF,aE,aG){if(aF){aE=aE?"nextSibling":"previousSibling";for(aF=aG?aF:aF[aE];aF;aF=aF[aE]){if(aF.nodeType==1||!v(aF)){return aF}}}}function P(aI,aH){var aG,aF,aE=new k(r);function aJ(aL,aK){for(aG=aL;aG;aG=aG[aK]){if(aG.nodeType==3&&aG.nodeValue.length!==0){return aL}if(aG.nodeType==1&&!ag(aG)){return aG}}return aL}if(aI&&aH){aI=aJ(aI,"previousSibling");aH=aJ(aH,"nextSibling");if(aE.compare(aI,aH)){for(aG=aI.nextSibling;aG&&aG!=aH;){aF=aG;aG=aG.nextSibling;aI.appendChild(aF)}r.remove(aH);aq(aB(aH.childNodes),function(aK){aI.appendChild(aK)});return aI}}return aH}function ai(aF,aI){var aE,aH,aG;aE=aF[aI?"startContainer":"endContainer"];aH=aF[aI?"startOffset":"endOffset"];if(aE.nodeType==1){aG=aE.childNodes.length-1;if(!aI&&aH){aH--}aE=aE.childNodes[aH>aG?aG:aH]}if(aE.nodeType===3&&aI&&aH>=aE.nodeValue.length){aE=new l(aE,aD.getBody()).next()||aE}if(aE.nodeType===3&&!aI&&aH===0){aE=new l(aE,aD.getBody()).prev()||aE}return aE}function ar(aO,aE,aM,aI){var aP="_mce_caret",aF=aD.settings.caret_debug;function aG(aT){var aS=r.create("span",{id:aP,"data-mce-bogus":true,style:aF?"color:red":""});if(aT){aS.appendChild(aD.getDoc().createTextNode(ab))}return aS}function aN(aT,aS){while(aT){if((aT.nodeType===3&&aT.nodeValue!==ab)||aT.childNodes.length>1){return false}if(aS&&aT.nodeType===1){aS.push(aT)}aT=aT.firstChild}return true}function aK(aS){while(aS){if(aS.id===aP){return aS}aS=aS.parentNode}}function aJ(aS){var aT;if(aS){aT=new l(aS,aS);for(aS=aT.current();aS;aS=aT.next()){if(aS.nodeType===3){return aS}}}}function aH(aU,aT){var aV,aS;if(!aU){aU=aK(L.getStart());if(!aU){while((aU=r.get(aP))){aH(aU,false)}}}else{aS=L.getRng(true);if(aN(aU)){if(aT!==false){aS.setStartBefore(aU);aS.setEndBefore(aU)}r.remove(aU)}else{aV=aJ(aU);if(aV.nodeValue.charAt(0)===ab){aV.deleteData(0,1);if(aS.startContainer==aV&&aS.startOffset>0){aS.setStart(aV,aS.startOffset-1)}if(aS.endContainer==aV&&aS.endOffset>0){aS.setEnd(aV,aS.endOffset-1)}}r.remove(aU,1)}L.setRng(aS)}}function aL(){var aU,aS,aZ,aY,aW,aT,aX;aU=L.getRng(true);aY=aU.startOffset;aT=aU.startContainer;aX=aT.nodeValue;aS=aK(L.getStart());if(aS){aZ=aJ(aS)}var aV=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(aX&&aY>0&&aY<aX.length&&aV.test(aX.charAt(aY))&&aV.test(aX.charAt(aY-1))){aW=L.getBookmark();aU.collapse(true);aU=H(aU,av(aE));aU=aj.split(aU);aA(aE,aM,aU);L.moveToBookmark(aW)}else{if(!aS||aZ.nodeValue!==ab){aS=aG(true);aZ=aS.firstChild;aU.insertNode(aS);aY=1;aA(aE,aM,aS)}else{aA(aE,aM,aS)}L.setCursorLocation(aZ,aY)}}function aQ(){var aS=L.getRng(true),aT,aW,aZ,aY,aU,a2,a1=[],aX,a0;aT=aS.startContainer;aW=aS.startOffset;aU=aT;if(aT.nodeType==3){if(aW!=aT.nodeValue.length){aY=true}aU=aU.parentNode}while(aU){if(U(aU,aE,aM,aI)){a2=aU;break}if(aU.nextSibling){aY=true}a1.push(aU);aU=aU.parentNode}if(!a2){return}if(aY){aZ=L.getBookmark();aS.collapse(true);aS=H(aS,av(aE),true);aS=aj.split(aS);W(aE,aM,aS);L.moveToBookmark(aZ)}else{a0=aG();aU=a0;for(aX=a1.length-1;aX>=0;aX--){aU.appendChild(r.clone(a1[aX],false));aU=aU.firstChild}aU.appendChild(r.doc.createTextNode(ab));aU=aU.firstChild;var aV=r.getParent(a2,ae);if(aV&&r.isEmpty(aV)){a2.parentNode.replaceChild(a0,a2)}else{r.insertAfter(a0,a2)}L.setCursorLocation(aU,1);if(r.isEmpty(a2)){r.remove(a2)}}}function aR(){var aS;aS=aK(L.getStart());if(aS&&!r.isEmpty(aS)){I(aS,function(aT){if(aT.nodeType==1&&aT.id!==aP&&!r.isEmpty(aT)){r.setAttrib(aT,"data-mce-bogus",null)}},"childNodes")}}if(!aD._hasCaretEvents){C=function(){var aS=[],aT;if(aN(aK(L.getStart()),aS)){aT=aS.length;while(aT--){r.setAttrib(aS[aT],"data-mce-bogus","1")}}};ac=function(aT){var aS=aT.keyCode;aH();if(aS==8&&L.isCollapsed()&&L.getStart().innerHTML==ab){aH(aK(L.getStart()))}if(aS==37||aS==39){aH(aK(L.getStart()))}aR()};aD.on("SetContent",function(aS){if(aS.selection){aR()}});aD._hasCaretEvents=true}if(aO=="apply"){aL()}else{aQ()}}function ao(aF){var aE=aF.startContainer,aL=aF.startOffset,aH,aK,aJ,aG,aI;if(aF.startContainer==aF.endContainer){if(au(aF.startContainer.childNodes[aF.startOffset])){return}}if(aE.nodeType==3&&aL>=aE.nodeValue.length){aL=N(aE);aE=aE.parentNode;aH=true}if(aE.nodeType==1){aG=aE.childNodes;aE=aG[Math.min(aL,aG.length-1)];aK=new l(aE,r.getParent(aE,r.isBlock));if(aL>aG.length-1||aH){aK.next()}for(aJ=aK.current();aJ;aJ=aK.next()){if(aJ.nodeType==3&&!v(aJ)){aI=r.create("a",{"data-mce-bogus":"all"},ab);aJ.parentNode.insertBefore(aI,aJ);aF.setStart(aJ,0);L.setRng(aF);r.remove(aI);return}}}}}});h("tinymce/undo/Diff",[],function(){var k=0,j=1,i=2;var l=function(n,s){var v=n.length+s.length+2;var t=new Array(v);var m=new Array(v);var q=function(y,w,x){return{start:y,end:w,diag:x}};var p=function(x,C,w,B,D){var E=u(x,C,w,B);if(E===null||E.start===C&&E.diag===C-B||E.end===x&&E.diag===x-w){var A=x;var z=w;while(A<C||z<B){if(A<C&&z<B&&n[A]===s[z]){D.push([k,n[A]]);++A;++z}else{if(C-x>B-w){D.push([i,n[A]]);++A}else{D.push([j,s[z]]);++z}}}}else{p(x,E.start,w,E.start-E.diag,D);for(var y=E.start;y<E.end;++y){D.push([k,n[y]])}p(E.end,C,E.end-E.diag,B,D)}};var r=function(A,z,y,w){var x=A;while(x-z<w&&x<y&&n[x]===s[x-z]){++x}return q(A,x,z)};var u=function(z,I,w,G){var B=I-z;var A=G-w;if(B===0||A===0){return null}var L=B-A;var F=A+B;var D=(F%2===0?F:F+1)/2;t[1+D]=z;m[1+D]=I+1;for(var H=0;H<=D;++H){for(var C=-H;C<=H;C+=2){var E=C+D;if(C===-H||C!=H&&t[E-1]<t[E+1]){t[E]=t[E+1]}else{t[E]=t[E-1]+1}var K=t[E];var J=K-z+w-C;while(K<I&&J<G&&n[K]===s[J]){t[E]=++K;++J}if(L%2!=0&&L-H<=C&&C<=L+H){if(m[E-L]<=t[E]){return r(m[E-L],C+z-w,I,G)}}}for(C=L-H;C<=L+H;C+=2){E=C+D-L;if(C===L-H||C!=L+H&&m[E+1]<=m[E-1]){m[E]=m[E+1]-1}else{m[E]=m[E-1]}K=m[E]-1;J=K-z+w-C;while(K>=z&&J>=w&&n[K]===s[J]){m[E]=K--;J--}if(L%2===0&&-H<=C&&C<=H){if(m[E]<=t[E+L]){return r(m[E],C+z-w,I,G)}}}}};var o=[];p(0,n.length,0,s.length,o);return o};return{KEEP:k,DELETE:i,INSERT:j,diff:l}});h("tinymce/undo/Fragments",["tinymce/util/Arr","tinymce/html/Entities","tinymce/undo/Diff"],function(p,l,j){var m=function(s){if(s.nodeType===1){return s.outerHTML}else{if(s.nodeType===3){return l.encodeRaw(s.data,false)}else{if(s.nodeType===8){return"<!--"+s.data+"-->"}}}return""};var n=function(t){var v,u,s;s=document.createElement("div");v=document.createDocumentFragment();if(t){s.innerHTML=t}while((u=s.firstChild)){v.appendChild(u)}return v};var k=function(w,u,t){var s=n(u);if(w.hasChildNodes()&&t<w.childNodes.length){var v=w.childNodes[t];v.parentNode.insertBefore(s,v)}else{w.appendChild(s)}};var q=function(u,s){if(u.hasChildNodes()&&s<u.childNodes.length){var t=u.childNodes[s];t.parentNode.removeChild(t)}};var o=function(t,u){var s=0;p.each(t,function(v){if(v[0]===j.KEEP){s++}else{if(v[0]===j.INSERT){k(u,v[1],s);s++}else{if(v[0]===j.DELETE){q(u,s)}}}})};var i=function(s){return p.map(s.childNodes,m)};var r=function(s,u){var t=p.map(u.childNodes,m);o(j.diff(t,s),u);return u};return{read:i,write:r}});h("tinymce/undo/Levels",["tinymce/util/Arr","tinymce/undo/Fragments"],function(m,q){var j=function(r){return r.indexOf("</iframe>")!==-1};var p=function(r){return{type:"fragmented",fragments:r,content:"",bookmark:null,beforeBookmark:null}};var i=function(r){return{type:"complete",fragments:null,content:r,bookmark:null,beforeBookmark:null}};var l=function(t){var s,u,r;s=q.read(t.getBody());r=m.map(s,function(v){return t.serializer.trimContent(v)});u=r.join("");return j(u)?p(r):i(u)};var k=function(r,t,s){if(t.type==="fragmented"){q.write(t.fragments,r.getBody())}else{r.setContent(t.content,{format:"raw"})}r.selection.moveToBookmark(s?t.beforeBookmark:t.bookmark)};var o=function(r){return r.type==="fragmented"?r.fragments.join(""):r.content};var n=function(s,r){return o(s)===o(r)};return{createFragmentedLevel:p,createCompleteLevel:i,createFromEditor:l,applyToEditor:k,isEq:n}});h("tinymce/UndoManager",["tinymce/util/VK","tinymce/util/Tools","tinymce/undo/Levels"],function(k,i,j){return function(q){var u=this,r=0,n=[],o,s,t=0;function p(v){q.setDirty(v)}function m(v){u.typing=false;u.add({},v)}function l(){if(u.typing){u.typing=false;u.add()}}q.on("init",function(){u.add()});q.on("BeforeExecCommand",function(w){var v=w.command;if(v!=="Undo"&&v!=="Redo"&&v!=="mceRepaint"){l();u.beforeChange()}});q.on("ExecCommand",function(w){var v=w.command;if(v!=="Undo"&&v!=="Redo"&&v!=="mceRepaint"){m(w)}});q.on("ObjectResizeStart Cut",function(){u.beforeChange()});q.on("SaveContent ObjectResized blur",m);q.on("DragEnd",m);q.on("KeyUp",function(w){var v=w.keyCode;if(w.isDefaultPrevented()){return}if((v>=33&&v<=36)||(v>=37&&v<=40)||v===45||w.ctrlKey){m();q.nodeChanged()}if(v===46||v===8){q.nodeChanged()}if(s&&u.typing){if(!q.isDirty()){p(n[0]&&!j.isEq(j.createFromEditor(q),n[0]));if(q.isDirty()){q.fire("change",{level:n[0],lastLevel:null})}}q.fire("TypingUndo");s=false;q.nodeChanged()}});q.on("KeyDown",function(x){var w=x.keyCode;if(x.isDefaultPrevented()){return}if((w>=33&&w<=36)||(w>=37&&w<=40)||w===45){if(u.typing){m(x)}return}var v=(x.ctrlKey&&!x.altKey)||x.metaKey;if((w<16||w>20)&&w!==224&&w!==91&&!u.typing&&!v){u.beforeChange();u.typing=true;u.add({},x);s=true}});q.on("MouseDown",function(v){if(u.typing){m(v)}});q.addShortcut("meta+z","","Undo");q.addShortcut("meta+y,meta+shift+z","","Redo");q.on("AddUndo Undo Redo ClearUndos",function(v){if(!v.isDefaultPrevented()){q.nodeChanged()}});u={data:n,typing:false,beforeChange:function(){if(!t){o=q.selection.getBookmark(2,true)}},add:function(B,z){var w,x=q.settings,y,A;A=j.createFromEditor(q);B=B||{};B=i.extend(B,A);if(t||q.removed){return null}y=n[r];if(q.fire("BeforeAddUndo",{level:B,lastLevel:y,originalEvent:z}).isDefaultPrevented()){return null}if(y&&j.isEq(y,B)){return null}if(n[r]){n[r].beforeBookmark=o}if(x.custom_undo_redo_levels){if(n.length>x.custom_undo_redo_levels){for(w=0;w<n.length-1;w++){n[w]=n[w+1]}n.length--;r=n.length}}B.bookmark=q.selection.getBookmark(2,true);if(r<n.length-1){n.length=r+1}n.push(B);r=n.length-1;var v={level:B,lastLevel:y,originalEvent:z};q.fire("AddUndo",v);if(r>0){p(true);q.fire("change",v)}return B},undo:function(){var v;if(u.typing){u.add();u.typing=false}if(r>0){v=n[--r];j.applyToEditor(q,v,true);p(true);q.fire("undo",{level:v})}return v},redo:function(){var v;if(r<n.length-1){v=n[++r];j.applyToEditor(q,v,false);p(true);q.fire("redo",{level:v})}return v},clear:function(){n=[];r=0;u.typing=false;u.data=n;q.fire("ClearUndos")},hasUndo:function(){return r>0||(u.typing&&n[0]&&!j.isEq(j.createFromEditor(q),n[0]))},hasRedo:function(){return r<n.length-1&&!u.typing},transact:function(v){l();u.beforeChange();try{t++;v()}finally{t--}return u.add()},extra:function(y,w){var x,v;if(u.transact(y)){v=n[r].bookmark;x=n[r-1];j.applyToEditor(q,x,true);if(u.transact(w)){n[r-1].beforeBookmark=v}}}};return u}});h("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/caret/CaretContainer","tinymce/Env"],function(j,m,l,i){var k=i.ie&&i.ie<11;return function(s){var p=s.dom,t=s.selection,n=s.settings;var v=s.undoManager,o=s.schema,q=o.getNonEmptyElements(),u=o.getMoveCaretBeforeOnEnterElements();function r(P){var J,W,w,N,I,D,ac,Q,R,B,x,A,H,Z,L,T;function U(ad){return ad&&p.isBlock(ad)&&!/^(TD|TH|CAPTION|FORM)$/.test(ad.nodeName)&&!/^(fixed|absolute)/i.test(ad.style.position)&&p.getContentEditable(ad)!=="true"}function S(ad){return ad&&/^(TD|TH|CAPTION)$/.test(ad.nodeName)}function V(ae){var ad;if(p.isBlock(ae)){ad=t.getRng();ae.appendChild(p.create("span",null,"\u00a0"));t.select(ae);ae.lastChild.outerHTML="";t.setRng(ad)}}function M(af){var ae=af,ag=[],ad;if(!ae){return}while((ae=ae.firstChild)){if(p.isBlock(ae)){return}if(ae.nodeType==1&&!q[ae.nodeName.toLowerCase()]){ag.push(ae)}}ad=ag.length;while(ad--){ae=ag[ad];if(!ae.hasChildNodes()||(ae.firstChild==ae.lastChild&&ae.firstChild.nodeValue==="")){p.remove(ae)}else{if(ae.nodeName=="A"&&(ae.innerText||ae.textContent)===" "){p.remove(ae)}}}}function z(ae){var ak,ah,ad,ag=ae,af;function aj(al){while(al){if(al.nodeType==1||(al.nodeType==3&&al.data&&/[\r\n\s]/.test(al.data))){return al}al=al.nextSibling}}if(!ae){return}if(i.ie&&i.ie<9&&D&&D.firstChild){if(D.firstChild==D.lastChild&&D.firstChild.tagName=="BR"){p.remove(D.firstChild)}}if(/^(LI|DT|DD)$/.test(ae.nodeName)){var ai=aj(ae.firstChild);if(ai&&/^(UL|OL|DL)$/.test(ai.nodeName)){ae.insertBefore(p.doc.createTextNode("\u00a0"),ae.firstChild)}}ad=p.createRng();if(!i.ie){ae.normalize()}if(ae.hasChildNodes()){ak=new j(ae,ae);while((ah=ak.current())){if(ah.nodeType==3){ad.setStart(ah,0);ad.setEnd(ah,0);break}if(u[ah.nodeName.toLowerCase()]){ad.setStartBefore(ah);ad.setEndBefore(ah);break}ag=ah;ah=ak.next()}if(!ah){ad.setStart(ag,0);ad.setEnd(ag,0)}}else{if(ae.nodeName=="BR"){if(ae.nextSibling&&p.isBlock(ae.nextSibling)){if(!ac||ac<9){af=p.create("br");ae.parentNode.insertBefore(af,ae)}ad.setStartBefore(ae);ad.setEndBefore(ae)}else{ad.setStartAfter(ae);ad.setEndAfter(ae)}}else{ad.setStart(ae,0);ad.setEnd(ae,0)}}t.setRng(ad);p.remove(af);t.scrollIntoView(ae)}function K(ae){var ad=n.forced_root_block;if(ad&&ad.toLowerCase()===ae.tagName.toLowerCase()){p.setAttribs(ae,n.forced_root_block_attrs)}}function C(ad){ad.innerHTML=!k?'<br data-mce-bogus="1">':""}function F(ae){var ag=N,ai,ah,ad,af=o.getTextInlineElements();if(ae||H=="TABLE"||H=="HR"){ai=p.create(ae||L);K(ai)}else{ai=D.cloneNode(false)}ad=ai;if(n.keep_styles!==false){do{if(af[ag.nodeName]){if(ag.id=="_mce_caret"){continue}ah=ag.cloneNode(false);p.setAttrib(ah,"id","");if(ai.hasChildNodes()){ah.appendChild(ai.firstChild);ai.appendChild(ah)}else{ad=ah;ai.appendChild(ah)}}}while((ag=ag.parentNode)&&ag!=w)}if(!k){ad.innerHTML='<br data-mce-bogus="1">'}return ai}function E(ai){var ah,af,ad,ag,ae;if(N.nodeType==3&&(ai?I>0:I<N.nodeValue.length)){return false}if(N.parentNode==D&&T&&!ai){return true}if(ai&&N.nodeType==1&&N==D.firstChild){return true}ag=["TABLE","HR"];for(ae=0;ae<ag.length;++ae){if(N.nodeName===ag[ae]||(N.previousSibling&&N.previousSibling.nodeName==ag[ae])){return(T&&!ai)||(!T&&ai)}}ah=new j(N,D);if(N.nodeType==3){if(ai&&I===0){ah.prev()}else{if(!ai&&I==N.nodeValue.length){ah.next()}}}while((af=ah.current())){if(af.nodeType===1){if(!af.getAttribute("data-mce-bogus")){ad=af.nodeName.toLowerCase();if(q[ad]&&ad!=="br"){return false}}}else{if(af.nodeType===3&&!/^[ \t\r\n]*$/.test(af.nodeValue)){return false}}if(ai){ah.prev()}else{ah.next()}}return true}function y(ae,ai){var ak,af,ag,ah,aj,ad,al=L||"P";af=p.getParent(ae,p.isBlock);if(!af||!U(af)){af=af||w;if(af==s.getBody()||S(af)){ad=af.nodeName.toLowerCase()}else{ad=af.parentNode.nodeName.toLowerCase()}if(!af.hasChildNodes()){ak=p.create(al);K(ak);af.appendChild(ak);J.setStart(ak,0);J.setEnd(ak,0);return ak}ah=ae;while(ah.parentNode!=af){ah=ah.parentNode}while(ah&&!p.isBlock(ah)){ag=ah;ah=ah.previousSibling}if(ag&&o.isValidChild(ad,al.toLowerCase())){ak=p.create(al);K(ak);ag.parentNode.insertBefore(ak,ag);ah=ag;while(ah&&!p.isBlock(ah)){aj=ah.nextSibling;ak.appendChild(ah);ah=aj}J.setStart(ae,ai);J.setEnd(ae,ai)}}return ae}function X(){function ae(ah){var ag=A[ah?"firstChild":"lastChild"];while(ag){if(ag.nodeType==1){break}ag=ag[ah?"nextSibling":"previousSibling"]}return ag===D}function af(){var ag=A.parentNode;if(/^(LI|DT|DD)$/.test(ag.nodeName)){return ag}return A}if(A==s.getBody()){return}var ad=A.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(ad)){L="LI"}B=L?F(L):p.create("BR");if(ae(true)&&ae()){if(ad=="LI"){p.insertAfter(B,af())}else{p.replace(B,A)}}else{if(ae(true)){if(ad=="LI"){p.insertAfter(B,af());B.appendChild(p.doc.createTextNode(" "));B.appendChild(A)}else{A.parentNode.insertBefore(B,A)}}else{if(ae()){p.insertAfter(B,af());V(B)}else{A=af();W=J.cloneRange();W.setStartAfter(D);W.setEndAfter(A);x=W.extractContents();if(L=="LI"&&x.firstChild.nodeName=="LI"){B=x.firstChild;p.insertAfter(x,A)}else{p.insertAfter(x,A);p.insertAfter(B,A)}}}}p.remove(D);z(B);v.add()}function ab(){s.execCommand("InsertLineBreak",false,P)}function G(ad){do{if(ad.nodeType===3){ad.nodeValue=ad.nodeValue.replace(/^[\r\n]+/,"")}ad=ad.firstChild}while(ad)}function aa(af){var ad=p.getRoot(),ae,ag;ae=af;while(ae!==ad&&p.getContentEditable(ae)!=="false"){if(p.getContentEditable(ae)==="true"){ag=ae}ae=ae.parentNode}return ae!==ad?ag:ad}function Y(ae){var ad;if(!k){ae.normalize();ad=ae.lastChild;if(!ad||(/^(left|right)$/gi.test(p.getStyle(ad,"float",true)))){p.add(ae,"br")}}}function O(){if(/^(H[1-6]|PRE|FIGURE)$/.test(H)&&Z!="HGROUP"){B=F(L)}else{B=F()}if(n.end_container_on_empty_block&&U(A)&&p.isEmpty(D)){B=p.split(A,D)}else{p.insertAfter(B,D)}z(B)}J=t.getRng(true);if(P.isDefaultPrevented()){return}if(!J.collapsed){s.execCommand("Delete");return}new m(p).normalize(J);N=J.startContainer;I=J.startOffset;L=(n.force_p_newlines?"p":"")||n.forced_root_block;L=L?L.toUpperCase():"";ac=p.doc.documentMode;Q=P.shiftKey;if(N.nodeType==1&&N.hasChildNodes()){T=I>N.childNodes.length-1;N=N.childNodes[Math.min(I,N.childNodes.length-1)]||N;if(T&&N.nodeType==3){I=N.nodeValue.length}else{I=0}}w=aa(N);if(!w){return}v.beforeChange();if(!p.isBlock(w)&&w!=p.getRoot()){if(!L||Q){ab()}return}if((L&&!Q)||(!L&&Q)){N=y(N,I)}D=p.getParent(N,p.isBlock);A=D?p.getParent(D.parentNode,p.isBlock):null;H=D?D.nodeName.toUpperCase():"";Z=A?A.nodeName.toUpperCase():"";if(Z=="LI"&&!P.ctrlKey){D=A;H=Z}if(s.undoManager.typing){s.undoManager.typing=false;s.undoManager.add()}if(/^(LI|DT|DD)$/.test(H)){if(!L&&Q){ab();return}if(p.isEmpty(D)){X();return}}if(H=="PRE"&&n.br_in_pre!==false){if(!Q){ab();return}}else{if((!L&&!Q&&H!="LI")||(L&&Q)){ab();return}}if(L&&D===s.getBody()){return}L=L||"P";if(l.isCaretContainerBlock(D)){B=l.showCaretContainerBlock(D);if(p.isEmpty(D)){C(D)}z(B)}else{if(E()){O()}else{if(E(true)){R=H==="HR"||(N.previousSibling&&N.previousSibling.nodeName==="HR");B=D.parentNode.insertBefore(F(),D);V(B);R?z(B):z(D)}else{W=J.cloneRange();W.setEndAfter(D);x=W.extractContents();G(x);B=x.firstChild;p.insertAfter(x,D);M(B);Y(D);if(p.isEmpty(D)){C(D)}B.normalize();if(p.isEmpty(B)){p.remove(B);O()}else{z(B)}}}}p.setAttrib(B,"id","");s.fire("NewBlock",{newBlock:B});v.typing=false;v.add()}s.on("keydown",function(w){if(w.keyCode==13){if(r(w)!==false){w.preventDefault()}}})}});h("tinymce/ForceBlocks",[],function(){return function(k){var j=k.settings,n=k.dom,i=k.selection;var m=k.schema,l=m.getBlockElements();function o(){var u=i.getStart(),s=k.getBody(),p;var v,A,E,C,t;var w,x=-16777215,B,q;var D,r,z;z=j.forced_root_block;if(!u||u.nodeType!==1||!z){return}while(u&&u!=s){if(l[u.nodeName]){return}u=u.parentNode}p=i.getRng();if(p.setStart){v=p.startContainer;A=p.startOffset;E=p.endContainer;C=p.endOffset;try{q=k.getDoc().activeElement===s}catch(y){}}else{if(p.item){u=p.item(0);p=k.getDoc().body.createTextRange();p.moveToElementText(u)}q=p.parentElement().ownerDocument===k.getDoc();D=p.duplicate();D.collapse(true);A=D.move("character",x)*-1;if(!D.collapsed){D=p.duplicate();D.collapse(false);C=(D.move("character",x)*-1)-A}}u=s.firstChild;r=s.nodeName.toLowerCase();while(u){if(((u.nodeType===3||(u.nodeType==1&&!l[u.nodeName])))&&m.isValidChild(r,z.toLowerCase())){if(u.nodeType===3&&u.nodeValue.length===0){w=u;u=u.nextSibling;n.remove(w);continue}if(!t){t=n.create(z,k.settings.forced_root_block_attrs);u.parentNode.insertBefore(t,u);B=true}w=u;u=u.nextSibling;t.appendChild(w)}else{t=null;u=u.nextSibling}}if(B&&q){if(p.setStart){p.setStart(v,A);p.setEnd(E,C);i.setRng(p)}else{try{p=k.getDoc().body.createTextRange();p.moveToElementText(s);p.collapse(true);p.moveStart("character",A);if(C>0){p.moveEnd("character",C)}p.select()}catch(y){}}k.nodeChanged()}}if(j.forced_root_block){k.on("NodeChange",o)}}});h("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(m,p,q,i,u,H){var v=q.isContentEditableTrue,F=q.isContentEditableFalse,z=q.matchStyleValues("display","block table table-cell table-caption"),n=u.isCaretContainer,s=u.isCaretContainerBlock,I=m.curry,D=q.isElement,A=H.isCaretCandidate;function j(M){return M>0}function E(M){return M<0}function J(M,O){var N;while((N=M(O))){if(!s(N)){return N}}return null}function r(N,P,R,M,O){var Q=new p(N,M);if(E(P)){if(F(N)||s(N)){N=J(Q.prev,true);if(R(N)){return N}}while((N=J(Q.prev,O))){if(R(N)){return N}}}if(j(P)){if(F(N)||s(N)){N=J(Q.next,true);if(R(N)){return N}}while((N=J(Q.next,O))){if(R(N)){return N}}}return null}function y(N,M){for(N=N.parentNode;N&&N!=M;N=N.parentNode){if(v(N)){return N}}return M}function t(N,M){while(N&&N!=M){if(z(N)){return N}N=N.parentNode}return null}function w(M,O,N){return t(M.container(),N)==t(O.container(),N)}function L(M,O,N){return y(M.container(),N)==y(O.container(),N)}function l(N,O){var M,P;if(!O){return null}M=O.container();P=O.offset();if(!D(M)){return null}return M.childNodes[P+N]}function C(O,N){var M=N.ownerDocument.createRange();if(O){M.setStartBefore(N);M.setEndBefore(N)}else{M.setStartAfter(N);M.setEndAfter(N)}return M}function K(O,N,M){return t(N,O)==t(M,O)}function B(Q,N,P){var O,M;if(Q){M="previousSibling"}else{M="nextSibling"}while(P&&P!=N){O=P[M];if(n(O)){O=O[M]}if(F(O)){if(K(N,O,P)){return O}break}if(A(O)){break}P=P.parentNode}return null}var x=I(C,true);var k=I(C,false);function o(T,O,R){var P,M,Q,U;var N=I(B,true,O);var S=I(B,false,O);M=R.startContainer;Q=R.startOffset;if(u.isCaretContainerBlock(M)){if(!D(M)){M=M.parentNode}U=M.getAttribute("data-mce-caret");if(U=="before"){P=M.nextSibling;if(F(P)){return x(P)}}if(U=="after"){P=M.previousSibling;if(F(P)){return k(P)}}}if(!R.collapsed){return R}if(q.isText(M)){if(n(M)){if(T===1){P=S(M);if(P){return x(P)}P=N(M);if(P){return k(P)}}if(T===-1){P=N(M);if(P){return k(P)}P=S(M);if(P){return x(P)}}return R}if(u.endsWithCaretContainer(M)&&Q>=M.data.length-1){if(T===1){P=S(M);if(P){return x(P)}}return R}if(u.startsWithCaretContainer(M)&&Q<=1){if(T===-1){P=N(M);if(P){return k(P)}}return R}if(Q===M.data.length){P=S(M);if(P){return x(P)}return R}if(Q===0){P=N(M);if(P){return k(P)}return R}}return R}function G(M,N){return F(l(M,N))}return{isForwards:j,isBackwards:E,findNode:r,getEditingHost:y,getParentBlock:t,isInSameBlock:w,isInSameEditingHost:L,isBeforeContentEditableFalse:I(G,0),isAfterContentEditableFalse:I(G,-1),normalizeRange:o}});h("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(l,A,i,B,n,k){var z=l.isContentEditableFalse,q=l.isText,v=l.isElement,m=l.isBr,j=B.isForwards,x=B.isBackwards,r=A.isCaretCandidate,o=A.isAtomic,w=A.isEditableCaretCandidate;function p(E,C){var D=[];while(E&&E!=C){D.push(E);E=E.parentNode}return D}function y(C,D){if(C.hasChildNodes()&&D<C.childNodes.length){return C.childNodes[D]}return null}function t(D,C){if(j(D)){if(r(C.previousSibling)&&!q(C.previousSibling)){return i.before(C)}if(q(C)){return i(C,0)}}if(x(D)){if(r(C.nextSibling)&&!q(C.nextSibling)){return i.after(C)}if(q(C)){return i(C,C.data.length)}}if(x(D)){if(m(C)){return i.before(C)}return i.after(C)}return i.before(C)}function s(E,C){var D;if(!l.isBr(E)){return false}D=u(1,i.after(E),C);if(!D){return false}return !B.isInSameBlock(i.before(E),i.before(D),C)}function u(K,J,D){var C,G,E,F,L,H,I;if(!v(D)||!J){return null}I=J;C=I.container();G=I.offset();if(q(C)){if(x(K)&&G>0){return i(C,--G)}if(j(K)&&G<C.length){return i(C,++G)}E=C}else{if(x(K)&&G>0){F=y(C,G-1);if(r(F)){if(!o(F)){L=B.findNode(F,K,w,F);if(L){if(q(L)){return i(L,L.data.length)}return i.after(L)}}if(q(F)){return i(F,F.data.length)}return i.before(F)}}if(j(K)&&G<C.childNodes.length){F=y(C,G);if(r(F)){if(s(F,D)){return u(K,i.after(F),D)}if(!o(F)){L=B.findNode(F,K,w,F);if(L){if(q(L)){return i(L,0)}return i.before(L)}}if(q(F)){return i(F,0)}return i.after(F)}}E=I.getNode()}if((j(K)&&I.isAtEnd())||(x(K)&&I.isAtStart())){E=B.findNode(E,K,k.constant(true),D,true);if(w(E)){return t(K,E)}}F=B.findNode(E,K,w,D);H=n.last(n.filter(p(C,D),z));if(H&&(!F||!H.contains(F))){if(j(K)){I=i.after(H)}else{I=i.before(H)}return I}if(F){return t(K,F)}return null}return function(C){return{next:function(D){return u(1,D,C)},prev:function(D){return u(-1,D,C)}}}});h("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(l,x,j){var p=function(A){var C=A.firstChild;var B=A.lastChild;if(C&&C.name==="meta"){C=C.next}if(B&&B.attr("id")==="mce_marker"){B=B.prev}if(!C||C!==B){return false}return C.name==="ul"||C.name==="ol"};var i=function(A){var C=A.firstChild;var B=A.lastChild;if(C&&C.nodeName==="META"){C.parentNode.removeChild(C)}if(B&&B.id==="mce_marker"){B.parentNode.removeChild(B)}return A};var y=function(E,D,B){var C=D.serialize(B);var A=E.createFragment(C);return i(A)};var s=function(A){return l.grep(A.childNodes,function(B){return B.nodeName==="LI"})};var r=function(A){return !A.firstChild};var k=function(A){return A.length>0&&r(A[A.length-1])?A.slice(0,-1):A};var u=function(C,A){var B=C.getParent(A,C.isBlock);return B&&B.nodeName==="LI"?B:null};var v=function(B,A){return !!u(B,A)};var m=function(A,B){var C=B.cloneRange();var D=B.cloneRange();C.setStartBefore(A);D.setEndAfter(A);return[C.cloneContents(),D.cloneContents()]};var z=function(D,B){var C=j.before(D);var A=new x(B);var E=A.next(C);return E?E.toRange():null};var o=function(D,B){var C=j.after(D);var A=new x(B);var E=A.prev(C);return E?E.toRange():null};var t=function(E,C,B,A){var D=m(E,A);var F=E.parentNode;F.insertBefore(D[0],E);l.each(C,function(G){F.insertBefore(G,E)});F.insertBefore(D[1],E);F.removeChild(E);return o(C[C.length-1],B)};var n=function(C,B,A){var D=C.parentNode;l.each(B,function(E){D.insertBefore(E,C)});return z(C,A)};var w=function(C,B,A,D){D.insertAfter(B.reverse(),C);return o(B[0],A)};var q=function(H,C,A,G){var I=y(C,H,G);var D=u(C,A.startContainer);var F=k(s(I.firstChild));var E=1,J=2;var B=C.getRoot();var K=function(M){var N=j.fromRangeStart(A);var L=new x(C.getRoot());var O=M===E?L.prev(N):L.next(N);return O?u(C,O.getNode())!==D:true};if(K(E)){return n(D,F,B)}else{if(K(J)){return w(D,F,B,C)}}return t(D,F,B,A)};return{isListFragment:p,insertAtCaret:q,isParentBlockLi:v,trimListItems:k,listItems:s}});h("tinymce/InsertContent",["tinymce/Env","tinymce/util/Tools","tinymce/html/Serializer","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/ElementUtils","tinymce/dom/NodeType","tinymce/InsertList"],function(p,m,r,s,o,k,l,q){var n=l.matchNodeNames("td th");var u=function(x,z,v){if(v.getAttribute("data-mce-bogus")==="all"){v.parentNode.insertBefore(x.dom.createFragment(z),v)}else{var y=v.firstChild;var w=v.lastChild;if(!y||(y===w&&y.nodeName==="BR")){x.dom.setHTML(v,z)}else{x.selection.setContent(z)}}};var j=function(A,M,R){var z,T,F,V,w,y;var E,D,N,v,G,C;var J=A.schema.getTextInlineElements();var X=A.selection,P=A.dom;function O(ab){var aa,Z,ac;aa=X.getRng(true);Z=aa.startContainer;ac=aa.startOffset;function Y(ad){return Z[ad]&&Z[ad].nodeType==3}if(Z.nodeType==3){if(ac>0){ab=ab.replace(/^&nbsp;/," ")}else{if(!Y("previousSibling")){ab=ab.replace(/^ /,"&nbsp;")}}if(ac<Z.length){ab=ab.replace(/&nbsp;(<br>|)$/," ")}else{if(!Y("nextSibling")){ab=ab.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")}}}return ab}function x(){var Z,Y,aa;Z=X.getRng(true);Y=Z.startContainer;aa=Z.startOffset;if(Y.nodeType==3&&Z.collapsed){if(Y.data[aa]==="\u00a0"){Y.deleteData(aa,1);if(!/[\u00a0| ]$/.test(M)){M+=" "}}else{if(Y.data[aa-1]==="\u00a0"){Y.deleteData(aa-1,1);if(!/[\u00a0| ]$/.test(M)){M=" "+M}}}}}function W(){if(C){var Y=A.getBody(),Z=new k(P);m.each(P.select("*[data-mce-fragment]"),function(ab){for(var aa=ab.parentNode;aa&&aa!=Y;aa=aa.parentNode){if(J[ab.nodeName.toLowerCase()]&&Z.compare(aa,ab)){P.remove(ab,true)}}})}}function B(Y){var Z=Y;while((Z=Z.walk())){if(Z.type===1){Z.attr("data-mce-fragment","1")}}}function L(Y){m.each(Y.getElementsByTagName("*"),function(Z){Z.removeAttribute("data-mce-fragment")})}function U(Y){return !!Y.getAttribute("data-mce-fragment")}function S(Y){return Y&&!A.schema.getShortEndedElements()[Y.nodeName]}function Q(Y){var ad,ac,ab;function Z(af){var ae=A.getBody();for(;af&&af!==ae;af=af.parentNode){if(A.dom.getContentEditable(af)==="false"){return af}}return null}if(!Y){return}X.scrollIntoView(Y);ad=Z(Y);if(ad){P.remove(Y);X.select(ad);return}D=P.createRng();N=Y.previousSibling;if(N&&N.nodeType==3){D.setStart(N,N.nodeValue.length);if(!p.ie){v=Y.nextSibling;if(v&&v.nodeType==3){N.appendData(v.data);v.parentNode.removeChild(v)}}}else{D.setStartBefore(Y);D.setEndBefore(Y)}function aa(af){var ag=o.fromRangeStart(af);var ae=new s(A.getBody());ag=ae.next(ag);if(ag){return ag.toRange()}}ac=P.getParent(Y,P.isBlock);P.remove(Y);if(ac&&P.isEmpty(ac)){A.$(ac).empty();D.setStart(ac,0);D.setEnd(ac,0);if(!n(ac)&&!U(ac)&&(ab=aa(D))){D=ab;P.remove(ac)}else{P.add(ac,P.create("br",{"data-mce-bogus":"1"}))}}X.setRng(D)}if(/^ | $/.test(M)){M=O(M)}z=A.parser;C=R.merge;T=new r({validate:A.settings.validate},A.schema);G='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';y={content:M,format:"html",selection:true};A.fire("BeforeSetContent",y);M=y.content;if(M.indexOf("{$caret}")==-1){M+="{$caret}"}M=M.replace(/\{\$caret\}/,G);D=X.getRng();var K=D.startContainer||(D.parentElement?D.parentElement():null);var H=A.getBody();if(K===H&&X.isCollapsed()){if(P.isBlock(H.firstChild)&&S(H.firstChild)&&P.isEmpty(H.firstChild)){D=P.createRng();D.setStart(H.firstChild,0);D.setEnd(H.firstChild,0);X.setRng(D)}}if(!X.isCollapsed()){A.selection.setRng(A.selection.getRng());A.getDoc().execCommand("Delete",false,null);x()}F=X.getNode();var I={context:F.nodeName.toLowerCase(),data:R.data};w=z.parse(M,I);if(R.paste===true&&q.isListFragment(w)&&q.isParentBlockLi(P,F)){D=q.insertAtCaret(T,P,A.selection.getRng(true),w);A.selection.setRng(D);A.fire("SetContent",y);return}B(w);N=w.lastChild;if(N.attr("id")=="mce_marker"){E=N;for(N=N.prev;N;N=N.walk(true)){if(N.type==3||!P.isBlock(N.name)){if(A.schema.isValidChild(N.parent.name,"span")){N.parent.insert(E,N,N.name==="br")}break}}}A._selectionOverrides.showBlockCaretContainer(F);if(!I.invalid){M=T.serialize(w);u(A,M,F)}else{X.setContent(G);F=X.getNode();V=A.getBody();if(F.nodeType==9){F=N=V}else{N=F}while(N!==V){F=N;N=N.parentNode}M=F==V?V.innerHTML:P.getOuterHTML(F);M=T.serialize(z.parse(M.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return T.serialize(w)})));if(F==V){P.setHTML(V,M)}else{P.setOuterHTML(F,M)}}W();Q(P.get("mce_marker"));L(A.getBody());A.fire("SetContent",y);A.addVisual()};var t=function(w){var v;if(typeof w!=="string"){v=m.extend({paste:w.paste,data:{paste:w.paste}},w);return{content:w.content,details:v}}return{content:w,details:{}}};var i=function(w,x){var v=t(x);j(w,v.content,v.details)};return{insertAtCaret:i}});h("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent","tinymce/dom/NodeType"],function(p,k,n,t,u,j){var s=k.each,q=k.extend;var i=k.map,v=k.inArray,r=k.explode;var m=p.ie&&p.ie<11;var l=true,o=false;return function(A){var L,R,K,D={state:{},exec:{},value:{}},N=A.settings,E;A.on("PreInit",function(){L=A.dom;R=A.selection;N=A.settings;K=A.formatter});function M(Z,Y,X,S){var U,W,V=0;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(Z)&&(!S||!S.skip_focus)){A.focus()}S=A.fire("BeforeExecCommand",{command:Z,ui:Y,value:X});if(S.isDefaultPrevented()){return false}W=Z.toLowerCase();if((U=D.exec[W])){U(W,Y,X);A.fire("ExecCommand",{command:Z,ui:Y,value:X});return true}s(A.plugins,function(aa){if(aa.execCommand&&aa.execCommand(Z,Y,X)){A.fire("ExecCommand",{command:Z,ui:Y,value:X});V=true;return false}});if(V){return V}if(A.theme&&A.theme.execCommand&&A.theme.execCommand(Z,Y,X)){A.fire("ExecCommand",{command:Z,ui:Y,value:X});return true}try{V=A.getDoc().execCommand(Z,Y,X)}catch(T){}if(V){A.fire("ExecCommand",{command:Z,ui:Y,value:X});return true}return false}function C(U){var T;if(A.quirks.isHidden()){return}U=U.toLowerCase();if((T=D.state[U])){return T(U)}try{return A.getDoc().queryCommandState(U)}catch(S){}return false}function J(U){var T;if(A.quirks.isHidden()){return}U=U.toLowerCase();if((T=D.value[U])){return T(U)}try{return A.getDoc().queryCommandValue(U)}catch(S){}}function H(S,T){T=T||"exec";s(S,function(V,U){s(U.toLowerCase().split(","),function(W){D[T][W]=V})})}function G(T,U,S){T=T.toLowerCase();D.exec[T]=function(Y,X,W,V){return U.call(S||A,X,W,V)}}function P(T){T=T.toLowerCase();if(D.exec[T]){return true}try{return A.getDoc().queryCommandSupported(T)}catch(S){}return false}function w(T,U,S){T=T.toLowerCase();D.state[T]=function(){return U.call(S||A)}}function y(T,U,S){T=T.toLowerCase();D.value[T]=function(){return U.call(S||A)}}function z(S){S=S.toLowerCase();return !!D.exec[S]}q(this,{execCommand:M,queryCommandState:C,queryCommandValue:J,queryCommandSupported:P,addCommands:H,addCommand:G,addQueryStateHandler:w,addQueryValueHandler:y,hasCustomCommand:z});function B(U,T,S){if(T===g){T=o}if(S===g){S=null}return A.getDoc().execCommand(U,T,S)}function O(S){return K.match(S)}function Q(S,T){K.toggle(S,T?{value:T}:g);A.nodeChanged()}function I(S){E=R.getBookmark(S)}function F(){R.moveToBookmark(E)}function x(){if(Ext&&!Ext.isIE8){return}var S=A.getContainer();S.addClassName("x-repaint");setTimeout(function(){S.removeClassName("x-repaint")},1)}H({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){A.undoManager.add()},"Cut,Copy,Paste":function(W){var U=A.getDoc(),S;try{B(W)}catch(T){S=l}if(W==="paste"&&!U.queryCommandEnabled(W)){S=true}if(S||!U.queryCommandSupported(W)){var V=A.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(p.mac){V=V.replace(/Ctrl\+/g,"\u2318+")}A.notificationManager.open({text:V,type:"error"})}},unlink:function(){if(R.isCollapsed()){var S=A.dom.getParent(A.selection.getStart(),"a");if(S){A.dom.remove(S,true)}return}K.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(S){var T=S.substring(7);if(T=="full"){T="justify"}s("left,center,right,justify".split(","),function(U){if(T!=U){K.remove("align"+U)}});if(T!="none"){Q("align"+T);x()}},"InsertUnorderedList,InsertOrderedList":function(U){var S,T;B(U);S=L.getParent(R.getNode(),"ol,ul");if(S){T=S.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(T.nodeName)){I();L.split(T,S);F()}}x()},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(S){Q(S);x()},"ForeColor,HiliteColor,FontName":function(U,T,S){Q(U,S)},FontSize:function(V,U,T){var S,W;if(T>=1&&T<=7){W=r(N.font_size_style_values);S=r(N.font_size_classes);if(S){T=S[T-1]||T}else{T=W[T-1]||T}}Q(V,T)},RemoveFormat:function(S){K.remove(S)},mceBlockQuote:function(){Q("blockquote")},FormatBlock:function(U,T,S){return Q(S||"p")},mceCleanup:function(){var S=R.getBookmark();A.setContent(A.getContent({cleanup:l}),{cleanup:l});R.moveToBookmark(S)},mceRemoveNode:function(V,U,T){var S=T||R.getNode();if(S!=A.getBody()){I();A.dom.remove(S,l);F()}},mceSelectNodeDepth:function(V,U,T){var S=0;L.getParent(R.getNode(),function(W){if(W.nodeType==1&&S++==T){R.select(W);return o}},A.getBody())},mceSelectNode:function(U,T,S){R.select(S)},mceInsertContent:function(U,T,S){u.insertAtCaret(A,S)},mceInsertRawHTML:function(U,T,S){R.setContent("tiny_mce_marker");A.setContent(A.getContent().replace(/tiny_mce_marker/g,function(){return S}))},mceToggleFormat:function(U,T,S){Q(S)},mceSetContent:function(U,T,S){A.setContent(S)},"Indent,Outdent":function(V){var T,S,U;T=N.indentation;S=/[a-z%]+$/i.exec(T);T=parseInt(T,10);if(!C("InsertUnorderedList")&&!C("InsertOrderedList")){if(!N.forced_root_block&&!L.getParent(R.getNode(),L.isBlock)){K.apply("div")}s(R.getSelectedBlocks(),function(X){if(L.getContentEditable(X)==="false"){return}if(X.nodeName!=="LI"){var W=A.getParam("indent_use_margin",false)?"margin":"padding";W=X.nodeName==="TABLE"?"margin":W;W+=L.getStyle(X,"direction",true)=="rtl"?"Right":"Left";if(V=="outdent"){U=Math.max(0,parseInt(X.style[W]||0,10)-T);L.setStyle(X,W,U?U+S:"")}else{U=(parseInt(X.style[W]||0,10)+T)+S;L.setStyle(X,W,U)}}})}else{B(V)}},mceRepaint:function(){},InsertHorizontalRule:function(){A.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){A.hasVisual=!A.hasVisual;A.addVisual()},mceReplaceContent:function(U,T,S){A.execCommand("mceInsertContent",false,S.replace(/\{\$selection\}/g,R.getContent({format:"text"})))},mceInsertLink:function(V,U,T){var S;if(typeof T=="string"){T={href:T}}S=L.getParent(R.getNode(),"a");T.href=T.href.replace(" ","%20");if(!S||!T.href){K.remove("link")}if(T.href){K.apply("link",T,S)}},selectAll:function(){var T=L.getRoot(),S;if(R.getRng().setStart){var U=L.getParent(R.getStart(),j.isContentEditableTrue);if(U){S=L.createRng();S.selectNodeContents(U);R.setRng(S)}}else{S=R.getRng();if(!S.item){S.moveToElementText(T);S.select()}}},"delete":function(){B("Delete");var S=A.getBody();if(L.isEmpty(S)){A.setContent("");if(S.firstChild&&L.isBlock(S.firstChild)){A.selection.setCursorLocation(S.firstChild,0)}else{A.selection.setCursorLocation(S,0)}}},mceNewDocument:function(){A.setContent("")},InsertLineBreak:function(U,ae,ag){var ad=ag;var S,ab,Z;var Y=R.getRng(true);new n(L).normalize(Y);var X=Y.startOffset;var ac=Y.startContainer;if(ac.nodeType==1&&ac.hasChildNodes()){var ah=X>ac.childNodes.length-1;ac=ac.childNodes[Math.min(X,ac.childNodes.length-1)]||ac;if(ah&&ac.nodeType==3){X=ac.nodeValue.length}else{X=0}}var V=L.getParent(ac,L.isBlock);var W=V?V.nodeName.toUpperCase():"";var T=V?L.getParent(V.parentNode,L.isBlock):null;var ai=T?T.nodeName.toUpperCase():"";var af=ad&&ad.ctrlKey;if(ai=="LI"&&!af){V=T;W=ai}function aa(){var am=new t(ac,V),al;var ak=A.schema.getNonEmptyElements();while((al=am.next())){if(ak[al.nodeName.toLowerCase()]||al.length>0){return true}}}if(ac&&ac.nodeType==3&&X>=ac.nodeValue.length){if(!m&&!aa()){S=L.create("br");Y.insertNode(S);Y.setStartAfter(S);Y.setEndAfter(S);ab=true}}S=L.create("br");Y.insertNode(S);var aj=L.doc.documentMode;if(m&&W=="PRE"&&(!aj||aj<8)){S.parentNode.insertBefore(L.doc.createTextNode("\r"),S)}Z=L.create("span",{},"&nbsp;");S.parentNode.insertBefore(Z,S);R.scrollIntoView(Z);L.remove(Z);if(!ab){Y.setStartAfter(S);Y.setEndAfter(S)}else{Y.setStartBefore(S);Y.setEndBefore(S)}R.setRng(Y);A.undoManager.add();return l}});H({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(V){var T="align"+V.substring(7);var S=R.isCollapsed()?[L.getParent(R.getNode(),L.isBlock)]:R.getSelectedBlocks();var U=i(S,function(W){return !!K.matchNode(W,T)});return v(U,l)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(S){return O(S)},mceBlockQuote:function(){return O("blockquote")},Outdent:function(){var S;if(N.inline_styles){if((S=L.getParent(R.getStart(),L.isBlock))&&parseInt(S.style.paddingLeft,10)>0){return l}if((S=L.getParent(R.getEnd(),L.isBlock))&&parseInt(S.style.paddingLeft,10)>0){return l}}return(C("InsertUnorderedList")||C("InsertOrderedList")||(!N.inline_styles&&!!L.getParent(R.getNode(),"BLOCKQUOTE")))},"InsertUnorderedList,InsertOrderedList":function(T){var S=L.getParent(R.getNode(),"ul,ol");return S&&(T==="insertunorderedlist"&&S.tagName==="UL"||T==="insertorderedlist"&&S.tagName==="OL")}},"state");H({"FontSize,FontName":function(U){var T=0,S;if((S=L.getParent(R.getNode(),"span"))){if(U=="fontsize"){T=S.style.fontSize}else{T=S.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return T}},"value");H({Undo:function(){A.undoManager.undo()},Redo:function(){A.undoManager.redo()}})}});h("tinymce/util/URI",["tinymce/util/Tools"],function(k){var n=k.each,i=k.trim;var l="source protocol authority userInfo user password host ipv4 ipv6 basename domain port relative path directory file query anchor".split(" ");var m={ftp:21,http:80,https:443,mailto:25};function j(q,r){var p=this,t,s;q=i(q);r=p.settings=r||{};t=r.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(q)||/^\s*#/.test(q)){p.source=q;return}var o=q.indexOf("//")===0;if(q.indexOf("/")===0&&!o){q=(t?t.protocol||"http":"http")+"://mce_host"+q}if(!/^[\w\-]*:?\/\//.test(q)){s=r.base_uri?r.base_uri.path:new j(location.href).directory;if(r.base_uri.protocol===""){q="//mce_host"+p.toAbsPath(s,q)}else{q=/([^#?]*)([#?]?.*)/.exec(q);q=((t&&t.protocol)||"http")+"://mce_host"+p.toAbsPath(s,q[1])+q[2]}}q=q.replace(/@@/g,"(mce_at)");q=/^(?:(?![^:@]+:[^:@\/]*@)([^[:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:(\d+\.\d+\.\d+\.\d+)|\[([a-fa-f0-9:]+)\]|([^.:\/?#]*))(?:\.([^:\/?#]*))?)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(q);n(l,function(u,x){var w=q[x];if(w){w=w.replace(/\(mce_at\)/g,"@@")}p[u]=w});if(t){if(!p.protocol){p.protocol=t.protocol}if(!p.userInfo){p.userInfo=t.userInfo}if(!p.port&&p.host==="mce_host"){p.port=t.port}if(!p.host||p.host==="mce_host"){p.host=t.host}p.source=""}if(o){p.protocol=""}}j.prototype={setPath:function(p){var o=this;p=/^(.*?)\/?(\w+)?$/.exec(p);o.path=p[0];o.directory=p[1];o.file=p[2];o.source="";o.getURI()},toRelative:function(s){var p=this,o;if(s==="./"){return s}s=new j(s,{base_uri:p});if((s.host!="mce_host"&&p.host!=s.host&&s.host)||p.port!=s.port||(p.protocol!=s.protocol&&s.protocol!=="")){return s.getURI()}var q=p.getURI(),r=s.getURI();if(q==r||(q.charAt(q.length-1)=="/"&&q.substr(0,q.length-1)==r)){return q}o=p.toRelPath(p.path,s.path);if(s.query){o+="?"+s.query}if(s.anchor){o+="#"+s.anchor}return o},toAbsolute:function(p,o){p=new j(p,{base_uri:this});return p.getURI(o&&this.isSameOrigin(p))},isSameOrigin:function(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port){return true}var p=m[this.protocol];if(p&&((this.port||p)==(o.port||p))){return true}}return false},toRelPath:function(t,u){var p,s=0,q="",r,o;t=t.substring(0,t.lastIndexOf("/"));t=t.split("/");p=u.split("/");if(t.length>=p.length){for(r=0,o=t.length;r<o;r++){if(r>=p.length||t[r]!=p[r]){s=r+1;break}}}if(t.length<p.length){for(r=0,o=p.length;r<o;r++){if(r>=t.length||t[r]!=p[r]){s=r+1;break}}}if(s===1){return u}for(r=0,o=t.length-(s-1);r<o;r++){q+="../"}for(r=s-1,o=p.length;r<o;r++){if(r!=s-1){q+="/"+p[r]}else{q+=p[r]}}return q},toAbsPath:function(s,t){var q,p=0,v=[],r,u;r=/\/$/.test(t)?"/":"";s=s.split("/");t=t.split("/");n(s,function(o){if(o){v.push(o)}});s=v;for(q=t.length-1,v=[];q>=0;q--){if(t[q].length===0||t[q]==="."){continue}if(t[q]===".."){p++;continue}if(p>0){p--;continue}v.push(t[q])}q=s.length-p;if(q<=0){u=v.reverse().join("/")}else{u=s.slice(0,q).join("/")+"/"+v.reverse().join("/")}if(u.indexOf("/")!==0){u="/"+u}if(r&&u.lastIndexOf("/")!==u.length-1){u+=r}return u},getURI:function(q){var p,o=this;if(!o.source||q){p="";if(!q){if(o.protocol){p+=o.protocol+"://"}else{p+="//"}if(o.userInfo){p+=o.userInfo+"@"}if(o.host){p+=o.host}if(o.port){p+=":"+o.port}}if(o.path){p+=o.path}if(o.query){p+="?"+o.query}if(o.anchor){p+="#"+o.anchor}o.source=p}return o.source}};j.parseDataUri=function(p){var o,q;p=decodeURIComponent(p).split(",");q=/data:([^;]+)/.exec(p[0]);if(q){o=q[1]}return{type:o,data:p[1]}};j.getDocumentBaseUrl=function(p){var o;if(p.protocol.indexOf("http")!==0&&p.protocol!=="file:"){o=p.href}else{o=p.protocol+"//"+p.host+p.pathname}if(/^[^:]+:\/\/\/?[^\/]+\//.test(o)){o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(o)){o+="/"}}return o};return j});h("tinymce/util/Class",["tinymce/util/Tools"],function(l){var m=l.each,n=l.extend;var k,j;function i(){}i.extend=k=function(o){var w=this,v=w.prototype,u,p,t;function q(){var A,x,z,y=this;if(!j){if(y.init){y.init.apply(y,arguments)}x=y.Mixins;if(x){A=x.length;while(A--){z=x[A];if(z.init){z.init.apply(y,arguments)}}}}}function r(){return this}function s(x,y){return function(){var z=this,B=z._super,A;z._super=v[x];A=y.apply(z,arguments);z._super=B;return A}}j=true;u=new w();j=false;if(o.Mixins){m(o.Mixins,function(x){for(var y in x){if(y!=="init"){o[y]=x[y]}}});if(v.Mixins){o.Mixins=v.Mixins.concat(o.Mixins)}}if(o.Methods){m(o.Methods.split(","),function(x){o[x]=r})}if(o.Properties){m(o.Properties.split(","),function(x){var y="_"+x;o[x]=function(B){var z=this,A;if(B!==A){z[y]=B;return z}return z[y]}})}if(o.Statics){m(o.Statics,function(y,x){q[x]=y})}if(o.Defaults&&v.Defaults){o.Defaults=n({},v.Defaults,o.Defaults)}for(p in o){t=o[p];if(typeof t=="function"&&v[p]){u[p]=s(p,t)}else{u[p]=t}}q.prototype=u;q.constructor=q;q.extend=k;return q};return i});h("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(j){var k=j.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");function i(q){var w=this,v,m={},t;function o(){return false}function r(){return true}q=q||{};v=q.scope||w;t=q.toggleEvent||o;function n(A,z){var y,B,x,C;A=A.toLowerCase();z=z||{};z.type=A;if(!z.target){z.target=v}if(!z.preventDefault){z.preventDefault=function(){z.isDefaultPrevented=r};z.stopPropagation=function(){z.isPropagationStopped=r};z.stopImmediatePropagation=function(){z.isImmediatePropagationStopped=r};z.isDefaultPrevented=o;z.isPropagationStopped=o;z.isImmediatePropagationStopped=o}if(q.beforeFire){q.beforeFire(z)}y=m[A];if(y){for(B=0,x=y.length;B<x;B++){C=y[B];if(C.once){p(A,C.func)}if(z.isImmediatePropagationStopped()){z.stopPropagation();return z}if(C.func.call(v,z)===false){z.preventDefault();return z}}}return z}function s(A,D,z,x){var y,C,B;if(D===false){D=o}if(D){D={func:D};if(x){j.extend(D,x)}C=A.toLowerCase().split(" ");B=C.length;while(B--){A=C[B];y=m[A];if(!y){y=m[A]=[];t(A,true)}if(z){y.unshift(D)}else{y.push(D)}}}return w}function p(z,D){var A,x,B,C,y;if(z){C=z.toLowerCase().split(" ");A=C.length;while(A--){z=C[A];x=m[z];if(!z){for(B in m){t(B,false);delete m[B]}return w}if(x){if(!D){x.length=0}else{y=x.length;while(y--){if(x[y].func===D){x=x.slice(0,y).concat(x.slice(y+1));m[z]=x}}}if(!x.length){t(z,false);delete m[z]}}}}else{for(z in m){t(z,false)}m={}}return w}function l(y,z,x){return s(y,z,x,{once:true})}function u(x){x=x.toLowerCase();return !(!m[x]||m[x].length===0)}w.fire=n;w.on=s;w.off=p;w.once=l;w.has=u}i.isNative=function(l){return !!k[l.toLowerCase()]};return i});h("tinymce/data/Binding",[],function(){function i(j){this.create=j.create}i.create=function(k,j){return new i({create:function(l,n){var p;function m(q){l.set(n,q.value)}function o(q){k.set(j,q.value)}l.on("change:"+n,o);k.on("change:"+j,m);p=l._bindings;if(!p){p=l._bindings=[];l.on("destroy",function(){var q=p.length;while(q--){p[q]()}})}p.push(function(){k.off("change:"+j,m)});return k.get(j)}})};return i});h("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(j){function i(k){if(!k._eventDispatcher){k._eventDispatcher=new j({scope:k,toggleEvent:function(l,m){if(j.isNative(l)&&k.toggleNativeEvent){k.toggleNativeEvent(l,m)}}})}return k._eventDispatcher}return{fire:function(n,m,k){var l=this;if(l.removed&&n!=="remove"){return m}m=i(l).fire(n,m,k);if(k!==false&&l.parent){var o=l.parent();while(o&&!m.isPropagationStopped()){o.fire(n,m,false);o=o.parent()}}return m},on:function(l,m,k){return i(this).on(l,m,k)},off:function(k,l){return i(this).off(k,l)},once:function(k,l){return i(this).once(k,l)},hasEventListeners:function(k){return i(this).has(k)}}});h("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(n,j,i,k){function m(o){return o.nodeType>0}function l(p,o){var q,r;if(p===o){return true}if(p===null||o===null){return p===o}if(typeof p!=="object"||typeof o!=="object"){return p===o}if(k.isArray(o)){if(p.length!==o.length){return false}q=p.length;while(q--){if(!l(p[q],o[q])){return false}}}if(m(p)||m(o)){return p===o}r={};for(q in o){if(!l(p[q],o[q])){return false}r[q]=true}for(q in p){if(!r[q]&&!l(p[q],o[q])){return false}}return true}return i.extend({Mixins:[j],init:function(q){var o,p;q=q||{};for(o in q){p=q[o];if(p instanceof n){q[o]=p.create(this,o)}}this.data=q},set:function(q,s){var r,p,o=this.data[q];if(s instanceof n){s=s.create(this,q)}if(typeof q==="object"){for(r in q){this.set(r,q[r])}return this}if(!l(o,s)){this.data[q]=s;p={target:this,name:q,value:s,oldValue:o};this.fire("change:"+q,p);this.fire("change",p)}return this},get:function(o){return this.data[o]},has:function(o){return o in this.data},bind:function(o){return n.create(this,o)},destroy:function(){this.fire("destroy")}})});h("tinymce/ui/Selector",["tinymce/util/Class"],function(k){function o(s){var p=[],q=s.length,r;while(q--){r=s[q];if(!r.__checked){p.push(r);r.__checked=1}}q=p.length;while(q--){delete p[q].__checked}return p}var n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,m=/^\s*|\s*$/g,l;var j=k.extend({init:function(q){var s=this.match;function r(y){if(y){y=y.toLowerCase();return function(z){return y==="*"||z.type===y}}}function w(y){if(y){return function(z){return z._name===y}}}function t(y){if(y){y=y.split(".");return function(A){var z=y.length;while(z--){if(!A.classes.contains(y[z])){return false}}return true}}}function p(z,A,y){if(z){return function(B){var C=B[z]?B[z]():"";return !A?!!y:A==="="?C===y:A==="*="?C.indexOf(y)>=0:A==="~="?(" "+C+" ").indexOf(" "+y+" ")>=0:A==="!="?C!=y:A==="^="?C.indexOf(y)===0:A==="$="?C.substr(C.length-y.length)===y:false}}}function v(y){var z;if(y){y=/(?:not\((.+)\))|(.+)/i.exec(y);if(!y[1]){y=y[2];return function(C,A,B){return y==="first"?A===0:y==="last"?A===B-1:y==="even"?A%2===0:y==="odd"?A%2===1:C[y]?C[y]():false}}z=u(y[1],[]);return function(A){return !s(A,z)}}}function x(y,z,C){var B;function A(D){if(D){z.push(D)}}B=n.exec(y.replace(m,""));A(r(B[1]));A(w(B[2]));A(t(B[3]));A(p(B[4],B[5],B[6]));A(v(B[7]));z.pseudo=!!B[7];z.direct=C;return z}function u(z,B){var D=[],y,C,A;do{i.exec("");C=i.exec(z);if(C){z=C[3];D.push(C[1]);if(C[2]){y=C[3];break}}}while(C);if(y){u(y,B)}z=[];for(A=0;A<D.length;A++){if(D[A]!=">"){z.push(x(D[A],[],D[A-1]===">"))}}B.push(z);return B}this._selectors=u(q,[])},match:function(u,B){var v,r,w,s,t,D,A,q,y,p,z,x,C;B=B||this._selectors;for(v=0,r=B.length;v<r;v++){t=B[v];s=t.length;C=u;x=0;for(w=s-1;w>=0;w--){q=t[w];while(C){if(q.pseudo){z=C.parent().items();y=p=z.length;while(y--){if(z[y]===C){break}}}for(D=0,A=q.length;D<A;D++){if(!q[D](C,y,p)){D=A+1;break}}if(D===A){x++;break}else{if(w===s-1){break}}C=C.parent()}}if(x===s){return true}}return false},find:function(q){var u=[],s,p,r=this._selectors;function t(A,x,z){var y,w,C,B,D,v=x[z];for(y=0,w=A.length;y<w;y++){D=A[y];for(C=0,B=v.length;C<B;C++){if(!v[C](D,y,w)){C=B+1;break}}if(C===B){if(z==x.length-1){u.push(D)}else{if(D.items){t(D.items(),x,z+1)}}}else{if(v.direct){return}}if(D.items){t(D.items(),x,z)}}}if(q.items){for(s=0,p=r.length;s<p;s++){t(q.items(),r[s],0)}if(p>1){u=o(u)}}if(!l){l=j.Collection}return new l(u)}});return j});h("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(l,i,j){var m,n,k=Array.prototype.push,o=Array.prototype.slice;n={length:0,init:function(p){if(p){this.add(p)}},add:function(q){var p=this;if(!l.isArray(q)){if(q instanceof m){p.add(q.toArray())}else{k.call(p,q)}}else{k.apply(p,q)}return p},set:function(r){var q=this,p=q.length,s;q.length=0;q.add(r);for(s=q.length;s<p;s++){delete q[s]}return q},filter:function(p){var r=this,t,q,v=[],u,s;if(typeof p==="string"){p=new i(p);s=function(w){return p.match(w)}}else{s=p}for(t=0,q=r.length;t<q;t++){u=r[t];if(s(u)){v.push(u)}}return new m(v)},slice:function(){return new m(o.apply(this,arguments))},eq:function(p){return p===-1?this.slice(p):this.slice(p,+p+1)},each:function(p){l.each(this,p);return this},toArray:function(){return l.toArray(this)},indexOf:function(r){var p=this,q=p.length;while(q--){if(p[q]===r){break}}return q},reverse:function(){return new m(l.toArray(this).reverse())},hasClass:function(p){return this[0]?this[0].classes.contains(p):false},prop:function(q,t){var p=this,r,s;if(t!==r){p.each(function(u){if(u[q]){u[q](t)}});return p}s=p[0];if(s&&s[q]){return s[q]()}},exec:function(r){var p=this,q=l.toArray(arguments).slice(1);p.each(function(s){if(s[r]){s[r].apply(s,q)}});return p},remove:function(){var p=this.length;while(p--){this[p].remove()}return this},addClass:function(p){return this.each(function(q){q.classes.add(p)})},removeClass:function(p){return this.each(function(q){q.classes.remove(p)})}};l.each("fire on off show hide append prepend before after reflow".split(" "),function(p){n[p]=function(){var q=l.toArray(arguments);this.each(function(r){if(p in r){r[p].apply(r,q)}});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),function(p){n[p]=function(q){return this.prop(p,q)}});m=j.extend(n);i.Collection=m;return m});h("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(i,k,m){var l=0;var j={id:function(){return"mceu_"+(l++)},create:function(o,n,p){var q=document.createElement(o);m.DOM.setAttribs(q,n);if(typeof p==="string"){q.innerHTML=p}else{k.each(p,function(r){if(r.nodeType){q.appendChild(r)}})}return q},createFragment:function(n){return m.DOM.createFragment(n)},getWindowSize:function(){return m.DOM.getViewPort()},getSize:function(q){var o,n;if(q.getBoundingClientRect){var p=q.getBoundingClientRect();o=Math.max(p.width||(p.right-p.left),q.offsetWidth);n=Math.max(p.height||(p.bottom-p.bottom),q.offsetHeight)}else{o=q.offsetWidth;n=q.offsetHeight}return{width:o,height:n}},getPos:function(o,n){return m.DOM.getPos(o,n||j.getContainer())},getContainer:function(){return i.container?i.container:document.body},getViewPort:function(n){return m.DOM.getViewPort(n)},get:function(n){return document.getElementById(n)},addClass:function(o,n){return m.DOM.addClass(o,n)},removeClass:function(o,n){return m.DOM.removeClass(o,n)},hasClass:function(o,n){return m.DOM.hasClass(o,n)},toggleClass:function(p,n,o){return m.DOM.toggleClass(p,n,o)},css:function(p,n,o){return m.DOM.setStyle(p,n,o)},getRuntimeStyle:function(o,n){return m.DOM.getStyle(o,n,true)},on:function(p,n,q,o){return m.DOM.bind(p,n,q,o)},off:function(o,n,p){return m.DOM.unbind(o,n,p)},fire:function(p,o,n){return m.DOM.fire(p,o,n)},innerHtml:function(o,n){m.DOM.setHTML(o,n)}};return j});h("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(k){var i,j=10;if(!k){return}if(typeof k==="number"){k=k||0;return{top:k,left:k,bottom:k,right:k}}k=k.split(" ");i=k.length;if(i===1){k[1]=k[2]=k[3]=k[0]}else{if(i===2){k[2]=k[0];k[3]=k[1]}else{if(i===3){k[3]=k[1]}}}return{top:parseInt(k[0],j)||0,right:parseInt(k[1],j)||0,bottom:parseInt(k[2],j)||0,left:parseInt(k[3],j)||0}},measureBox:function(l,j){function i(m){var n=document.defaultView;if(n){m=m.replace(/[A-Z]/g,function(o){return"-"+o});return n.getComputedStyle(l,null).getPropertyValue(m)}return l.currentStyle[m]}function k(m){var n=parseFloat(i(m),10);return isNaN(n)?0:n}return{top:k(j+"TopWidth"),right:k(j+"RightWidth"),bottom:k(j+"BottomWidth"),left:k(j+"LeftWidth")}}}});h("tinymce/ui/ClassList",["tinymce/util/Tools"],function(i){function j(){}function k(l){this.cls=[];this.cls._map={};this.onchange=l||j;this.prefix=""}i.extend(k.prototype,{add:function(l){if(l&&!this.contains(l)){this.cls._map[l]=true;this.cls.push(l);this._change()}return this},remove:function(l){if(this.contains(l)){for(var m=0;m<this.cls.length;m++){if(this.cls[m]===l){break}}this.cls.splice(m,1);delete this.cls._map[l];this._change()}return this},toggle:function(l,m){var n=this.contains(l);if(n!==m){if(n){this.remove(l)}else{this.add(l)}this._change()}return this},contains:function(l){return !!this.cls._map[l]},_change:function(){delete this.clsValue;this.onchange.call(this)}});k.prototype.toString=function(){var m;if(this.clsValue){return this.clsValue}m="";for(var l=0;l<this.cls.length;l++){if(l>0){m+=" "}m+=this.prefix+this.cls[l]}return m};return k});h("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(k){var j={},i;return{add:function(m){var l=m.parent();if(l){if(!l._layout||l._layout.isNative()){return}if(!j[l._id]){j[l._id]=l}if(!i){i=true;k.requestAnimationFrame(function(){var o,n;i=false;for(o in j){n=j[o];if(n.state.get("rendered")){n.reflow()}}j={}},document.body)}}},remove:function(l){if(j[l._id]){delete j[l._id]}}}});h("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(u,j,x,l,y,v,m,s,i,t){var q="onmousewheel" in document;var w=false;var k="mce-";var z,n=0;var p={Statics:{classPrefix:k},isRtl:function(){return z.rtl},classPrefix:k,init:function(D){var B=this,C,A;function E(G){var F;G=G.split(" ");for(F=0;F<G.length;F++){B.classes.add(G[F])}}B.settings=D=j.extend({},B.Defaults,D);B._id=D.id||("mceu_"+(n++));B._aria={role:D.role};B._elmCache={};B.$=m;B.state=new l({visible:true,active:false,disabled:false,value:""});B.data=new l(D.data);B.classes=new i(function(){if(B.state.get("rendered")){B.getEl().className=this.toString()}});B.classes.prefix=B.classPrefix;C=D.classes;if(C){if(B.Defaults){A=B.Defaults.classes;if(A&&C!=A){E(A)}}E(C)}j.each("title text name visible disabled active value".split(" "),function(F){if(F in D){B[F](D[F])}});B.on("click",function(){if(B.disabled()){return false}});B.settings=D;B.borderBox=s.parseBox(D.border);B.paddingBox=s.parseBox(D.padding);B.marginBox=s.parseBox(D.margin);if(D.hidden){B.hide()}},Properties:"parent,name",getContainerElm:function(){return v.getContainer()},getParentCtrl:function(C){var A,B=this.getRoot().controlIdLookup;while(C&&B){A=B[C.id];if(A){break}C=C.parentNode}return A},initLayoutRect:function(){var Q=this,I=Q.settings,D,M;var K=Q.getEl(),H,O,E,N,G;var A,C,P;D=Q.borderBox=Q.borderBox||s.measureBox(K,"border");Q.paddingBox=Q.paddingBox||s.measureBox(K,"padding");Q.marginBox=Q.marginBox||s.measureBox(K,"margin");P=v.getSize(K);A=I.minWidth;C=I.minHeight;E=A||P.width;N=C||P.height;H=I.width;O=I.height;G=I.autoResize;G=typeof G!="undefined"?G:!H&&!O;H=H||E;O=O||N;var J=D.left+D.right;var B=D.top+D.bottom;var F=I.maxWidth||65535;var L=I.maxHeight||65535;Q._layoutRect=M={x:I.x||0,y:I.y||0,w:H,h:O,deltaW:J,deltaH:B,contentW:H-J,contentH:O-B,innerW:H-J,innerH:O-B,startMinWidth:A||0,startMinHeight:C||0,minW:Math.min(E,F),minH:Math.min(N,L),maxW:F,maxH:L,autoResize:G,scrollW:0};Q._lastLayoutRect={};return M},layoutRect:function(B){var H=this,D=H._layoutRect,G,I,F,E,A,C;if(!D){D=H.initLayoutRect()}if(B){F=D.deltaW;E=D.deltaH;if(B.x!==A){D.x=B.x}if(B.y!==A){D.y=B.y}if(B.minW!==A){D.minW=B.minW}if(B.minH!==A){D.minH=B.minH}I=B.w;if(I!==A){I=I<D.minW?D.minW:I;I=I>D.maxW?D.maxW:I;D.w=I;D.innerW=I-F}I=B.h;if(I!==A){I=I<D.minH?D.minH:I;I=I>D.maxH?D.maxH:I;D.h=I;D.innerH=I-E}I=B.innerW;if(I!==A){I=I<D.minW-F?D.minW-F:I;I=I>D.maxW-F?D.maxW-F:I;D.innerW=I;D.w=I+F}I=B.innerH;if(I!==A){I=I<D.minH-E?D.minH-E:I;I=I>D.maxH-E?D.maxH-E:I;D.innerH=I;D.h=I+E}if(B.contentW!==A){D.contentW=B.contentW}if(B.contentH!==A){D.contentH=B.contentH}G=H._lastLayoutRect;if(G.x!==D.x||G.y!==D.y||G.w!==D.w||G.h!==D.h){C=z.repaintControls;if(C){if(C.map&&!C.map[H._id]){C.push(H);C.map[H._id]=true}}G.x=D.x;G.y=D.y;G.w=D.w;G.h=D.h}return H}return D},repaint:function(){var K=this,B,D,F,E,A;var I,C,H,J,G;J=!document.createRange?Math.round:function(L){return L};B=K.getEl().style;E=K._layoutRect;H=K._lastRepaintRect||{};A=K.borderBox;I=A.left+A.right;C=A.top+A.bottom;if(E.x!==H.x){B.left=J(E.x)+"px";H.x=E.x}if(E.y!==H.y){B.top=J(E.y)+"px";H.y=E.y}if(E.w!==H.w){G=J(E.w-I);B.width=(G>=0?G:0)+"px";H.w=E.w}if(E.h!==H.h){G=J(E.h-C);B.height=(G>=0?G:0)+"px";H.h=E.h}if(K._hasBody&&E.innerW!==H.innerW){G=J(E.innerW);F=K.getEl("body");if(F){D=F.style;D.width=(G>=0?G:0)+"px"}H.innerW=E.innerW}if(K._hasBody&&E.innerH!==H.innerH){G=J(E.innerH);F=F||K.getEl("body");if(F){D=D||F.style;D.height=(G>=0?G:0)+"px"}H.innerH=E.innerH}K._lastRepaintRect=H;K.fire("repaint",{},false)},updateLayoutRect:function(){var A=this;A.parent()._lastRect=null;v.css(A.getEl(),{width:"",height:""});A._layoutRect=A._lastRepaintRect=A._lastLayoutRect=null;A.initLayoutRect()},on:function(C,D){var B=this;function A(E){var G,F;if(typeof E!="string"){return E}return function(H){if(!G){B.parentsAndSelf().each(function(J){var I=J.settings.callbacks;if(I&&(G=I[E])){F=J;return false}})}if(!G){H.action=E;this.fire("execute",H);return}return G.call(F,H)}}r(B).on(C,A(D));return B},off:function(A,B){r(this).off(A,B);return this},fire:function(D,C,A){var B=this;C=C||{};if(!C.control){C.control=B}C=r(B).fire(D,C);if(A!==false&&B.parent){var E=B.parent();while(E&&!C.isPropagationStopped()){E.fire(D,C,false);E=E.parent()}}return C},hasEventListeners:function(A){return r(this).has(A)},parents:function(A){var B=this,D,C=new y();for(D=B.parent();D;D=D.parent()){C.add(D)}if(A){C=C.filter(A)}return C},parentsAndSelf:function(A){return new y(this).add(this.parents(A))},next:function(){var A=this.parent().items();return A[A.indexOf(this)+1]},prev:function(){var A=this.parent().items();return A[A.indexOf(this)-1]},innerHtml:function(A){this.$el.html(A);return this},getEl:function(A){var B=A?this._id+"-"+A:this._id;if(!this._elmCache[B]){this._elmCache[B]=m("#"+B)[0]}return this._elmCache[B]},show:function(){return this.visible(true)},hide:function(){return this.visible(false)},focus:function(){try{this.getEl().focus()}catch(A){}return this},blur:function(){this.getEl().blur();return this},aria:function(B,C){var A=this,D=A.getEl(A.ariaTarget);if(typeof C==="undefined"){return A._aria[B]}A._aria[B]=C;if(A.state.get("rendered")){D.setAttribute(B=="role"?B:"aria-"+B,C)}return A},encode:function(B,A){if(A!==false){B=this.translate(B)}return(B||"").replace(/[&<>"]/g,function(C){return"&#"+C.charCodeAt(0)+";"})},translate:function(A){return z.translate?z.translate(A):A},before:function(B){var A=this,C=A.parent();if(C){C.insert(B,C.items().indexOf(A),true)}return A},after:function(B){var A=this,C=A.parent();if(C){C.insert(B,C.items().indexOf(A))}return A},remove:function(){var B=this,G=B.getEl(),E=B.parent(),C,D;if(B.items){var A=B.items().toArray();D=A.length;while(D--){A[D].remove()}}if(E&&E.items){C=[];E.items().each(function(H){if(H!==B){C.push(H)}});E.items().set(C);E._lastRect=null}if(B._eventsRoot&&B._eventsRoot==B){m(G).off()}var F=B.getRoot().controlIdLookup;if(F){delete F[B._id]}if(G&&G.parentNode){G.parentNode.removeChild(G)}B.state.set("rendered",false);B.state.destroy();B.fire("remove");return B},renderBefore:function(A){m(A).before(this.renderHtml());this.postRender();return this},renderTo:function(A){m(A||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var I=this,B=I.settings,D,C,G,A,F;I.$el=m(I.getEl());I.state.set("rendered",true);for(A in B){if(A.indexOf("on")===0){I.on(A.substr(2),B[A])}}if(I._eventsRoot){for(G=I.parent();!F&&G;G=G.parent()){F=G._eventsRoot}if(F){for(A in F._nativeEvents){I._nativeEvents[A]=true}}}o(I);if(B.style){D=I.getEl();if(D){D.setAttribute("style",B.style);D.style.cssText=B.style}}if(I.settings.border){C=I.borderBox;I.$el.css({"border-top-width":C.top,"border-right-width":C.right,"border-bottom-width":C.bottom,"border-left-width":C.left})}var E=I.getRoot();if(!E.controlIdLookup){E.controlIdLookup={}}E.controlIdLookup[I._id]=I;for(var H in I._aria){I.aria(H,I._aria[H])}if(I.state.get("visible")===false){I.getEl().style.display="none"}I.bindStates();I.state.on("change:visible",function(L){var K=L.value,J;if(I.state.get("rendered")){I.getEl().style.display=K===false?"none":"";I.getEl().getBoundingClientRect()}J=I.parent();if(J){J._lastRect=null}I.fire(K?"show":"hide");t.add(I)});I.fire("postrender",{},false)},bindStates:function(){},scrollIntoView:function(C){function K(P,N){var L,O,M=P;L=O=0;while(M&&M!=N&&M.nodeType){L+=M.offsetLeft||0;O+=M.offsetTop||0;M=M.offsetParent}return{x:L,y:O}}var E=this.getEl(),D=E.parentNode;var H,G,A,J,I,B;var F=K(E,D);H=F.x;G=F.y;A=E.offsetWidth;J=E.offsetHeight;I=D.clientWidth;B=D.clientHeight;if(C=="end"){H-=I-A;G-=B-J}else{if(C=="center"){H-=(I/2)-(A/2);G-=(B/2)-(J/2)}}D.scrollLeft=H;D.scrollTop=G;return this},getRoot:function(){var D=this,C,A=[];while(D){if(D.rootControl){C=D.rootControl;break}A.push(D);C=D;D=D.parent()}if(!C){C=this}var B=A.length;while(B--){A[B].rootControl=C}return C},reflow:function(){t.remove(this);var A=this.parent();if(A._layout&&!A._layout.isNative()){A.reflow()}return this}};j.each("text title visible disabled active value".split(" "),function(A){p[A]=function(B){if(arguments.length===0){return this.state.get(A)}if(typeof B!="undefined"){this.state.set(A,B)}return this}});z=u.extend(p);function r(A){if(!A._eventDispatcher){A._eventDispatcher=new x({scope:A,toggleEvent:function(B,C){if(C&&x.isNative(B)){if(!A._nativeEvents){A._nativeEvents={}}A._nativeEvents[B]=true;if(A.state.get("rendered")){o(A)}}}})}return A._eventDispatcher}function o(G){var F,D,K,C,I,B;function J(N){var M=G.getParentCtrl(N.target);if(M){M.fire(N.type,N)}}function E(){var M=C._lastHoverCtrl;if(M){M.fire("mouseleave",{target:M.getEl()});M.parents().each(function(N){N.fire("mouseleave",{target:N.getEl()})});C._lastHoverCtrl=null}}function L(R){var Q=G.getParentCtrl(R.target),P=C._lastHoverCtrl,M=0,O,N,S;if(Q!==P){C._lastHoverCtrl=Q;N=Q.parents().toArray().reverse();N.push(Q);if(P){S=P.parents().toArray().reverse();S.push(P);for(M=0;M<S.length;M++){if(N[M]!==S[M]){break}}for(O=S.length-1;O>=M;O--){P=S[O];P.fire("mouseleave",{target:P.getEl()})}}for(O=M;O<N.length;O++){Q=N[O];Q.fire("mouseenter",{target:Q.getEl()})}}}function A(M){M.preventDefault();if(M.type=="mousewheel"){M.deltaY=-1/40*M.wheelDelta;if(M.wheelDeltaX){M.deltaX=-1/40*M.wheelDeltaX}}else{M.deltaX=0;M.deltaY=M.detail}M=G.fire("wheel",M)}I=G._nativeEvents;if(I){K=G.parents().toArray();K.unshift(G);for(F=0,D=K.length;!C&&F<D;F++){C=K[F]._eventsRoot}if(!C){C=K[K.length-1]||G}G._eventsRoot=C;for(D=F,F=0;F<D;F++){K[F]._eventsRoot=C}var H=C._delegates;if(!H){H=C._delegates={}}for(B in I){if(!I){return false}if(B==="wheel"&&!w){if(q){m(G.getEl()).on("mousewheel",A)}else{m(G.getEl()).on("DOMMouseScroll",A)}continue}if(B==="mouseenter"||B==="mouseleave"){if(!C._hasMouseEnter){m(C.getEl()).on("mouseleave",E).on("mouseover",L);C._hasMouseEnter=1}}else{if(!H[B]){m(C.getEl()).on(B,J);H[B]=true}}I[B]=false}}}return z});h("tinymce/ui/Factory",[],function(){var i={},j;return{add:function(k,l){i[k.toLowerCase()]=l},has:function(k){return !!i[k.toLowerCase()]},create:function(o,n){var k,l,m;if(!j){m=tinymce.ui;for(l in m){i[l.toLowerCase()]=m[l]}j=true}if(typeof o=="string"){n=n||{};n.type=o}else{n=o;o=n.type}o=o.toLowerCase();k=i[o];if(!k){throw new Error("Could not find control by type: "+o)}k=new k(n);k.type=o;return k}}});h("tinymce/ui/KeyboardNavigation",[],function(){return function(B){var x=B.root,i,p;function w(F){return F&&F.nodeType===1}try{i=document.activeElement}catch(A){i=document.body}p=x.getParentCtrl(i);function t(F){F=F||i;if(w(F)){return F.getAttribute("role")}return null}function E(H){var G,F=H||i;while((F=F.parentNode)){if((G=t(F))){return G}}}function v(F){var G=i;if(w(G)){return G.getAttribute("aria-"+F)}}function u(G){var F=G.tagName.toUpperCase();return F=="INPUT"||F=="TEXTAREA"||F=="SELECT"}function j(F){if(u(F)&&!F.hidden){return true}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(t(F))){return true}return false}function o(H){var G=[];function F(J){if(J.nodeType!=1||J.style.display=="none"||J.disabled){return}if(j(J)){G.push(J)}for(var I=0;I<J.childNodes.length;I++){F(J.childNodes[I])}}F(H||x.getEl());return G}function n(I){var G,F;I=I||p;F=I.parents().toArray();F.unshift(I);for(var H=0;H<F.length;H++){G=F[H];if(G.settings.ariaRoot){break}}return G}function y(H){var F=n(H);var G=o(F.getEl());if(F.settings.ariaRemember&&"lastAriaIndex" in F){r(F.lastAriaIndex,G)}else{r(0,G)}}function r(F,G){if(F<0){F=G.length-1}else{if(F>=G.length){F=0}}if(G[F]){G[F].focus()}return F}function D(H,J){var F=-1,G=n();J=J||o(G.getEl());for(var I=0;I<J.length;I++){if(J[I]===i){F=I}}F+=H;G.lastAriaIndex=r(F,J)}function m(){var F=E();if(F=="tablist"){D(-1,o(i.parentNode))}else{if(p.parent().submenu){l()}else{D(-1)}}}function C(){var G=t(),F=E();if(F=="tablist"){D(1,o(i.parentNode))}else{if(G=="menuitem"&&F=="menu"&&v("haspopup")){z()}else{D(1)}}}function q(){D(-1)}function s(){var G=t(),F=E();if(G=="menuitem"&&F=="menubar"){z()}else{if(G=="button"&&v("haspopup")){z({key:"down"})}else{D(1)}}}function k(G){var F=E();if(F=="tablist"){var H=o(p.getEl("body"))[0];if(H){H.focus()}}else{D(G.shiftKey?-1:1)}}function l(){p.fire("cancel")}function z(F){F=F||{};p.fire("click",{target:i,aria:F})}x.on("keydown",function(G){function F(I,H){if(u(i)){return}if(t(i)==="slider"){return}if(H(I)!==false){I.preventDefault()}}if(G.isDefaultPrevented()){return}switch(G.keyCode){case 37:F(G,m);break;case 39:F(G,C);break;case 38:F(G,q);break;case 40:F(G,s);break;case 27:l();break;case 14:case 13:case 32:F(G,z);break;case 9:if(k(G)!==false){G.preventDefault()}break}});x.on("focusin",function(F){i=F.target;p=F.control});return{focusFirst:y}}});h("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(j,n,i,k,q,l,p,m,r){var o={};return j.extend({init:function(t){var s=this;s._super(t);t=s.settings;if(t.fixed){s.state.set("fixed",true)}s._items=new n();if(s.isRtl()){s.classes.add("rtl")}s.bodyClasses=new m(function(){if(s.state.get("rendered")){s.getEl("body").className=this.toString()}});s.bodyClasses.prefix=s.classPrefix;s.classes.add("container");s.bodyClasses.add("container-body");if(t.containerCls){s.classes.add(t.containerCls)}s._layout=k.create((t.layout||"")+"layout");if(s.settings.items){s.add(s.settings.items)}else{s.add(s.render())}s._hasBody=true},items:function(){return this._items},find:function(s){s=o[s]=o[s]||new i(s);return s.find(this)},add:function(t){var s=this;s.items().add(s.create(t)).parent(s);return s},focus:function(s){var u=this,w,v,t;if(s){v=u.keyboardNav||u.parents().eq(-1)[0].keyboardNav;if(v){v.focusFirst(u);return}}t=u.find("*");if(u.statusbar){t.add(u.statusbar.items())}t.each(function(x){if(x.settings.autofocus){w=null;return false}if(x.canFocus){w=w||x}});if(w){w.focus()}return u},replace:function(w,v){var u,s=this.items(),t=s.length;while(t--){if(s[t]===w){s[t]=v;break}}if(t>=0){u=v.getEl();if(u){u.parentNode.removeChild(u)}u=w.getEl();if(u){u.parentNode.removeChild(u)}}v.parent(this)},create:function(t){var s=this,v,u=[];if(!l.isArray(t)){t=[t]}l.each(t,function(w){if(w){if(!(w instanceof j)){if(typeof w=="string"){w={type:w}}v=l.extend({},s.settings.defaults,w);w.type=v.type=v.type||w.type||s.settings.defaultType||(v.defaults?v.defaults.type:null);w=k.create(v)}u.push(w)}});return u},renderNew:function(){var s=this;s.items().each(function(u,t){var v;u.parent(s);if(!u.state.get("rendered")){v=s.getEl("body");if(v.hasChildNodes()&&t<=v.childNodes.length-1){p(v.childNodes[t]).before(u.renderHtml())}else{p(v).append(u.renderHtml())}u.postRender();r.add(u)}});s._layout.applyClasses(s.items().filter(":visible"));s._lastRect=null;return s},append:function(s){return this.add(s).renderNew()},prepend:function(t){var s=this;s.items().set(s.create(t).concat(s.items().toArray()));return s.renderNew()},insert:function(u,w,y){var t=this,v,s,x;u=t.create(u);v=t.items();if(!y&&w<v.length-1){w+=1}if(w>=0&&w<v.length){s=v.slice(0,w).toArray();x=v.slice(w).toArray();v.set(s.concat(u,x))}return t.renderNew()},fromJSON:function(u){var s=this;for(var t in u){s.find("#"+t).value(u[t])}return s},toJSON:function(){var s=this,t={};s.find("*").each(function(w){var u=w.name(),v=w.value();if(u&&typeof v!="undefined"){t[u]=v}});return t},renderHtml:function(){var s=this,t=s._layout,u=this.settings.role;s.preRender();t.preRender(s);return('<div id="'+s._id+'" class="'+s.classes+'"'+(u?' role="'+this.settings.role+'"':"")+'><div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||"")+t.renderHtml(s)+"</div></div>")},postRender:function(){var s=this,t;s.items().exec("postRender");s._super();s._layout.postRender(s);s.state.set("rendered",true);if(s.settings.style){s.$el.css(s.settings.style)}if(s.settings.border){t=s.borderBox;s.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})}if(!s.parent()){s.keyboardNav=new q({root:s})}return s},initLayoutRect:function(){var s=this,t=s._super();s._layout.recalc(s);return t},recalc:function(){var s=this,u=s._layoutRect,t=s._lastRect;if(!t||t.w!=u.w||t.h!=u.h){s._layout.recalc(s);u=s.layoutRect();s._lastRect={x:u.x,y:u.y,w:u.w,h:u.h};return true}},reflow:function(){var s;r.remove(this);if(this.visible()){j.repaintControls=[];j.repaintControls.map={};this.recalc();s=j.repaintControls.length;while(s--){j.repaintControls[s].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}j.repaintControls=[]}return this}})});h("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(i){function k(s){var t,o,m,r;var p,u,n,l,q=Math.max;t=s.documentElement;o=s.body;m=q(t.scrollWidth,o.scrollWidth);r=q(t.clientWidth,o.clientWidth);p=q(t.offsetWidth,o.offsetWidth);u=q(t.scrollHeight,o.scrollHeight);n=q(t.clientHeight,o.clientHeight);l=q(t.offsetHeight,o.offsetHeight);return{width:m<p?r:m,height:u<l?n:u}}function j(n){var m,l;if(n.changedTouches){m="screenX screenY pageX pageY clientX clientY".split(" ");for(l=0;l<m.length;l++){n[m[l]]=n.changedTouches[0][m[l]]}}}return function(m,o){var t,v=o.document||document,l,n,u,r,q,p;o=o||{};function s(){return v.getElementById(o.handle||m)}n=function(x){var z=k(v),w,y;j(x);x.preventDefault();l=x.button;w=s();q=x.screenX;p=x.screenY;if(window.getComputedStyle){y=window.getComputedStyle(w,null).getPropertyValue("cursor")}else{y=w.runtimeStyle.cursor}t=i("<div></div>").css({position:"absolute",top:0,left:0,width:z.width,height:z.height,zIndex:2147483647,opacity:0.0001,cursor:y}).appendTo(v.body);i(v).on("mousemove touchmove",r).on("mouseup touchend",u);o.start(x)};r=function(w){j(w);if(w.button!==l){return u(w)}w.deltaX=w.screenX-q;w.deltaY=w.screenY-p;w.preventDefault();o.drag(w)};u=function(w){j(w);i(v).off("mousemove touchmove",r).off("mouseup touchend",u);t.remove();if(o.stop){o.stop(w)}};this.destroy=function(){i(s()).off()};i(s()).on("mousedown touchstart",n)}});h("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(j,i){return{init:function(){var k=this;k.on("repaint",k.renderScroll)},renderScroll:function(){var l=this,m=2;function n(){var r,q,p;function o(w,v,y,E,D,u){var x,B,A;var t,s,z,C;var F,G;B=l.getEl("scroll"+w);if(B){F=v.toLowerCase();G=y.toLowerCase();j(l.getEl("absend")).css(F,l.layoutRect()[E]-1);if(!D){j(B).css("display","none");return}j(B).css("display","block");x=l.getEl("body");A=l.getEl("scroll"+w+"t");t=x["client"+y]-(m*2);t-=r&&q?B["client"+u]:0;s=x["scroll"+y];z=t/s;C={};C[F]=x["offset"+v]+m;C[G]=t;j(B).css(C);C={};C[F]=x["scroll"+v]*z;C[G]=t*z;j(A).css(C)}}p=l.getEl("body");r=p.scrollWidth>p.clientWidth;q=p.scrollHeight>p.clientHeight;o("h","Left","Width","contentW",r,"Height");o("v","Top","Height","contentH",q,"Width")}function k(){function o(v,r,p,w,t){var u,q=l._id+"-scroll"+v,s=l.classPrefix;j(l.getEl()).append('<div id="'+q+'" class="'+s+"scrollbar "+s+"scrollbar-"+v+'"><div id="'+q+'t" class="'+s+'scrollbar-thumb"></div></div>');l.draghelper=new i(q+"t",{start:function(){u=l.getEl("body")["scroll"+r];j("#"+q).addClass(s+"active")},drag:function(A){var x,C,z,B,y=l.layoutRect();C=y.contentW>y.innerW;z=y.contentH>y.innerH;B=l.getEl("body")["client"+p]-(m*2);B-=C&&z?l.getEl("scroll"+v)["client"+t]:0;x=B/l.getEl("body")["scroll"+p];l.getEl("body")["scroll"+r]=u+(A["delta"+w]/x)},stop:function(){j("#"+q).removeClass(s+"active")}})}l.classes.add("scroll");o("v","Top","Height","Y","Width");o("h","Left","Width","X","Height")}if(l.settings.autoScroll){if(!l._hasScroll){l._hasScroll=true;k();l.on("wheel",function(p){var o=l.getEl("body");o.scrollLeft+=(p.deltaX||0)*10;o.scrollTop+=p.deltaY*10;n()});j(l.getEl("body")).on("scroll",n)}n()}}}});h("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(j,i){return j.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[i],renderHtml:function(){var l=this,m=l._layout,k=l.settings.html;l.preRender();m.preRender(l);if(typeof k=="undefined"){k=('<div id="'+l._id+'-body" class="'+l.bodyClasses+'">'+m.renderHtml(l)+"</div>")}else{if(typeof k=="function"){k=k.call(l)}l._hasBody=false}return('<div id="'+l._id+'" class="'+l.classes+'" hidefocus="1" tabindex="-1" role="group">'+(l._preBodyHtml||"")+k+"</div>")}})});h("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(i){function j(k,s,v){var u,o,r,p,t,m,q,l,n,w;n=i.getViewPort();o=i.getPos(s);r=o.x;p=o.y;if(k.state.get("fixed")&&i.getRuntimeStyle(document.body,"position")=="static"){r-=n.x;p-=n.y}u=k.getEl();w=i.getSize(u);t=w.width;m=w.height;w=i.getSize(s);q=w.width;l=w.height;v=(v||"").split("");if(v[0]==="b"){p+=l}if(v[1]==="r"){r+=q}if(v[0]==="c"){p+=Math.round(l/2)}if(v[1]==="c"){r+=Math.round(q/2)}if(v[3]==="b"){p-=m}if(v[4]==="r"){r-=t}if(v[3]==="c"){p-=Math.round(m/2)}if(v[4]==="c"){r-=Math.round(t/2)}return{x:r,y:p,w:t,h:m}}return{testMoveRel:function(o,l){var k=i.getViewPort();for(var m=0;m<l.length;m++){var n=j(this,o,l[m]);if(this.state.get("fixed")){if(n.x>0&&n.x+n.w<k.w&&n.y>0&&n.y+n.h<k.h){return l[m]}}else{if(n.x>k.x&&n.x+n.w<k.w+k.x&&n.y>k.y&&n.y+n.h<k.h+k.y){return l[m]}}}return l[0]},moveRel:function(m,k){if(typeof k!="string"){k=this.testMoveRel(m,k)}var l=j(this,m,k);return this.moveTo(l.x,l.y)},moveBy:function(m,k){var l=this,n=l.layoutRect();l.moveTo(n.x+m,n.y+k);return l},moveTo:function(k,p){var l=this;function o(s,q,r){if(s<0){return 0}if(s+r>q){s=q-r;return s<0?0:s}return s}if(l.settings.constrainToViewport){var m=i.getViewPort(window);var n=l.layoutRect();k=o(k,m.w+m.x,n.w);p=o(p,m.h+m.y,n.h)}if(l.state.get("rendered")){l.layoutRect({x:k,y:p}).repaint()}else{l.settings.x=k;l.settings.y=p}l.fire("move",{x:k,y:p});return l}}});h("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(i){return{resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow()},resizeTo:function(j,k){if(j<=1||k<=1){var l=i.getWindowSize();j=j<=1?j*l.w:j;k=k<=1?k*l.h:k}this._layoutRect.autoResize=false;return this.layoutRect({minW:j,minH:k,w:j,h:k}).reflow()},resizeBy:function(k,m){var j=this,l=j.layoutRect();return j.resizeTo(l.w+k,l.h+m)}}});h("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(z,w,q,B,o,n){var m,v,r,k=[];var i=[],p;function x(E,D){while(E){if(E==D){return true}E=E.parent()}}function s(G){var F=k.length;while(F--){var E=k[F],D=E.getParentCtrl(G.target);if(E.settings.autohide){if(D){if(x(D,E)||E.parent()===D){continue}}G=E.fire("autohide",{target:G.target});if(!G.isDefaultPrevented()){E.hide()}}}}function j(){if(!m){m=function(D){if(D.button==2){return}s(D)};o(document).on("click touchstart",m)}}function l(){if(!v){v=function(){var D;D=k.length;while(D--){t(k[D])}};o(window).on("scroll",v)}}function A(){if(!r){var E=document.documentElement,F=E.clientWidth,D=E.clientHeight;r=function(){if(!document.all||F!=E.clientWidth||D!=E.clientHeight){F=E.clientWidth;D=E.clientHeight;y.hideAll()}};o(window).on("resize",r)}}function t(D){var E=B.getViewPort().y;function F(J,G){var I;for(var H=0;H<k.length;H++){if(k[H]!=D){I=k[H].parent();while(I&&(I=I.parent())){if(I==D){k[H].fixed(J).moveBy(0,G).repaint()}}}}}if(D.settings.autofix){if(!D.state.get("fixed")){D._autoFixY=D.layoutRect().y;if(D._autoFixY<E){D.fixed(true).layoutRect({y:0}).repaint();F(true,E-D._autoFixY)}}else{if(D._autoFixY>E){D.fixed(false).layoutRect({y:D._autoFixY}).repaint();F(false,D._autoFixY-E)}}}}function u(H,F){var D,I=y.zIndex||65535,E;if(H){i.push(F)}else{D=i.length;while(D--){if(i[D]===F){i.splice(D,1)}}}if(i.length){for(D=0;D<i.length;D++){if(i[D].modal){I++;E=i[D]}i[D].getEl().style.zIndex=I;i[D].zIndex=I;I++}}var G=o("#"+F.classPrefix+"modal-block",F.getContainerElm())[0];if(E){o(G).css("z-index",E.zIndex-1)}else{if(G){G.parentNode.removeChild(G);p=false}}y.currentZIndex=I}var y=z.extend({Mixins:[w,q],init:function(E){var D=this;D._super(E);D._eventsRoot=D;D.classes.add("floatpanel");if(E.autohide){j();A();k.push(D)}if(E.autofix){l();D.on("move",function(){t(this)})}D.on("postrender show",function(H){if(H.control==D){var G,F=D.classPrefix;if(D.modal&&!p){G=o("#"+F+"modal-block",D.getContainerElm());if(!G[0]){G=o('<div id="'+F+'modal-block" class="'+F+"reset "+F+'fade"></div>').appendTo(D.getContainerElm())}n.setTimeout(function(){G.addClass(F+"in");o(D.getEl()).addClass(F+"in")});p=true}u(true,D)}});D.on("show",function(){D.parents().each(function(F){if(F.state.get("fixed")){D.fixed(true);return false}})});if(E.popover){D._preBodyHtml='<div class="'+D.classPrefix+'arrow"></div>';D.classes.add("popover").add("bottom").add(D.isRtl()?"end":"start")}D.aria("label",E.ariaLabel);D.aria("labelledby",D._id);D.aria("describedby",D.describedBy||D._id+"-none")},fixed:function(F){var E=this;if(E.state.get("fixed")!=F){if(E.state.get("rendered")){var D=B.getViewPort();if(F){E.layoutRect().y-=D.y}else{E.layoutRect().y+=D.y}}E.classes.toggle("fixed",F);E.state.set("fixed",F)}return E},show:function(){var D=this,E,F=D._super();E=k.length;while(E--){if(k[E]===D){break}}if(E===-1){k.push(D)}return F},hide:function(){C(this);u(false,this);return this._super()},hideAll:function(){y.hideAll()},close:function(){var D=this;if(!D.fire("close").isDefaultPrevented()){D.remove();u(false,D)}return D},remove:function(){C(this);this._super()},postRender:function(){var D=this;if(D.settings.bodyRole){this.getEl("body").setAttribute("role",D.settings.bodyRole)}return D._super()}});y.hideAll=function(){var E=k.length;while(E--){var D=k[E];if(D&&D.settings.autohide){D.hide();k.splice(E,1)}}};function C(D){var E;E=k.length;while(E--){if(k[E]===D){k.splice(E,1)}}E=i.length;while(E--){if(i[E]===D){i.splice(E,1)}}}return y});h("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(p,t,i,n,j,v,q,k){var s=[],o="";function l(A){var z="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",x=n("meta[name=viewport]")[0],y;if(q.overrideViewPort===false){return}if(!x){x=document.createElement("meta");x.setAttribute("name","viewport");document.getElementsByTagName("head")[0].appendChild(x)}y=x.getAttribute("content");if(y&&typeof o!="undefined"){o=y}x.setAttribute("content",A?z:o)}function r(x,y){if(w()&&y===false){n([document.documentElement,document.body]).removeClass(x+"fullscreen")}}function w(){for(var x=0;x<s.length;x++){if(s[x]._fullscreen){return true}}return false}function m(){if(!q.desktop){var y={w:window.innerWidth,h:window.innerHeight};k.setInterval(function(){var z=window.innerWidth,A=window.innerHeight;if(y.w!=z||y.h!=A){y={w:z,h:A};n(window).trigger("resize")}},100)}function x(){var z,B=i.getWindowSize(),A;for(z=0;z<s.length;z++){A=s[z].layoutRect();s[z].moveTo(s[z].settings.x||Math.max(0,B.w/2-A.w/2),s[z].settings.y||Math.max(0,B.h/2-A.h/2))}}n(window).on("resize",x)}var u=p.extend({modal:true,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(y){var x=this;x._super(y);if(x.isRtl()){x.classes.add("rtl")}x.classes.add("window");x.bodyClasses.add("window-body");x.state.set("fixed",true);if(y.buttons){x.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:x.isRtl()?"start":"end",defaults:{type:"button"},items:y.buttons});x.statusbar.classes.add("foot");x.statusbar.parent(x)}x.on("click",function(A){var z=x.classPrefix+"close";if(i.hasClass(A.target,z)||i.hasClass(A.target.parentNode,z)){x.close()}});x.on("cancel",function(){x.close()});x.aria("describedby",x.describedBy||x._id+"-none");x.aria("label",y.title);x._fullscreen=false},recalc:function(){var z=this,C=z.statusbar,B,A,y,D;if(z._fullscreen){z.layoutRect(i.getWindowSize());z.layoutRect().contentH=z.layoutRect().innerH}z._super();B=z.layoutRect();if(z.settings.title&&!z._fullscreen){A=B.headerW;if(A>B.w){y=B.x-Math.max(0,A/2);z.layoutRect({w:A,x:y});D=true}}if(C){C.layoutRect({w:z.layoutRect().innerW}).recalc();A=C.layoutRect().minW+B.deltaW;if(A>B.w){y=B.x-Math.max(0,A-B.w);z.layoutRect({w:A,x:y});D=true}}if(D){z.recalc()}},initLayoutRect:function(){var x=this,B=x._super(),A=0,C;if(x.settings.title&&!x._fullscreen){C=x.getEl("head");var y=i.getSize(C);B.headerW=y.width;B.headerH=y.height;A+=B.headerH}if(x.statusbar){A+=x.statusbar.layoutRect().h}B.deltaH+=A;B.minH+=A;B.h+=A;var z=i.getWindowSize();B.x=x.settings.x||Math.max(0,z.w/2-B.w/2);B.y=x.settings.y||Math.max(0,z.h/2-B.h/2);return B},renderHtml:function(){var y=this,B=y._layout,E=y._id,C=y.classPrefix;var A=y.settings,x="",D="",z=A.html;y.preRender();B.preRender(y);if(A.title){x=('<div id="'+E+'-head" class="'+C+'window-head"><div id="'+E+'-title" class="'+C+'title">'+y.encode(A.title)+'</div><div id="'+E+'-dragh" class="'+C+'dragh"></div><button type="button" class="'+C+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>')}if(A.url){z='<iframe src="'+A.url+'" tabindex="-1"></iframe>'}if(typeof z=="undefined"){z=B.renderHtml(y)}if(y.statusbar){D=y.statusbar.renderHtml()}return('<div id="'+E+'" class="'+y.classes+'" hidefocus="1"><div class="'+y.classPrefix+'reset" role="application">'+x+'<div id="'+E+'-body" class="'+y.bodyClasses+'">'+z+"</div>"+D+"</div></div>")},fullscreen:function(D){var x=this,C=document.documentElement,y,B=x.classPrefix,A;if(D!=x._fullscreen){n(window).on("resize",function(){var F;if(x._fullscreen){if(!y){F=new Date().getTime();var E=i.getWindowSize();x.moveTo(0,0).resizeTo(E.w,E.h);if((new Date().getTime())-F>50){y=true}}else{if(!x._timer){x._timer=k.setTimeout(function(){var G=i.getWindowSize();x.moveTo(0,0).resizeTo(G.w,G.h);x._timer=0},50)}}}});A=x.layoutRect();x._fullscreen=D;if(!D){x.borderBox=v.parseBox(x.settings.border);x.getEl("head").style.display="";A.deltaH+=A.headerH;n([C,document.body]).removeClass(B+"fullscreen");x.classes.remove("fullscreen");x.moveTo(x._initial.x,x._initial.y).resizeTo(x._initial.w,x._initial.h)}else{x._initial={x:A.x,y:A.y,w:A.w,h:A.h};x.borderBox=v.parseBox("0");x.getEl("head").style.display="none";A.deltaH-=A.headerH+2;n([C,document.body]).addClass(B+"fullscreen");x.classes.add("fullscreen");var z=i.getWindowSize();x.moveTo(0,0).resizeTo(z.w,z.h)}}return x.reflow()},postRender:function(){var x=this,y;setTimeout(function(){x.classes.add("in");x.fire("open")},0);x._super();if(x.statusbar){x.statusbar.postRender()}x.focus();this.dragHelper=new j(x._id+"-dragh",{start:function(){y={x:x.layoutRect().x,y:x.layoutRect().y}},drag:function(z){x.moveTo(y.x+z.deltaX,y.y+z.deltaY)}});x.on("submit",function(z){if(!z.isDefaultPrevented()){x.close()}});s.push(x);l(true)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var x=this,y;x.dragHelper.destroy();x._super();if(x.statusbar){this.statusbar.remove()}r(x.classPrefix,false);y=s.length;while(y--){if(s[y]===x){s.splice(y,1)}}l(s.length>0)},getContentWindow:function(){var x=this.getEl().getElementsByTagName("iframe")[0];return x?x.contentWindow:null}});m();return u});h("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(j){var i=j.extend({init:function(k){k={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:true,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:true,maxWidth:500,maxHeight:200}};this._super(k)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(l){var m,n=l.callback||function(){};function k(q,o,p){return{type:"button",text:q,subtype:p?"primary":"",onClick:function(r){r.control.parents()[1].close();n(o)}}}switch(l.buttons){case i.OK_CANCEL:m=[k("Ok",true,true),k("Cancel",false)];break;case i.YES_NO:case i.YES_NO_CANCEL:m=[k("Yes",1,true),k("No",0)];if(l.buttons==i.YES_NO_CANCEL){m.push(k("Cancel",-1))}break;default:m=[k("Ok",true,true)];break}return new j({padding:20,x:l.x,y:l.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:m,title:l.title,role:"alertdialog",items:{type:"label",multiline:true,maxWidth:500,maxHeight:200,text:l.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:l.onClose,onCancel:function(){n(false)}}).renderTo(document.body).reflow()},alert:function(k,l){if(typeof k=="string"){k={text:k}}k.callback=l;return i.msgBox(k)},confirm:function(k,l){if(typeof k=="string"){k={text:k}}k.callback=l;k.buttons=i.OK_CANCEL;return i.msgBox(k)}}});return i});h("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(j,i){return function(o){var n=this,p=[];function l(){if(p.length){return p[p.length-1]}}function m(q){o.fire("OpenWindow",{win:q})}function k(q){o.fire("CloseWindow",{win:q})}n.windows=p;o.on("remove",function(){var q=p.length;while(q--){p[q].close()}});n.open=function(q,s){var r;o.editorManager.setActive(o);q.title=q.title||" ";q.url=q.url||q.file;if(q.url){q.width=parseInt(q.width||320,10);q.height=parseInt(q.height||240,10)}if(q.body){q.items={defaults:q.defaults,type:q.bodyType||"form",items:q.body,data:q.data,callbacks:q.commands}}if(!q.url&&!q.buttons){q.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]}r=new j(q);p.push(r);r.on("close",function(){var t=p.length;while(t--){if(p[t]===r){p.splice(t,1)}}if(!p.length){o.focus()}k(r)});if(q.data){r.on("postRender",function(){this.find("*").each(function(u){var t=u.name();if(t in q.data){u.value(q.data[t])}})})}r.features=q||{};r.params=s||{};if(p.length===1){o.nodeChanged()}r=r.renderTo().reflow();m(r);return r};n.alert=function(r,t,q){var s;s=i.alert(r,function(){if(t){t.call(q||this)}else{o.focus()}});s.on("close",function(){k(s)});m(s)};n.confirm=function(r,t,q){var s;s=i.confirm(r,function(u){t.call(q||this,u)});s.on("close",function(){k(s)});m(s)};n.close=function(){if(l()){l().close()}};n.getParams=function(){return l()?l().params:null};n.setParams=function(q){if(l()){l().params=q}};n.getWindows=function(){return p}}});h("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(j,i){return j.extend({Mixins:[i],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var k=this,l=k.classPrefix;return('<div id="'+k._id+'" class="'+k.classes+'" role="presentation"><div class="'+l+'tooltip-arrow"></div><div class="'+l+'tooltip-inner">'+k.encode(k.state.get("text"))+"</div></div>")},bindStates:function(){var k=this;k.state.on("change:text",function(l){k.getEl().lastChild.innerHTML=k.encode(l.value)});return k._super()},repaint:function(){var k=this,l,m;l=k.getEl().style;m=k._layoutRect;l.left=m.x+"px";l.top=m.y+"px";l.zIndex=65535+65535}})});h("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(k,i){var l;var j=k.extend({init:function(n){var m=this;m._super(n);n=m.settings;m.canFocus=true;if(n.tooltip&&j.tooltips!==false){m.on("mouseenter",function(q){var p=m.tooltip().moveTo(-65535);if(q.control==m){var o=p.text(n.tooltip).show().testMoveRel(m.getEl(),["bc-tc","bc-tl","bc-tr"]);p.classes.toggle("tooltip-n",o=="bc-tc");p.classes.toggle("tooltip-nw",o=="bc-tl");p.classes.toggle("tooltip-ne",o=="bc-tr");p.moveRel(m.getEl(),o)}else{p.hide()}});m.on("mouseleave mousedown click",function(){m.tooltip().hide()})}m.aria("label",n.ariaLabel||n.tooltip)},tooltip:function(){if(!l){l=new i({type:"tooltip"});l.renderTo()}return l},postRender:function(){var m=this,n=m.settings;m._super();if(!m.parent()&&(n.width||n.height)){m.initLayoutRect();m.repaint()}if(n.autofocus){m.focus()}},bindStates:function(){var m=this;function n(p){m.aria("disabled",p);m.classes.toggle("disabled",p)}function o(p){m.aria("pressed",p);m.classes.toggle("active",p)}m.state.on("change:disabled",function(p){n(p.value)});m.state.on("change:active",function(p){o(p.value)});if(m.state.get("disabled")){n(true)}if(m.state.get("active")){o(true)}return m._super()},remove:function(){this._super();if(l){l.remove();l=null}}});return j});h("tinymce/ui/Progress",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{value:0},init:function(k){var j=this;j._super(k);j.classes.add("progress");if(!j.settings.filter){j.settings.filter=function(l){return Math.round(l)}}},renderHtml:function(){var j=this,l=j._id,k=this.classPrefix;return('<div id="'+l+'" class="'+j.classes+'"><div class="'+k+'bar-container"><div class="'+k+'bar"></div></div><div class="'+k+'text">0%</div></div>')},postRender:function(){var j=this;j._super();j.value(j.settings.value);return j},bindStates:function(){var j=this;function k(l){l=j.settings.filter(l);j.getEl().lastChild.innerHTML=l+"%";j.getEl().firstChild.firstChild.style.width=l+"%"}j.state.on("change:value",function(l){k(l.value)});k(j.state.get("value"));return j._super()}})});h("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(k,j,i,l){return k.extend({Mixins:[j],Defaults:{classes:"widget notification"},init:function(n){var m=this;m._super(n);if(n.text){m.text(n.text)}if(n.icon){m.icon=n.icon}if(n.color){m.color=n.color}if(n.type){m.classes.add("notification-"+n.type)}if(n.timeout&&(n.timeout<0||n.timeout>0)&&!n.closeButton){m.closeButton=false}else{m.classes.add("has-close");m.closeButton=true}if(n.progressBar){m.progressBar=new i()}m.on("click",function(o){if(o.target.className.indexOf(m.classPrefix+"close")!=-1){m.close()}})},renderHtml:function(){var o=this,q=o.classPrefix,p="",n="",r="",m="";if(o.icon){p='<i class="'+q+"ico "+q+"i-"+o.icon+'"></i>'}if(o.color){m=' style="background-color: '+o.color+'"'}if(o.closeButton){n='<button type="button" class="'+q+'close" aria-hidden="true">\u00d7</button>'}if(o.progressBar){r=o.progressBar.renderHtml()}return('<div id="'+o._id+'" class="'+o.classes+'"'+m+' role="presentation">'+p+'<div class="'+q+'notification-inner">'+o.state.get("text")+"</div>"+r+n+"</div>")},postRender:function(){var m=this;l.setTimeout(function(){m.$el.addClass(m.classPrefix+"in")});return m._super()},bindStates:function(){var m=this;m.state.on("change:text",function(n){m.getEl().childNodes[1].innerHTML=n.value});if(m.progressBar){m.progressBar.bindStates()}return m._super()},close:function(){var m=this;if(!m.fire("close").isDefaultPrevented()){m.remove()}return m},repaint:function(){var m=this,n,o;n=m.getEl().style;o=m._layoutRect;n.left=o.x+"px";n.top=o.y+"px";n.zIndex=65535-1}})});h("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay","tinymce/util/Tools"],function(j,k,i){return function(q){var u=this,t=[];function p(){if(t.length){return t[t.length-1]}}u.notifications=t;function n(){k.requestAnimationFrame(function(){o();m()})}function o(){for(var v=0;v<t.length;v++){t[v].moveTo(0,0)}}function m(){if(t.length>0){var x=t.slice(0,1)[0];var v=q.inline?q.getElement():q.getContentAreaContainer();x.moveRel(v,"tc-tc");if(t.length>1){for(var w=1;w<t.length;w++){t[w].moveRel(t[w-1].getEl(),"bc-tc")}}}}q.on("remove",function(){var v=t.length;while(v--){t[v].close()}});q.on("ResizeEditor",m);q.on("ResizeWindow",n);u.open=function(w){if(q.removed){return}var v;q.editorManager.setActive(q);var x=l(t,w);if(x===null){v=new j(w);t.push(v);if(w.timeout>0){v.timer=setTimeout(function(){v.close()},w.timeout)}v.on("close",function(){var y=t.length;if(v.timer){q.getWin().clearTimeout(v.timer)}while(y--){if(t[y]===v){t.splice(y,1)}}m()});v.renderTo();m()}else{v=x}return v};u.close=function(){if(p()){p().close()}};u.getNotifications=function(){return t};q.on("SkinLoaded",function(){var v=q.settings.service_message;if(v){q.notificationManager.open({text:v,type:"warning",timeout:0,icon:""})}});function l(x,v){if(!r(v)){return null}var w=i.grep(x,function(y){return s(v,y)});return w.length===0?null:w[0]}function s(w,v){return w.type===v.settings.type&&w.text===v.settings.text}function r(v){return !v.progressBar&&!v.timeout}}});h("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(k){function i(l,n,o){var m=[];for(;n&&n!=l;n=n.parentNode){m.push(k.nodeIndex(n,o))}return m}function j(l,p){var n,o,m;for(o=l,n=p.length-1;n>=0;n--){m=o.childNodes;if(p[n]>m.length-1){return null}o=m[p[n]]}return o}return{create:i,resolve:j}});h("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/caret/CaretWalker"],function(t,n,s,l,o,j,p,k,i,r,m,q){return function(u){var an=k.each,aa=u.$;var w=t.BACKSPACE,I=t.DELETE,v=u.dom,L=u.selection,ar=u.settings,Z=u.parser,Q=u.serializer;var y=p.gecko,G=p.ie,ak=p.webkit;var af="data:text/mce-internal,";var x=G?"Text":"URL";function ae(az,ay){try{u.getDoc().execCommand(az,false,ay)}catch(ax){}}function N(){var ax=u.getDoc().documentMode;return ax?ax:6}function ad(ax){return ax.isDefaultPrevented()}function aw(ay){var ax,az;if(ay.dataTransfer){if(u.selection.isCollapsed()&&ay.target.tagName=="IMG"){L.select(ay.target)}ax=u.selection.getContent();if(ax.length>0){az=af+escape(u.id)+","+escape(ax);ay.dataTransfer.setData(x,az)}}}function O(ax){var ay;if(ax.dataTransfer){ay=ax.dataTransfer.getData(x);if(ay&&ay.indexOf(af)>=0){ay=ay.substr(af.length).split(",");return{id:unescape(ay[0]),html:unescape(ay[1])}}}return null}function U(ax){if(u.queryCommandSupported("mceInsertClipboardContent")){u.execCommand("mceInsertClipboardContent",false,{content:ax})}else{u.execCommand("mceInsertContent",false,ax)}}function au(){var aJ=u.getDoc(),aD=u.dom,aK=u.selection;var az=window.MutationObserver,aE,aI;if(!az){aE=true;az=function(){var aM=[],aP;function aO(aR){var aQ=aR.relatedNode||aR.target;aM.push({target:aQ,addedNodes:[aQ]})}function aN(aR){var aQ=aR.relatedNode||aR.target;aM.push({target:aQ,attributeName:aR.attrName})}this.observe=function(aQ){aP=aQ;aP.addEventListener("DOMSubtreeModified",aO,false);aP.addEventListener("DOMNodeInsertedIntoDocument",aO,false);aP.addEventListener("DOMNodeInserted",aO,false);aP.addEventListener("DOMAttrModified",aN,false)};this.disconnect=function(){aP.removeEventListener("DOMSubtreeModified",aO,false);aP.removeEventListener("DOMNodeInsertedIntoDocument",aO,false);aP.removeEventListener("DOMNodeInserted",aO,false);aP.removeEventListener("DOMAttrModified",aN,false)};this.takeRecords=function(){return aM}}}function ax(aO){var aN=aD.schema.getBlockElements(),aM=u.getBody();if(aO.nodeName!="BR"){return false}for(;aO!=aM&&!aN[aO.nodeName];aO=aO.parentNode){if(aO.nextSibling){return false}}return true}function aA(aN,aM){var aO;for(aO=aN.nextSibling;aO&&aO!=aM;aO=aO.nextSibling){if(aO.nodeType==3&&aa.trim(aO.data).length===0){continue}if(aO!==aM){return false}}return aO===aM}function aF(aP,aO,aN){var aR,aQ,aM;if(!aD.isChildOf(aP,u.getBody())){return}aM=aD.schema.getNonEmptyElements();aR=new s(aN||aP,aP);while((aQ=aR[aO?"next":"prev"]())){if(aM[aQ.nodeName]&&!ax(aQ)){return aQ}if(aQ.nodeType==3&&aQ.data.length>0){return aQ}}}function aH(aN){var aQ,aO,aM,aP,aR;if(aN.collapsed){return}aQ=aD.getParent(n.getNode(aN.startContainer,aN.startOffset),aD.isBlock);aO=aD.getParent(n.getNode(aN.endContainer,aN.endOffset),aD.isBlock);aR=u.schema.getTextBlockElements();if(aQ==aO){return}if(!aR[aQ.nodeName]||!aR[aO.nodeName]){return}if(aD.getContentEditable(aQ)==="false"||aD.getContentEditable(aO)==="false"){return}aN.deleteContents();aM=aF(aQ,false);aP=aF(aO,true);if(!aD.isEmpty(aO)){aa(aQ).append(aO.childNodes)}aa(aO).remove();if(aM){if(aM.nodeType==1){if(aM.nodeName=="BR"){aN.setStartBefore(aM);aN.setEndBefore(aM)}else{aN.setStartAfter(aM);aN.setEndAfter(aM)}}else{aN.setStart(aM,aM.data.length);aN.setEnd(aM,aM.data.length)}}else{if(aP){if(aP.nodeType==1){aN.setStartBefore(aP);aN.setEndBefore(aP)}else{aN.setStart(aP,0);aN.setEnd(aP,0)}}}aK.setRng(aN);return true}function aC(aN,aT){var aR,aM,aS,aP,aO,aQ;if(!aN.collapsed){return aN}aO=aN.startContainer;aQ=aN.startOffset;if(aO.nodeType==3){if(aT){if(aQ<aO.data.length){return aN}}else{if(aQ>0){return aN}}}aR=n.getNode(aO,aQ);aS=aD.getParent(aR,aD.isBlock);aM=aF(u.getBody(),aT,aR);aP=aD.getParent(aM,aD.isBlock);var aU=aO.nodeType===1&&aQ>aO.childNodes.length-1;if(!aR||!aM){return aN}if(aP&&aS!=aP){if(!aT){if(!aA(aP,aS)){return aN}if(aM.nodeType==1){if(aM.nodeName=="BR"){aN.setStartBefore(aM)}else{aN.setStartAfter(aM)}}else{aN.setStart(aM,aM.data.length)}if(aR.nodeType==1){if(aU){aN.setEndAfter(aR)}else{aN.setEndBefore(aR)}}else{aN.setEndBefore(aR)}}else{if(!aA(aS,aP)){return aN}if(aR.nodeType==1){if(aR.nodeName=="BR"){aN.setStartBefore(aR)}else{aN.setStartAfter(aR)}}else{aN.setStart(aR,aR.data.length)}if(aM.nodeType==1){aN.setEnd(aM,0)}else{aN.setEndBefore(aM)}}}return aN}function aB(aN){var aM=aK.getRng();aM=aC(aM,aN);if(aH(aM)){return true}}function aL(aX,aM){var aY,aP,aQ,aR,aU,aN,aT,aW,aO;function aS(a0,aZ){aO=aa(aZ).parents().filter(function(a1,a2){return !!u.schema.getTextInlineElements()[a2.nodeName]});aQ=a0.cloneNode(false);aO=k.map(aO,function(a1){a1=a1.cloneNode(false);if(aQ.hasChildNodes()){a1.appendChild(aQ.firstChild);aQ.appendChild(a1)}else{aQ.appendChild(a1)}aQ.appendChild(a1);return a1});if(aO.length){aW=aD.create("br");aO[0].appendChild(aW);aD.replace(aQ,a0);aM.setStartBefore(aW);aM.setEndBefore(aW);u.selection.setRng(aM);return aW}return null}function aV(aZ){return aZ&&u.schema.getTextBlockElements()[aZ.tagName]}if(!aM.collapsed){return}aN=aM.startContainer;aT=aM.startOffset;aP=aD.getParent(aN,aD.isBlock);if(!aV(aP)){return}if(aN.nodeType==1){aN=aN.childNodes[aT];if(aN&&aN.tagName!="BR"){return}if(aX){aU=aP.nextSibling}else{aU=aP.previousSibling}if(aD.isEmpty(aP)&&aV(aU)&&aD.isEmpty(aU)){if(aS(aP,aN)){aD.remove(aU);return true}}}else{if(aN.nodeType==3){aY=l.create(aP,aN);aR=aP.cloneNode(true);aN=l.resolve(aR,aY);if(aX){if(aT>=aN.data.length){return}aN.deleteData(aT,1)}else{if(aT<=0){return}aN.deleteData(aT-1,1)}if(aD.isEmpty(aR)){return aS(aP,aN)}}}}function aG(aO){var aN,aM,aP;if(aB(aO)){return}k.each(u.getBody().getElementsByTagName("*"),function(aQ){if(aQ.tagName=="SPAN"){aQ.setAttribute("mce-data-marked",1)}if(!aQ.hasAttribute("data-mce-style")&&aQ.hasAttribute("style")){u.dom.setAttrib(aQ,"style",u.dom.getAttrib(aQ,"style"))}});aN=new az(function(){});aN.observe(u.getDoc(),{childList:true,attributes:true,subtree:true,attributeFilter:["style"]});u.getDoc().execCommand(aO?"ForwardDelete":"Delete",false,null);aM=u.selection.getRng();aP=aM.startContainer.parentNode;k.each(aN.takeRecords(),function(aQ){if(!aD.isChildOf(aQ.target,u.getBody())){return}if(aQ.attributeName=="style"){var aR=aQ.target.getAttribute("data-mce-style");if(aR){aQ.target.setAttribute("style",aR)}else{aQ.target.removeAttribute("style")}}k.each(aQ.addedNodes,function(aT){if(aT.nodeName=="SPAN"&&!aT.getAttribute("mce-data-marked")){var aU,aS;if(aT==aP){aU=aM.startOffset;aS=aT.firstChild}aD.remove(aT,true);if(aS){aM.setStart(aS,aU);aM.setEnd(aS,aU);u.selection.setRng(aM)}}})});aN.disconnect();k.each(u.dom.select("span[mce-data-marked]"),function(aQ){aQ.removeAttribute("mce-data-marked")})}function ay(aM){u.undoManager.transact(function(){aG(aM)})}u.on("keydown",function(aQ){var aP=aQ.keyCode==I,aM=aQ.ctrlKey||aQ.metaKey;if(!ad(aQ)&&(aP||aQ.keyCode==w)){var aO=u.selection.getRng(),aN=aO.startContainer,aR=aO.startOffset;if(aP&&aQ.shiftKey){return}if(aL(aP,aO)){aQ.preventDefault();return}if(!aM&&aO.collapsed&&aN.nodeType==3){if(aP?aR<aN.data.length:aR>0){return}}aQ.preventDefault();if(aM){u.selection.getSel().modify("extend",aP?"forward":"backward",aQ.metaKey?"lineboundary":"word")}aG(aP)}});u.on("keypress",function(aR){if(!ad(aR)&&!aK.isCollapsed()&&aR.charCode>31&&!t.metaKeyPressed(aR)){var aM,aS,aQ,aN,aO,aP;aM=u.selection.getRng();aP=String.fromCharCode(aR.charCode);aR.preventDefault();aS=aa(aM.startContainer).parents().filter(function(aT,aU){return !!u.schema.getTextInlineElements()[aU.nodeName]});aG(true);aS=aS.filter(function(aT,aU){return !aa.contains(u.getBody(),aU)});if(aS.length){aQ=aD.createFragment();aS.each(function(aT,aU){aU=aU.cloneNode(false);if(aQ.hasChildNodes()){aU.appendChild(aQ.firstChild);aQ.appendChild(aU)}else{aO=aU;aQ.appendChild(aU)}aQ.appendChild(aU)});aO.appendChild(u.getDoc().createTextNode(aP));aN=aD.getParent(aM.startContainer,aD.isBlock);if(aD.isEmpty(aN)){aa(aN).empty().append(aQ)}else{aM.insertNode(aQ)}aM.setStart(aO.firstChild,1);aM.setEnd(aO.firstChild,1);u.selection.setRng(aM)}else{u.selection.setContent(aP)}}});u.addCommand("Delete",function(){aG()});u.addCommand("ForwardDelete",function(){aG(true)});if(aE){return}u.on("dragstart",function(aM){aI=aK.getRng();aw(aM)});u.on("drop",function(aM){if(!ad(aM)){var aN=O(aM);if(aN){aM.preventDefault();i.setEditorTimeout(u,function(){var aO=n.getCaretRangeFromPoint(aM.x,aM.y,aJ);if(aI){aK.setRng(aI);aI=null;ay()}aK.setRng(aO);U(aN.html)})}}});u.on("cut",function(aM){if(!ad(aM)&&aM.clipboardData&&!u.selection.isCollapsed()){aM.preventDefault();aM.clipboardData.clearData();aM.clipboardData.setData("text/html",u.selection.getContent());aM.clipboardData.setData("text/plain",u.selection.getContent({format:"text"}));i.setEditorTimeout(u,function(){ay(true)})}})}function T(){function ax(aA){var az=v.create("body");var aB=aA.cloneContents();az.appendChild(aB);return L.serializer.serialize(az,{format:"html"})}function ay(az){if(!az.setStart){if(az.item){return false}var aD=az.duplicate();aD.moveToElementText(u.getBody());return n.compareRanges(az,aD)}var aB=ax(az);var aC=v.createRng();aC.selectNode(u.getBody());var aA=ax(aC);return aB===aA}u.on("keydown",function(aC){var aB=aC.keyCode,aA,az;if(!ad(aC)&&(aB==I||aB==w)){aA=u.selection.isCollapsed();az=u.getBody();if(aA&&!v.isEmpty(az)){return}if(!aA&&!ay(u.selection.getRng())){return}aC.preventDefault();u.setContent("");if(az.firstChild&&v.isBlock(az.firstChild)){u.selection.setCursorLocation(az.firstChild,0)}else{u.selection.setCursorLocation(az,0)}u.nodeChanged()}})}function at(){u.shortcuts.add("meta+a",null,"SelectAll")}function av(){if(!u.settings.content_editable){v.bind(u.getDoc(),"mousedown mouseup",function(ay){var ax;if(ay.target==u.getDoc().documentElement){ax=L.getRng();u.getBody().focus();if(ay.type=="mousedown"){if(r.isCaretContainer(ax.startContainer)){return}L.placeCaretAt(ay.clientX,ay.clientY)}else{L.setRng(ax)}}})}}function ah(){u.on("keydown",function(az){if(!ad(az)&&az.keyCode===w){if(!u.getBody().getElementsByTagName("hr").length){return}if(L.isCollapsed()&&L.getRng(true).startOffset===0){var ay=L.getNode();var ax=ay.previousSibling;if(ay.nodeName=="HR"){v.remove(ay);az.preventDefault();return}if(ax&&ax.nodeName&&ax.nodeName.toLowerCase()==="hr"){v.remove(ax);az.preventDefault()}}}})}function ac(){if(!window.Range.prototype.getClientRects){u.on("mousedown",function(ay){if(!ad(ay)&&ay.target.nodeName==="HTML"){var ax=u.getBody();ax.blur();i.setEditorTimeout(u,function(){ax.focus()})}})}}function B(){u.on("click",function(ay){var ax=ay.target;if(/^(IMG|HR)$/.test(ax.nodeName)&&v.getContentEditableParent(ax)!=="false"){ay.preventDefault();L.select(ax);u.nodeChanged()}if(ax.nodeName=="A"&&v.hasClass(ax,"mce-item-anchor")){ay.preventDefault();L.select(ax)}})}function ao(){function ay(){var az=v.getAttribs(L.getStart().cloneNode(false));return function(){var aA=L.getStart();if(aA!==u.getBody()){v.setAttrib(aA,"style",null);an(az,function(aB){aA.setAttributeNode(aB.cloneNode(true))})}}}function ax(){return !L.isCollapsed()&&v.getParent(L.getStart(),v.isBlock)!=v.getParent(L.getEnd(),v.isBlock)}u.on("keypress",function(aA){var az;if(!ad(aA)&&(aA.keyCode==8||aA.keyCode==46)&&ax()){az=ay();u.getDoc().execCommand("delete",false,null);az();aA.preventDefault();return false}});v.bind(u.getDoc(),"cut",function(aA){var az;if(!ad(aA)&&ax()){az=ay();i.setEditorTimeout(u,function(){az()})}})}function ab(){document.body.setAttribute("role","application")}function Y(){u.on("keydown",function(ay){if(!ad(ay)&&ay.keyCode===w){if(L.isCollapsed()&&L.getRng(true).startOffset===0){var ax=L.getNode().previousSibling;if(ax&&ax.nodeName&&ax.nodeName.toLowerCase()==="table"){ay.preventDefault();return false}}}})}function al(){if(N()>7){return}ae("RespectVisibilityInDesign",true);u.contentStyles.push(".mceHideBrInPre pre br {display: none}");v.addClass(u.getBody(),"mceHideBrInPre");Z.addNodeFilter("pre",function(ax){var az=ax.length,aB,ay,aC,aA;while(az--){aB=ax[az].getAll("br");ay=aB.length;while(ay--){aC=aB[ay];aA=aC.prev;if(aA&&aA.type===3&&aA.value.charAt(aA.value-1)!="\n"){aA.value+="\n"}else{aC.parent.insert(new o("#text",3),aC,true).value="\n"}}}});Q.addNodeFilter("pre",function(ax){var az=ax.length,aB,ay,aC,aA;while(az--){aB=ax[az].getAll("br");ay=aB.length;while(ay--){aC=aB[ay];aA=aC.prev;if(aA&&aA.type==3){aA.value=aA.value.replace(/\r?\n$/,"")}}}})}function A(){v.bind(u.getBody(),"mouseup",function(){var ay,ax=L.getNode();if(ax.nodeName=="IMG"){if((ay=v.getStyle(ax,"width"))){v.setAttrib(ax,"width",ay.replace(/[^0-9%]+/g,""));v.setStyle(ax,"width","")}if((ay=v.getStyle(ax,"height"))){v.setAttrib(ax,"height",ay.replace(/[^0-9%]+/g,""));v.setStyle(ax,"height","")}}})}function aq(){u.on("keydown",function(aB){var az,ay,aC,ax,aA;if(ad(aB)||aB.keyCode!=t.BACKSPACE){return}az=L.getRng();ay=az.startContainer;aC=az.startOffset;ax=v.getRoot();aA=ay;if(!az.collapsed||aC!==0){return}while(aA&&aA.parentNode&&aA.parentNode.firstChild==aA&&aA.parentNode!=ax){aA=aA.parentNode}if(aA.tagName==="BLOCKQUOTE"){u.formatter.toggle("blockquote",null,aA);az=v.createRng();az.setStart(ay,0);az.setEnd(ay,0);L.setRng(az)}})}function ap(){function ax(){P();ae("StyleWithCSS",false);ae("enableInlineTableEditing",false);if(!ar.object_resizing){ae("enableObjectResizing",false)}}if(!ar.readonly){u.on("BeforeExecCommand MouseDown",ax)}}function X(){function ax(){an(v.select("a"),function(aA){var ay=aA.parentNode,az=v.getRoot();if(ay.lastChild===aA){while(ay&&!v.isBlock(ay)){if(ay.parentNode.lastChild!==ay||ay===az){return}ay=ay.parentNode}v.add(ay,"br",{"data-mce-bogus":1})}})}u.on("SetContent ExecCommand",function(ay){if(ay.type=="setcontent"||ay.command==="mceInsertLink"){ax()}})}function M(){if(ar.forced_root_block){u.on("init",function(){ae("DefaultParagraphSeparator",ar.forced_root_block)})}}function C(){u.on("keydown",function(ay){var ax;if(!ad(ay)&&ay.keyCode==w){ax=u.getDoc().selection.createRange();if(ax&&ax.item){ay.preventDefault();u.undoManager.beforeChange();v.remove(ax.item(0));u.undoManager.add()}}})}function V(){var ax;if(N()>=10){ax="";an("p div h1 h2 h3 h4 h5 h6".split(" "),function(ay,az){ax+=(az>0?",":"")+ay+":empty"});u.contentStyles.push(ax+"{padding-right: 1px !important}")}}function am(){if(N()<9){Z.addNodeFilter("noscript",function(ax){var ay=ax.length,az,aA;while(ay--){az=ax[ay];aA=az.firstChild;if(aA){az.attr("data-mce-innertext",aA.value)}}});Q.addNodeFilter("noscript",function(ax){var ay=ax.length,az,aB,aA;while(ay--){az=ax[ay];aB=ax[ay].firstChild;if(aB){aB.value=j.decode(aB.value)}else{aA=az.attributes.map["data-mce-innertext"];if(aA){az.attr("data-mce-innertext",null);aB=new o("#text",3);aB.value=aA;aB.raw=true;az.append(aB)}}}})}}function S(){var aD=v.doc,ay=aD.body,aA,aB,aE;function aC(aF,aI){var aG=ay.createTextRange();try{aG.moveToPoint(aF,aI)}catch(aH){aG=null}return aG}function az(aG){var aF;if(aG.button){aF=aC(aG.x,aG.y);if(aF){if(aF.compareEndPoints("StartToStart",aB)>0){aF.setEndPoint("StartToStart",aB)}else{aF.setEndPoint("EndToEnd",aB)}aF.select()}}else{ax()}}function ax(){var aF=aD.selection.createRange();if(aB&&!aF.item&&aF.compareEndPoints("StartToEnd",aF)===0){aB.select()}v.unbind(aD,"mouseup",ax);v.unbind(aD,"mousemove",az);aB=aA=0}aD.documentElement.unselectable=true;v.bind(aD,"mousedown contextmenu",function(aF){if(aF.target.nodeName==="HTML"){if(aA){ax()}aE=aD.documentElement;if(aE.scrollHeight>aE.clientHeight){return}aA=1;aB=aC(aF.x,aF.y);if(aB){v.bind(aD,"mouseup",ax);v.bind(aD,"mousemove",az);v.getRoot().focus();aB.select()}}})}function aj(){u.on("keyup focusin mouseup",function(ax){if(ax.keyCode!=65||!t.metaKeyPressed(ax)){L.normalize()}},true)}function E(){u.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function F(){if(!u.inline){u.on("keydown",function(){if(document.activeElement==document.body){u.getWin().focus()}})}}function K(){if(!u.inline){u.contentStyles.push("body {min-height: 150px}");u.on("click",function(ay){var ax;if(ay.target.nodeName=="HTML"){if(p.ie>11){u.getBody().focus();return}ax=u.selection.getRng();u.getBody().focus();u.selection.setRng(ax);u.selection.normalize();u.nodeChanged()}})}}function H(){if(p.mac){u.on("keydown",function(ax){if(t.metaKeyPressed(ax)&&!ax.shiftKey&&(ax.keyCode==37||ax.keyCode==39)){ax.preventDefault();u.selection.getSel().modify("move",ax.keyCode==37?"backward":"forward","lineboundary")}})}}function ag(){ae("AutoUrlDetect",false)}function D(){u.on("click",function(ax){var ay=ax.target;do{if(ay.tagName==="A"){ax.preventDefault();return}}while((ay=ay.parentNode))});u.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function R(){u.on("init",function(){u.dom.bind(u.getBody(),"submit",function(ax){ax.preventDefault()})})}function ai(){Z.addNodeFilter("br",function(ax){var ay=ax.length;while(ay--){if(ax[ay].attr("class")=="Apple-interchange-newline"){ax[ay].remove()}}})}function z(){u.on("dragstart",function(ax){aw(ax)});u.on("drop",function(ay){if(!ad(ay)){var az=O(ay);if(az&&az.id!=u.id){ay.preventDefault();var ax=n.getCaretRangeFromPoint(ay.x,ay.y,u.getDoc());L.setRng(ax);U(az.html)}}})}function P(){}function J(){var ax;if(!y){return 0}ax=u.selection.getSel();return(!ax||!ax.rangeCount||ax.rangeCount===0)}function W(){function ax(aC){var aA=new q(aC.getBody());var az=aC.selection.getRng();var aE=m.fromRangeStart(az);var ay=m.fromRangeEnd(az);var aD=aA.prev(aE);var aB=aA.next(ay);return !aC.selection.isCollapsed()&&(!aD||(aD.isAtStart()&&aE.isEqual(aD)))&&(!aB||(aB.isAtEnd()&&aE.isEqual(aB)))}u.on("keypress",function(ay){if(!ad(ay)&&!L.isCollapsed()&&ay.charCode>31&&!t.metaKeyPressed(ay)){if(ax(u)){ay.preventDefault();u.setContent(String.fromCharCode(ay.charCode));u.selection.select(u.getBody(),true);u.selection.collapse(false);u.nodeChanged()}}});u.on("keydown",function(az){var ay=az.keyCode;if(!ad(az)&&(ay==I||ay==w)){if(ax(u)){az.preventDefault();u.setContent("");u.nodeChanged()}}})}aq();T();if(!p.windowsPhone){aj()}if(ak){W();au();av();B();M();R();Y();ai();if(p.iOS){F();K();D()}else{at()}}if(G&&p.ie<11){ah();ab();al();A();C();V();am();S()}if(p.ie>=11){K();Y()}if(p.ie){at();ag();z()}if(y){W();ah();ac();ao();ap();X();E();H();Y()}return{refreshContentEditable:P,isHidden:J}}});h("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(i,n,k){var l=n.DOM,j;function o(r,q){if(q=="selectionchange"){return r.getDoc()}if(!r.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(q)){return r.getDoc().documentElement}if(r.settings.event_root){if(!r.eventRoot){r.eventRoot=l.select(r.settings.event_root)[0]}return r.eventRoot}return r.getBody()}function m(s,q){var u=o(s,q),r;function t(v){return !v.hidden&&!v.readonly}if(!s.delegates){s.delegates={}}if(s.delegates[q]){return}if(s.settings.event_root){if(!j){j={};s.editorManager.on("removeEditor",function(){var v;if(!s.editorManager.activeEditor){if(j){for(v in j){s.dom.unbind(o(s,v))}j=null}}})}if(j[q]){return}r=function(z){var y=z.target,x=s.editorManager.editors,w=x.length;while(w--){var v=x[w].getBody();if(v===y||l.isChildOf(y,v)){if(t(x[w])){x[w].fire(q,z)}}}};j[q]=r;l.bind(u,q,r)}else{r=function(v){if(t(s)){s.fire(q,v)}};l.bind(u,q,r);s.delegates[q]=r}}var p={bindPendingEventDelegates:function(){var q=this;k.each(q._pendingNativeEvents,function(r){m(q,r)})},toggleNativeEvent:function(r,s){var q=this;if(r=="focus"||r=="blur"){return}if(s){if(q.initialized){m(q,r)}else{if(!q._pendingNativeEvents){q._pendingNativeEvents=[r]}else{q._pendingNativeEvents.push(r)}}}else{if(q.initialized){q.dom.unbind(o(q,r),r,q.delegates[r]);delete q.delegates[r]}}},unbindAllNativeEvents:function(){var q=this,r;if(q.delegates){for(r in q.delegates){q.dom.unbind(o(q,r),r,q.delegates[r])}delete q.delegates}if(!q.inline){q.getBody().onload=null;q.dom.unbind(q.getWin());q.dom.unbind(q.getDoc())}q.dom.unbind(q.getBody());q.dom.unbind(q.getContainer())}};p=k.extend({},i,p);return p});h("tinymce/Mode",[],function(){function j(n,p,o){try{n.getDoc().execCommand(p,false,o)}catch(m){}}function l(n){var o,m;o=n.getBody();m=function(p){if(n.dom.getParents(p.target,"a").length>0){p.preventDefault()}};n.dom.bind(o,"click",m);return{unbind:function(){n.dom.unbind(o,"click",m)}}}function k(m,n){if(m._clickBlocker){m._clickBlocker.unbind();m._clickBlocker=null}if(n){m._clickBlocker=l(m);m.selection.controlSelection.hideResizeRect();m.readonly=true;m.getBody().contentEditable=false}else{m.readonly=false;m.getBody().contentEditable=true;j(m,"StyleWithCSS",false);j(m,"enableInlineTableEditing",false);j(m,"enableObjectResizing",false);m.focus();m.nodeChanged()}}function i(m,o){var n=m.readonly?"readonly":"design";if(o==n){return}if(m.initialized){k(m,o=="readonly")}else{m.on("init",function(){k(m,o=="readonly")})}m.fire("SwitchMode",{mode:o})}return{setMode:i}});h("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(k,j){var n=k.each,m=k.explode;var i={f9:120,f10:121,f11:122};var l=k.makeMap("alt,ctrl,shift,meta,access");return function(s){var x=this,t={},o=[];function w(A){var B,z,y={};n(m(A,"+"),function(C){if(C in l){y[C]=true}else{if(/^[0-9]{2,}$/.test(C)){y.keyCode=parseInt(C,10)}else{y.charCode=C.charCodeAt(0);y.keyCode=i[C]||C.toUpperCase().charCodeAt(0)}}});B=[y.keyCode];for(z in l){if(y[z]){B.push(z)}else{y[z]=false}}y.id=B.join(",");if(y.access){y.alt=true;if(j.mac){y.ctrl=true}else{y.shift=true}}if(y.meta){if(j.mac){y.meta=true}else{y.ctrl=true;y.meta=false}}return y}function p(B,C,A,z){var y;y=k.map(m(B,">"),w);y[y.length-1]=k.extend(y[y.length-1],{func:A,scope:z||s});return k.extend(y[0],{desc:s.translate(C),subpatterns:y.slice(1)})}function r(y){return y.altKey||y.ctrlKey||y.metaKey}function q(y){return y.type==="keydown"&&y.keyCode>=112&&y.keyCode<=123}function v(z,y){if(!y){return false}if(y.ctrl!=z.ctrlKey||y.meta!=z.metaKey){return false}if(y.alt!=z.altKey||y.shift!=z.shiftKey){return false}if(z.keyCode==y.keyCode||(z.charCode&&z.charCode==y.charCode)){z.preventDefault();return true}return false}function u(y){return y.func?y.func.call(y.scope):null}s.on("keyup keypress keydown",function(y){if((r(y)||q(y))&&!y.isDefaultPrevented()){n(t,function(z){if(v(y,z)){o=z.subpatterns.slice(0);if(y.type=="keydown"){u(z)}return true}});if(v(y,o[0])){if(o.length===1){if(y.type=="keydown"){u(o[0])}}o.shift()}}});x.add=function(B,C,z,y){var A;A=z;if(typeof z==="string"){z=function(){s.execCommand(A,false,null)}}else{if(k.isArray(A)){z=function(){s.execCommand(A[0],A[1],A[2])}}}n(m(k.trim(B.toLowerCase())),function(E){var D=p(E,C,z,y);t[D.id]=D});return true};x.remove=function(z){var y=p(z);if(t[y.id]){delete t[y.id];return true}return false}}});h("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(j,i,k){return function(n,o){var z={};function l(B){var D,C;C={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};D=C[B.blob().type.toLowerCase()]||"dat";return B.filename()+"."+D}function u(C,B){if(C){return C.replace(/\/$/,"")+"/"+B.replace(/^\//,"")}return B}function t(B){return{id:B.id,blob:B.blob,base64:B.base64,filename:k.constant(l(B))}}function p(D,G,C,B){var F,E;F=new XMLHttpRequest();F.open("POST",o.url);F.withCredentials=o.credentials;F.upload.onprogress=function(H){B(H.loaded/H.total*100)};F.onerror=function(){C("Image upload failed due to a XHR Transport error. Code: "+F.status)};F.onload=function(){var H;if(F.status!=200){C("HTTP Error: "+F.status);return}H=JSON.parse(F.responseText);if(!H||typeof H.location!="string"){C("Invalid JSON: "+F.responseText);return}G(u(o.basePath,H.location))};E=new FormData();E.append("file",D.blob(),D.filename());F.send(E)}function x(){return new j(function(B){B([])})}function m(C,B){return{url:B,blobInfo:C,status:true}}function w(C,B){return{url:"",blobInfo:C,status:false,error:B}}function y(C,B){i.each(z[C],function(D){D(B)});delete z[C]}function s(C,D,B){n.markPending(C.blobUri());return new j(function(J){var K,G;var I=function(){};try{var E=function(){if(K){K.close();G=I}};var L=function(M){E();n.markUploaded(C.blobUri(),M);y(C.blobUri(),m(C,M));J(m(C,M))};var F=function(M){E();n.removeFailed(C.blobUri());y(C.blobUri(),w(C,M));J(w(C,M))};G=function(M){if(M<0||M>100){return}if(!K){K=B()}K.progressBar.value(M)};D(t(C),L,F,G)}catch(H){J(w(C,H.message))}})}function q(B){return B===p}function r(B){var C=B.blobUri();return new j(function(D){z[C]=z[C]||[];z[C].push(D)})}function v(C,B){C=i.grep(C,function(D){return !n.isUploaded(D.blobUri())});return j.all(i.map(C,function(D){return n.isPending(D.blobUri())?r(D):s(D,o.handler,B)}))}function A(C,B){return(!o.url&&q(o.handler))?x():v(C,B)}o=i.extend({credentials:false,handler:p},o);return{upload:A}}});h("tinymce/file/Conversions",["tinymce/util/Promise"],function(k){function n(o){return new k(function(p){var q=new XMLHttpRequest();q.open("GET",o,true);q.responseType="blob";q.onload=function(){if(this.status==200){p(this.response)}};q.send()})}function m(p){var o,q;p=decodeURIComponent(p).split(",");q=/data:([^;]+)/.exec(p[0]);if(q){o=q[1]}return{type:o,data:p[1]}}function j(o){return new k(function(r){var t,p,q;o=m(o);try{t=atob(o.data)}catch(s){r(new Blob([]));return}p=new Uint8Array(t.length);for(q=0;q<p.length;q++){p[q]=t.charCodeAt(q)}r(new Blob([p],{type:o.type}))})}function l(o){if(o.indexOf("blob:")===0){return n(o)}if(o.indexOf("data:")===0){return j(o)}return null}function i(o){return new k(function(q){var p=new FileReader();p.onloadend=function(){q(p.result)};p.readAsDataURL(o)})}return{uriToBlob:l,blobToDataUri:i,parseDataUri:m}});h("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(m,l,n,k,i){var j=0;var o=function(p){return(p||"blobid")+(j++)};return function(p,s){var q={};function r(x,u){var t,w;function v(z,B){var y,A;if(z.src.indexOf("blob:")===0){A=s.getByUri(z.src);if(A){B({image:z,blobInfo:A})}else{k.uriToBlob(z.src).then(function(C){k.blobToDataUri(C).then(function(D){y=k.parseDataUri(D).data;A=s.create(o(),C,y);s.add(A);B({image:z,blobInfo:A})})})}return}y=k.parseDataUri(z.src).data;A=s.findFirst(function(C){return C.base64()===y});if(A){B({image:z,blobInfo:A})}else{k.uriToBlob(z.src).then(function(C){A=s.create(o(),C,y);s.add(A);B({image:z,blobInfo:A})})}}if(!u){u=n.constant(true)}t=l.filter(x.getElementsByTagName("img"),function(y){var z=y.src;if(!i.fileApi){return false}if(y.hasAttribute("data-mce-bogus")){return false}if(y.hasAttribute("data-mce-placeholder")){return false}if(!z||z==i.transparentSrc){return false}if(z.indexOf("blob:")===0){return !p.isUploaded(z)}if(z.indexOf("data:")===0){return u(y)}return false});w=l.map(t,function(y){var z;if(q[y.src]){return new m(function(A){q[y.src].then(function(B){A({image:y,blobInfo:B.blobInfo})})})}z=new m(function(A){v(y,A)}).then(function(A){delete q[A.image.src];return A})["catch"](function(A){delete q[y.src];return A});q[y.src]=z;return z});return m.all(w)}return{findAll:r}}});h("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(i,j){return function(){var k=[],n=j.constant;function m(w,v,t,u){return{id:n(w),filename:n(u||w),blob:n(v),base64:n(t),blobUri:n(URL.createObjectURL(v))}}function s(t){if(!l(t.id())){k.push(t)}}function l(t){return r(function(u){return u.id()===t})}function r(t){return i.filter(k,t)[0]}function p(t){return r(function(u){return u.blobUri()==t})}function o(t){k=i.filter(k,function(u){if(u.blobUri()===t){URL.revokeObjectURL(u.blobUri());return false}return true})}function q(){i.each(k,function(t){URL.revokeObjectURL(t.blobUri())});k=[]}return{create:m,add:s,get:l,getByUri:p,findFirst:r,removeByUri:o,destroy:q}}});h("tinymce/file/UploadStatus",[],function(){return function(){var q=1,l=2;var p={};function n(v,u){return{status:v,resultUri:u}}function t(u){return u in p}function o(v){var u=p[v];return u?u.resultUri:null}function m(u){return t(u)?p[u].status===q:false}function s(u){return t(u)?p[u].status===l:false}function j(u){p[u]=n(q,null)}function i(v,u){p[v]=n(l,u)}function k(u){delete p[u]}function r(){p={}}return{hasBlobUri:t,getResultUri:o,isPending:m,isUploaded:s,markPending:j,markUploaded:i,removeFailed:k,destroy:r}}});h("tinymce/ErrorReporter",["tinymce/AddOnManager"],function(o){var n=o.PluginManager;var m=function(t,s){for(var q in n.urls){var r=n.urls[q]+"/plugin"+s+".js";if(r===t){return q}}return null};var p=function(r,q){var s=m(q,r.suffix);return s?"Failed to load plugin: "+s+" from url "+q:"Failed to load plugin url: "+q};var l=function(q,r){q.notificationManager.open({type:"error",text:r})};var j=function(q,r){if(q._skinLoaded){l(q,r)}else{q.on("SkinLoaded",function(){l(q,r)})}};var i=function(q,r){j(q,"Failed to upload image: "+r)};var k=function(r,q){j(r,p(r,q))};return{pluginLoadError:k,uploadError:i}});h("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus","tinymce/ErrorReporter"],function(k,n,i,l,j,m){return function(t){var q=new l(),y,v,C=t.settings;var s=new j();function D(H){return function(I){if(t.selection){return H(I)}return[]}}function o(){return"?"+(new Date()).getTime()}function B(K,J,I){var H=0;do{H=K.indexOf(J,H);if(H!==-1){K=K.substring(0,H)+I+K.substr(H+J.length);H+=I.length-J.length+1}}while(H!==-1);return K}function G(I,J,H){I=B(I,'src="'+J+'"','src="'+H+'"');I=B(I,'data-mce-src="'+J+'"','data-mce-src="'+H+'"');return I}function A(I,H){k.each(t.undoManager.data,function(J){if(J.type==="fragmented"){J.fragments=k.map(J.fragments,function(K){return G(K,I,H)})}else{J.content=G(J.content,I,H)}})}function w(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true})}function p(I,H){q.removeByUri(I.src);A(I.src,H);t.$(I).attr({src:C.images_reuse_filename?H+o():H,"data-mce-src":t.convertURL(H,"src")})}function F(H){if(!y){y=new n(s,{url:C.images_upload_url,basePath:C.images_upload_base_path,credentials:C.images_upload_credentials,handler:C.images_upload_handler})}return u().then(D(function(J){var I;I=k.map(J,function(K){return K.blobInfo});return y.upload(I,w).then(D(function(K){K=k.map(K,function(N,L){var M=J[L].image;if(N.status&&t.settings.images_replace_blob_uris!==false){p(M,N.url)}else{if(N.error){m.uploadError(t,N.error)}}return{element:M,status:N.status}});if(H){H(K)}return K}))}))}function z(H){if(C.automatic_uploads!==false){return F(H)}}function x(H){return C.images_dataimg_filter?C.images_dataimg_filter(H):true}function u(){if(!v){v=new i(s,q)}return v.findAll(t.getBody(),x).then(D(function(H){k.each(H,function(I){A(I.image.src,I.blobInfo.blobUri());I.image.src=I.blobInfo.blobUri();I.image.removeAttribute("data-mce-src")});return H}))}function E(){q.destroy();s.destroy();v=y=null}function r(H){return H.replace(/src="(blob:[^"]+)"/g,function(J,L){var I=s.getResultUri(L);if(I){return'src="'+I+'"'}var K=q.getByUri(L);if(!K){K=k.reduce(t.editorManager.editors,function(M,N){return M||N.editorUpload.blobCache.getByUri(L)},null)}if(K){return'src="data:'+K.blob().type+";base64,"+K.base64()+'"'}return J})}t.on("setContent",function(){if(t.settings.automatic_uploads!==false){z()}else{u()}});t.on("RawSaveContent",function(H){H.content=r(H.content)});t.on("getContent",function(H){if(H.source_view||H.format=="raw"){return}H.content=r(H.content)});t.on("PostRender",function(){t.parser.addNodeFilter("img",function(H){k.each(H,function(J){var K=J.attr("src");if(q.getByUri(K)){return}var I=s.getResultUri(K);if(I){J.attr("src",I)}})})});return{blobCache:q,uploadImages:F,uploadImagesAuto:z,scanForImages:u,destroy:E}}});h("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(m,i,j,l,n,k,p){var o=j.isContentEditableFalse;return function(t,u){var y,q,v;function r(E,G){var I=k.collapse(E.getBoundingClientRect(),G),D,J,H,F,C;if(t.tagName=="BODY"){D=t.ownerDocument.documentElement;J=t.scrollLeft||D.scrollLeft;H=t.scrollTop||D.scrollTop}else{C=t.getBoundingClientRect();J=t.scrollLeft-C.left;H=t.scrollTop-C.top}I.left+=J;I.right+=J;I.top+=H;I.bottom+=H;I.width=1;F=E.offsetWidth-E.clientWidth;if(F>0){if(G){F*=-1}I.left+=F;I.right+=F}return I}function A(){var C,F,E,D,G;C=n("*[contentEditable=false]",t);for(D=0;D<C.length;D++){F=C[D];E=F.previousSibling;if(m.endsWithCaretContainer(E)){G=E.data;if(G.length==1){E.parentNode.removeChild(E)}else{E.deleteData(G.length-1,1)}}E=F.nextSibling;if(m.startsWithCaretContainer(E)){G=E.data;if(G.length==1){E.parentNode.removeChild(E)}else{E.deleteData(0,1)}}}return null}function B(E,D){var F,C;x();if(u(D)){v=m.insertBlock("p",D,E);F=r(D,E);n(v).css("top",F.top);q=n('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(F).appendTo(t);if(E){q.addClass("mce-visual-caret-before")}w();C=D.ownerDocument.createRange();C.setStart(v,0);C.setEnd(v,0)}else{v=m.insertInline(D,E);C=D.ownerDocument.createRange();if(o(v.nextSibling)){C.setStart(v,0);C.setEnd(v,0)}else{C.setStart(v,1);C.setEnd(v,1)}return C}return C}function x(){A();if(v){m.remove(v);v=null}if(q){q.remove();q=null}clearInterval(y)}function w(){y=p.setInterval(function(){n("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}function z(){p.clearInterval(y)}function s(){return(".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}")}return{show:B,hide:x,getCss:s,destroy:z}}});h("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(k,i,j){function l(o){function n(p){return k.map(p,function(q){q=j.clone(q);q.node=o;return q})}if(k.isArray(o)){return k.reduce(o,function(p,q){return p.concat(l(q))},[])}if(i.isElement(o)){return n(o.getClientRects())}if(i.isText(o)){var m=o.ownerDocument.createRange();m.setStart(o,0);m.setEnd(o,o.data.length);return n(m.getClientRects())}}return{getClientRects:l}});h("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(u,o,w,l,i,v,m,x){var t=u.curry;function q(A,y,B,z){while((z=i.findNode(z,A,l.isEditableCaretCandidate,y))){if(B(z)){return}}}function k(F,B,C,y,D,E){var I=0,z,H=[],A;function G(L){var J,M,K;K=w.getClientRects(L);if(F==-1){K=K.reverse()}for(J=0;J<K.length;J++){M=K[J];if(C(M,A)){continue}if(H.length>0&&B(M,o.last(H))){I++}M.line=I;if(D(M)){return true}H.push(M)}}A=o.last(E.getClientRects());if(!A){return H}z=E.getNode();G(z);q(F,y,G,z);return H}function s(y,z){return z.line>y}function p(y,z){return z.line===y}var r=t(k,-1,x.isAbove,x.isBelow);var n=t(k,1,x.isBelow,x.isAbove);function j(H,z,F,A){var B=new v(z),L,I,D,G,K=[],J=0,y,C;function E(M){if(H==1){return o.last(M.getClientRects())}return o.last(M.getClientRects())}if(H==1){L=B.next;I=x.isBelow;D=x.isAbove;G=m.after(A)}else{L=B.prev;I=x.isAbove;D=x.isBelow;G=m.before(A)}C=E(G);do{if(!G.isVisible()){continue}y=E(G);if(D(y,C)){continue}if(K.length>0&&I(y,o.last(K))){J++}y=x.clone(y);y.position=G;y.line=J;if(F(y)){return K}K.push(y)}while((G=L(G)));return K}return{upUntil:r,downUntil:n,positionsUntil:j,isAboveLine:t(s),isLine:t(p)}});h("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(m,q,n,t,l,z,w){var s=n.isContentEditableFalse,p=z.findNode,x=m.curry;function r(B,A){return Math.abs(B.left-A)}function k(B,A){return Math.abs(B.right-A)}function j(B,A){function C(D,E){return D>=E.left&&D<=E.right}return q.reduce(B,function(D,G){var F,E;F=Math.min(r(D,A),k(D,A));E=Math.min(r(G,A),k(G,A));if(C(A,G)){return G}if(C(A,D)){return D}if(E==F&&s(G.node)){return G}if(E<F){return G}return D})}function v(C,A,D,B){while((B=p(B,C,w.isEditableCaretCandidate,A))){if(D(B)){return}}}function y(A,D){var B=[];function C(E,F){var G;G=q.filter(t.getClientRects(F),function(H){return !E(H,D)});B=B.concat(G);return G.length===0}B.push(D);v(-1,A,x(C,l.isAbove),D.node);v(1,A,x(C,l.isBelow),D.node);return B}function o(A){return q.filter(q.toArray(A.getElementsByTagName("*")),s)}function u(B,A){return{node:B.node,before:r(B,A)<k(B,A)}}function i(B,D,C){var E,A;E=t.getClientRects(o(B));E=q.filter(E,function(F){return C>=F.top&&C<=F.bottom});A=j(E,D);if(A){A=j(y(B,A),D);if(A&&s(A.node)){return u(A,D)}}return null}return{findClosestClientRect:j,findLineNodeRects:y,closestCaret:i}});h("tinymce/dom/MousePosition",[],function(){var i=function(t){var s,p,r,q;q=t.getBoundingClientRect();s=t.ownerDocument;p=s.documentElement;r=s.defaultView;return{top:q.top+r.pageYOffset-p.clientTop,left:q.left+r.pageXOffset-p.clientLeft}};var k=function(p){return p.inline?i(p.getBody()):{left:0,top:0}};var o=function(q){var p=q.getBody();return q.inline?{left:p.scrollLeft,top:p.scrollTop}:{left:0,top:0}};var l=function(s){var p=s.getBody(),r=s.getDoc().documentElement;var q={left:p.scrollLeft,top:p.scrollTop};var t={left:p.scrollLeft||r.scrollLeft,top:p.scrollTop||r.scrollTop};return s.inline?q:t};var n=function(q,r){if(r.target.ownerDocument!==q.getDoc()){var s=i(q.getContentAreaContainer());var p=l(q);return{left:r.pageX-s.left+p.left,top:r.pageY-s.top+p.top}}return{left:r.pageX,top:r.pageY}};var m=function(q,p,r){return{pageX:(r.left-q.left)+p.left,pageY:(r.top-q.top)+p.top}};var j=function(p,q){return m(k(p),o(p),n(p,q))};return{calc:j}});h("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/Delay","tinymce/dom/DOMUtils","tinymce/dom/MousePosition"],function(r,s,o,l,F,C){var A=r.isContentEditableFalse,w=r.isContentEditableTrue;var i=function(J,K){return A(K)&&K!==J};var v=function(L,K,J){if(K===J||L.dom.isChildOf(K,J)){return false}if(A(K)){return false}return true};var q=function(K){var J=K.cloneNode(true);J.removeAttribute("data-mce-selected");return J};var y=function(N,O,M,K){var L=O.cloneNode(true);N.dom.setStyles(L,{width:M,height:K});N.dom.setAttrib(L,"data-mce-selected",null);var J=N.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});N.dom.setStyles(J,{position:"absolute",opacity:0.5,overflow:"hidden",border:0,padding:0,margin:0,width:M,height:K});N.dom.setStyles(L,{margin:0,boxSizing:"border-box"});J.appendChild(L);return J};var k=function(J,K){if(J.parentNode!==K){K.appendChild(J)}};var x=function(L,K,O,J,Q,P){var N=0,M=0;L.style.left=K.pageX+"px";L.style.top=K.pageY+"px";if(K.pageX+O>Q){N=(K.pageX+O)-Q}if(K.pageY+J>P){M=(K.pageY+J)-P}L.style.width=(O-N)+"px";L.style.height=(J-M)+"px"};var G=function(J){if(J&&J.parentNode){J.parentNode.removeChild(J)}};var I=function(J){return J.button===0};var D=function(J){return J.element};var H=function(K,J){return{pageX:J.pageX-K.relX,pageY:J.pageY+5}};var p=function(K,J){return function(P){if(I(P)){var L=s.find(J.dom.getParents(P.target),o.or(A,w));if(i(J.getBody(),L)){var O=J.dom.getPos(L);var N=J.getBody();var M=J.getDoc().documentElement;K.element=L;K.screenX=P.screenX;K.screenY=P.screenY;K.maxX=(J.inline?N.scrollWidth:M.offsetWidth)-2;K.maxY=(J.inline?N.scrollHeight:M.offsetHeight)-2;K.relX=P.pageX-O.x;K.relY=P.pageY-O.y;K.width=L.offsetWidth;K.height=L.offsetHeight;K.ghost=y(J,L,K.width,K.height)}}}};var z=function(L,J){var K=l.throttle(function(N,M){J._selectionOverrides.hideFakeCaret();J.selection.placeCaretAt(N,M)},0);return function(P){var M=Math.max(Math.abs(P.screenX-L.screenX),Math.abs(P.screenY-L.screenY));if(D(L)&&!L.dragging&&M>10){var N=J.fire("dragstart",{target:L.element});if(N.isDefaultPrevented()){return}L.dragging=true;J.focus()}if(L.dragging){var O=H(L,C.calc(J,P));k(L.ghost,J.getBody());x(L.ghost,O,L.width,L.height,L.maxX,L.maxY);K(P.clientX,P.clientY)}}};var n=function(K){var J=K.getSel().getRangeAt(0);var L=J.startContainer;return L.nodeType===3?L.parentNode:L};var u=function(K,J){return function(M){if(K.dragging){if(v(J,n(J.selection),K.element)){var N=q(K.element);var L=J.fire("drop",{targetClone:N,clientX:M.clientX,clientY:M.clientY});if(!L.isDefaultPrevented()){N=L.targetClone;J.undoManager.transact(function(){G(K.element);J.insertContent(J.dom.getOuterHTML(N));J._selectionOverrides.hideFakeCaret()})}}}j(K)}};var B=function(K,J){return function(){j(K);if(K.dragging){J.fire("dragend")}}};var j=function(J){J.dragging=false;J.element=null;G(J.ghost)};var t=function(N){var P={},K,O,L,J,Q,M;K=F.DOM;M=document;O=p(P,N);L=z(P,N);J=u(P,N);Q=B(P,N);N.on("mousedown",O);N.on("mousemove",L);N.on("mouseup",J);K.bind(M,"mousemove",L);K.bind(M,"mouseup",Q);N.on("remove",function(){K.unbind(M,"mousemove",L);K.unbind(M,"mouseup",Q)})};var m=function(J){J.on("drop",function(L){var K=typeof L.clientX!=="undefined"?J.getDoc().elementFromPoint(L.clientX,L.clientY):null;if(A(K)||A(J.dom.getContentEditableParent(K))){L.preventDefault()}})};var E=function(J){t(J);m(J)};return{init:E}});h("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides"],function(k,E,j,t,D,C,y,s,p,F,l,z,o,r,n,m){var B=o.curry,v=p.isContentEditableTrue,x=p.isContentEditableFalse,w=p.isElement,u=D.isAfterContentEditableFalse,i=D.isBeforeContentEditableFalse,q=F.getSelectedNode;function G(H,I){while((I=H(I))){if(I.isVisible()){return I}}return I}function A(H){var R=H.getBody(),V=new E(R);var ab=B(G,V.next);var aj=B(G,V.prev),ag=new C(H.getBody(),ah),L="sel-"+H.dom.uniqueId(),aa,ak=H.$;function ar(az){return H.dom.hasClass(az,"mce-offscreen-selection")}function ay(){var az=H.dom.get(L);return az?az.getElementsByTagName("*")[0]:az}function ah(az){return H.dom.isBlock(az)}function M(az){if(az){H.selection.setRng(az)}}function O(){return H.selection.getRng()}function I(aA,az){H.selection.scrollIntoView(aA,az)}function av(aC,az,aA){var aB;aB=H.fire("ShowCaret",{target:az,direction:aC,before:aA});if(aB.isDefaultPrevented()){return null}I(az,aC===-1);return ag.show(aA,az)}function ac(az){var aA;aA=H.fire("BeforeObjectSelected",{target:az});if(aA.isDefaultPrevented()){return null}return aw(az)}function aw(aA){var az=aA.ownerDocument.createRange();az.selectNode(aA);return az}function P(aB,az){var aA=D.isInSameBlock(aB,az);if(!aA&&p.isBr(aB.getNode())){return true}return aA}function ax(aA,az){az=D.normalizeRange(aA,R,az);if(aA==-1){return j.fromRangeStart(az)}return j.fromRangeEnd(az)}function au(az){return t.isCaretContainerBlock(az.startContainer)}function Q(aG,az,aB,aA){var aE,aF,aD,aC;if(!aA.collapsed){aE=q(aA);if(x(aE)){return av(aG,aE,aG==-1)}}aC=au(aA);aF=ax(aG,aA);if(aB(aF)){return ac(aF.getNode(aG==-1))}aF=az(aF);if(!aF){if(aC){return aA}return null}if(aB(aF)){return av(aG,aF.getNode(aG==-1),aG==1)}aD=az(aF);if(aB(aD)){if(P(aF,aD)){return av(aG,aD.getNode(aG==-1),aG==1)}}if(aC){return W(aF.toRange())}return null}function K(aJ,aE,aF){var aH,aL,aG,aK,aI,aA,aD,aC,aB;aB=q(aF);aH=ax(aJ,aF);aL=aE(R,y.isAboveLine(1),aH);aG=r.filter(aL,y.isLine(1));aI=r.last(aH.getClientRects());if(i(aH)){aB=aH.getNode()}if(u(aH)){aB=aH.getNode(true)}if(!aI){return null}aA=aI.left;aK=s.findClosestClientRect(aG,aA);if(aK){if(x(aK.node)){aD=Math.abs(aA-aK.left);aC=Math.abs(aA-aK.right);return av(aJ,aK.node,aD<aC)}}if(aB){var az=y.positionsUntil(aJ,R,y.isAboveLine(1),aB);aK=s.findClosestClientRect(r.filter(az,y.isLine(1)),aA);if(aK){return W(aK.position.toRange())}aK=r.last(r.filter(az,y.isLine(0)));if(aK){return W(aK.position.toRange())}}}function am(aD,az){var aC,aA,aE;function aB(){var aF=H.dom.create(H.settings.forced_root_block);if(!k.ie||k.ie>=11){aF.innerHTML='<br data-mce-bogus="1">'}return aF}if(az.collapsed&&H.settings.forced_root_block){aC=H.dom.getParent(az.startContainer,"PRE");if(!aC){return}if(aD==1){aA=ab(j.fromRangeStart(az))}else{aA=aj(j.fromRangeStart(az))}if(!aA){aE=aB();if(aD==1){H.$(aC).after(aE)}else{H.$(aC).before(aE)}H.selection.select(aE,true);H.selection.collapse()}}}function Y(aD,az,aB,aA){var aC;aC=Q(aD,az,aB,aA);if(aC){return aC}aC=am(aD,aA);if(aC){return aC}return null}function S(aC,aB,az){var aA;aA=K(aC,aB,az);if(aA){return aA}aA=am(aC,az);if(aA){return aA}return null}function X(){return ak("*[data-mce-caret]")[0]}function ad(az){if(az.hasAttribute("data-mce-caret")){t.showCaretContainerBlock(az);M(O());I(az[0])}}function T(aA){var aB,az;aA=D.normalizeRange(1,R,aA);aB=j.fromRangeStart(aA);if(x(aB.getNode())){return av(1,aB.getNode(),!aB.isAtEnd())}if(x(aB.getNode(true))){return av(1,aB.getNode(true),false)}az=H.dom.getParent(aB.getNode(),o.or(x,v));if(x(az)){return av(1,az,false)}return null}function W(az){var aA;if(!az||!az.collapsed){return az}aA=T(az);if(aA){return aA}return az}function N(aC){var aA,az,aD,aB;if(!x(aC)){return null}if(x(aC.previousSibling)){aD=aC.previousSibling}az=aj(j.before(aC));if(!az){aA=ab(j.after(aC))}if(aA&&w(aA.getNode())){aB=aA.getNode()}t.remove(aC.previousSibling);t.remove(aC.nextSibling);H.dom.remove(aC);if(H.dom.isEmpty(H.getBody())){H.setContent("");H.focus();return}if(aD){return j.after(aD).toRange()}if(aB){return j.before(aB).toRange()}if(az){return az.toRange()}if(aA){return aA.toRange()}return null}function ai(az){var aA=H.schema.getTextBlockElements();return az.nodeName in aA}function Z(az){return H.dom.isEmpty(az)}function ae(aE,aG,aD){var aF=H.dom,az,aB,aC,aA;az=aF.getParent(aG.getNode(),aF.isBlock);aB=aF.getParent(aD.getNode(),aF.isBlock);if(aE===-1){aA=aD.getNode(true);if(u(aD)&&ah(aA)){if(ai(az)){if(Z(az)){aF.remove(az)}return j.after(aA).toRange()}return N(aD.getNode(true))}}else{aA=aG.getNode();if(i(aG)&&ah(aA)){if(ai(aB)){if(Z(aB)){aF.remove(aB)}return j.before(aA).toRange()}return N(aG.getNode())}}if(az===aB||!ai(az)||!ai(aB)){return null}while((aC=az.firstChild)){aB.appendChild(aC)}H.dom.remove(az);return aD.toRange()}function an(aF,aG,aE,az){var aC,aD,aB,aA;if(!az.collapsed){aC=q(az);if(x(aC)){return W(N(aC))}}aD=ax(aF,az);if(aE(aD)&&t.isCaretContainerBlock(az.startContainer)){aA=aF==-1?V.prev(aD):V.next(aD);return aA?W(aA.toRange()):az}if(aG(aD)){return W(N(aD.getNode(aF==-1)))}aB=aF==-1?V.prev(aD):V.next(aD);if(aG(aB)){if(aF===-1){return ae(aF,aD,aB)}return ae(aF,aB,aD)}}function ap(){var aN=B(Y,1,ab,i);var aE=B(Y,-1,aj,u);var aB=B(an,1,i,u);var aG=B(an,-1,u,i);var aF=B(S,-1,y.upUntil);var aM=B(S,1,y.downUntil);function aC(aQ,aS){if(aQ.isDefaultPrevented()===false){var aR=aS(O());if(aR){aQ.preventDefault();M(aR)}}}function aH(aR){var aQ=H.getBody();while(aR&&aR!=aQ){if(v(aR)||x(aR)){return aR}aR=aR.parentNode}return null}function aA(aS,aR,aQ){if(aQ.collapsed){return false}return r.reduce(aQ.getClientRects(),function(aU,aT){return aU||l.containsXY(aT,aS,aR)},false)}H.on("mouseup",function(){var aQ=O();if(aQ.collapsed){M(T(aQ))}});H.on("click",function(aQ){var aR;aR=aH(aQ.target);if(aR){if(x(aR)){aQ.preventDefault();H.focus()}if(v(aR)){if(H.dom.isChildOf(aR,H.selection.getNode())){al()}}}});H.on("blur NewBlock",function(){al();J()});function aL(aR){var aQ=false;aR.on("touchstart",function(){aQ=false});aR.on("touchmove",function(){aQ=true});aR.on("touchend",function(aS){var aT=aH(aS.target);if(x(aT)){if(!aQ){aS.preventDefault();ao(ac(aT))}}})}var aI=function(aT){var aQ=new E(aT);if(!aT.firstChild){return false}var aR=j.before(aT.firstChild);var aS=aQ.next(aR);return aS&&!i(aS)&&!u(aS)};var az=function(aR,aQ){var aT=H.dom.getParent(aR,H.dom.isBlock);var aS=H.dom.getParent(aQ,H.dom.isBlock);return aT===aS};var aK=function(aQ){if(aQ.keyCode>=112&&aQ.keyCode<=123){return false}return true};var aJ=function(aT,aQ){var aS=H.dom.getParent(aT,H.dom.isBlock);var aR=H.dom.getParent(aQ,H.dom.isBlock);return aS&&!az(aS,aR)&&aI(aS)};aL(H);H.on("mousedown",function(aR){var aS;aS=aH(aR.target);if(aS){if(x(aS)){aR.preventDefault();ao(ac(aS))}else{if(!aA(aR.clientX,aR.clientY,H.selection.getRng())){H.selection.placeCaretAt(aR.clientX,aR.clientY)}}}else{al();J();var aQ=s.closestCaret(R,aR.clientX,aR.clientY);if(aQ){if(!aJ(aR.target,aQ.node)){aR.preventDefault();H.getBody().focus();M(av(1,aQ.node,aQ.before))}}}});H.on("keydown",function(aQ){if(z.modifierPressed(aQ)){return}switch(aQ.keyCode){case z.RIGHT:aC(aQ,aN);break;case z.DOWN:aC(aQ,aM);break;case z.LEFT:aC(aQ,aE);break;case z.UP:aC(aQ,aF);break;case z.DELETE:aC(aQ,aB);break;case z.BACKSPACE:aC(aQ,aG);break;default:if(x(H.selection.getNode())&&aK(aQ)){aQ.preventDefault()}break}});function aD(){var aR,aQ=aH(H.selection.getNode());if(v(aQ)&&ah(aQ)&&H.dom.isEmpty(aQ)){aR=H.dom.create("br",{"data-mce-bogus":"1"});H.$(aQ).empty().append(aR);H.selection.setRng(j.before(aR).toRange())}}function aP(aR){var aQ=X();if(!aQ){return}if(aR.type=="compositionstart"){aR.preventDefault();aR.stopPropagation();ad(aQ);return}if(t.hasContent(aQ)){ad(aQ)}}function aO(aR){var aQ;switch(aR.keyCode){case z.DELETE:aQ=aD();break;case z.BACKSPACE:aQ=aD();break}if(aQ){aR.preventDefault()}}H.on("keyup compositionstart",function(aQ){aP(aQ);aO(aQ)},true);H.on("cut",function(){var aQ=H.selection.getNode();if(x(aQ)){n.setEditorTimeout(H,function(){M(W(N(aQ)))})}});H.on("getSelectionRange",function(aR){var aQ=aR.range;if(aa){if(!aa.parentNode){aa=null;return}aQ=aQ.cloneRange();aQ.selectNode(aa);aR.range=aQ}});H.on("setSelectionRange",function(aR){var aQ;aQ=ao(aR.range);if(aQ){aR.range=aQ}});H.on("AfterSetSelectionRange",function(aR){var aQ=aR.range;if(!aq(aQ)){J()}if(!ar(aQ.startContainer.parentNode)){al()}});H.on("focus",function(){n.setEditorTimeout(H,function(){H.selection.setRng(W(H.selection.getRng()))},0)});H.on("copy",function(aR){var aS=aR.clipboardData;if(!aR.isDefaultPrevented()&&aR.clipboardData&&!k.ie){var aQ=ay();if(aQ){aR.preventDefault();aS.clearData();aS.setData("text/html",aQ.outerHTML);aS.setData("text/plain",aQ.outerText)}}});m.init(H)}function U(){var aA=H.contentStyles,az=".mce-content-body";aA.push(ag.getCss());aA.push(az+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+az+" *[contentEditable=false] {cursor: default;}"+az+" *[contentEditable=true] {cursor: text;}")}function af(az){return(t.isCaretContainer(az)||t.startsWithCaretContainer(az)||t.endsWithCaretContainer(az))}function aq(az){return af(az.startContainer)||af(az.endContainer)}function ao(aG){var aB,aF=H.$,aE=H.dom,aA,az,aC,aI,aJ,aH,aK,aD,aL;if(!aG){return null}if(aG.collapsed){if(!aq(aG)){aK=ax(1,aG);if(x(aK.getNode())){return av(1,aK.getNode(),!aK.isAtEnd())}if(x(aK.getNode(true))){return av(1,aK.getNode(true),false)}}return null}aC=aG.startContainer;aI=aG.startOffset;aJ=aG.endOffset;if(aC.nodeType==3&&aI==0&&x(aC.parentNode)){aC=aC.parentNode;aI=aE.nodeIndex(aC);aC=aC.parentNode}if(aC.nodeType!=1){return null}if(aJ==aI+1){aB=aC.childNodes[aI]}if(!x(aB)){return null}aD=aL=aB.cloneNode(true);aH=H.fire("ObjectSelected",{target:aB,targetClone:aD});if(aH.isDefaultPrevented()){return null}aD=aH.targetClone;aA=aF("#"+L);if(aA.length===0){aA=aF('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",L);aA.appendTo(H.getBody())}aG=H.dom.createRng();if(aD===aL&&k.ie){aA.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(aD);aG.setStartAfter(aA[0].firstChild.firstChild);aG.setEndAfter(aD)}else{aA.empty().append("\u00a0").append(aD).append("\u00a0");aG.setStart(aA[0].firstChild,1);aG.setEnd(aA[0].lastChild,0)}aA.css({top:aE.getPos(aB,H.getBody()).y});aA[0].focus();az=H.selection.getSel();az.removeAllRanges();az.addRange(aG);H.$("*[data-mce-selected]").removeAttr("data-mce-selected");aB.setAttribute("data-mce-selected",1);aa=aB;J();return aG}function al(){if(aa){aa.removeAttribute("data-mce-selected");H.$("#"+L).remove();aa=null}}function at(){ag.destroy();aa=null}function J(){ag.hide()}if(k.ceFalse){ap();U()}return{showBlockCaretContainer:ad,hideFakeCaret:J,destroy:at}}return A});h("tinymce/util/Uuid",[],function(){var k=0;var i=function(){var m=function(){return Math.round(Math.random()*4294967295).toString(36)};var l=new Date().getTime();return"s"+l.toString(36)+m()+m()+m()};var j=function(l){return l+(k++)+i()};return{uuid:j}});h("tinymce/ui/Sidebar",[],function(){var i=function(m,j,l){var k=m.sidebars?m.sidebars:[];k.push({name:j,settings:l});m.sidebars=k};return{add:i}});h("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides","tinymce/util/Uuid","tinymce/ui/Sidebar","tinymce/ErrorReporter"],function(aa,H,J,q,D,S,P,L,F,r,Q,N,B,K,x,y,T,U,s,j,I,V,u,z,n,m,X,l,p,k,v,E){var G=aa.DOM,W=J.ThemeManager,Z=J.PluginManager;var t=u.extend,R=u.each,w=u.explode;var Y=u.inArray,i=u.trim,A=u.resolve;var O=y.Event;var o=V.gecko,M=V.ie;function C(ah,ae,ag){var ac=this,ab,af,ad;ab=ac.documentBaseUrl=ag.documentBaseURL;af=ag.baseURI;ad=ag.defaultSettings;ae=t({id:ah,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:ab,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:"30px",inline_styles:true,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:true,entity_encoding:"named",url_converter:ac.convertURL,url_converter_scope:ac,ie7_compat:true},ad,ae);if(ad&&ad.external_plugins&&ae.external_plugins){ae.external_plugins=t({},ad.external_plugins,ae.external_plugins)}ac.settings=ae;J.language=ae.language||"en";J.languageLoad=ae.language_load;J.baseURL=ag.baseURL;ac.id=ae.id=ah;ac.setDirty(false);ac.plugins={};ac.documentBaseURI=new K(ae.document_base_url||ab,{base_uri:af});ac.baseURI=af;ac.contentCSS=[];ac.contentStyles=[];ac.shortcuts=new X(ac);ac.loadedCSS={};ac.editorCommands=new B(ac);ac.suffix=ag.suffix;ac.editorManager=ag;ac.inline=ae.inline;ac.settings.content_editable=ac.inline;if(ae.cache_suffix){V.cacheSuffix=ae.cache_suffix.replace(/^[\?\&]+/,"")}if(ae.override_viewport===false){V.overrideViewPort=false}ag.fire("SetupEditor",ac);ac.execCallback("setup",ac);ac.$=H.overrideDefaults(function(){return{context:ac.inline?ac.getBody():ac.getDoc(),element:ac.getBody()}})}C.prototype={render:function(){var ab=this,ae=ab.settings,ah=ab.id,ag=ab.suffix;function ad(){G.unbind(window,"ready",ad);ab.render()}if(!O.domLoaded){G.bind(window,"ready",ad);return}if(!ab.getElement()){return}if(!V.contentEditable){return}if(!ae.inline){ab.orgVisibility=ab.getElement().style.visibility;ab.getElement().style.visibility="hidden"}else{ab.inline=true}var af=ab.getElement().form||G.getParent(ah,"form");if(af){ab.formElement=af;if(ae.hidden_input&&!/TEXTAREA|INPUT/i.test(ab.getElement().nodeName)){G.insertAfter(G.create("input",{type:"hidden",name:ah}),ah);ab.hasHiddenInput=true}ab.formEventDelegate=function(ai){ab.fire(ai.type,ai)};G.bind(af,"submit reset",ab.formEventDelegate);ab.on("reset",function(){ab.setContent(ab.startContent,{format:"raw"})});if(ae.submit_patch&&!af.submit.nodeType&&!af.submit.length&&!af._mceOldSubmit){af._mceOldSubmit=af.submit;af.submit=function(){ab.editorManager.triggerSave();ab.setDirty(false);return af._mceOldSubmit(af)}}}ab.windowManager=new T(ab);ab.notificationManager=new U(ab);if(ae.encoding=="xml"){ab.on("GetContent",function(ai){if(ai.save){ai.content=G.encode(ai.content)}})}if(ae.add_form_submit_trigger){ab.on("submit",function(){if(ab.initialized){ab.save()}})}if(ae.add_unload_trigger){ab._beforeUnload=function(){if(ab.initialized&&!ab.destroyed&&!ab.isHidden()){ab.save({format:"raw",no_events:true,set_dirty:false})}};ab.editorManager.on("BeforeUnload",ab._beforeUnload)}function ac(){var aj=x.ScriptLoader;if(ae.language&&ae.language!="en"&&!ae.language_url){ae.language_url=ab.editorManager.baseURL+"/langs/"+ae.language+".js"}if(ae.language_url){aj.add(ae.language_url)}if(ae.theme&&typeof ae.theme!="function"&&ae.theme.charAt(0)!="-"&&!W.urls[ae.theme]){var ai=ae.theme_url;if(ai){ai=ab.documentBaseURI.toAbsolute(ai)}else{ai="themes/"+ae.theme+"/theme"+ag+".js"}W.load(ae.theme,ai)}if(u.isArray(ae.plugins)){ae.plugins=ae.plugins.join(" ")}R(ae.external_plugins,function(al,ak){Z.load(ak,al);ae.plugins+=" "+ak});R(ae.plugins.split(/[ ,]/),function(ak){ak=i(ak);if(ak&&!Z.urls[ak]){if(ak.charAt(0)=="-"){ak=ak.substr(1,ak.length);var al=Z.dependencies(ak);R(al,function(an){var am={prefix:"plugins/",resource:an,suffix:"/plugin"+ag+".js"};an=Z.createUrl(am,an);Z.load(an.resource,an)})}else{Z.load(ak,{prefix:"plugins/",resource:ak,suffix:"/plugin"+ag+".js"})}}});aj.loadQueue(function(){if(!ab.removed){ab.init()}},ab,function(ak){E.pluginLoadError(ab,ak[0]);if(!ab.removed){ab.init()}},ae.synoPostfix)}ab.editorManager.add(ab);ac()},init:function(){var aj=this,at=aj.settings,af=aj.getElement();var ah,aq,ae,am,ak,ab,ac,av,ap,al,ao,ad=[];aj.rtl=at.rtl_ui||aj.editorManager.i18n.rtl;aj.editorManager.i18n.setCode(at.language);at.aria_label=at.aria_label||G.getAttrib(af,"aria-label",aj.getLang("aria.rich_text_area"));aj.fire("ScriptsLoaded");if(at.theme){if(typeof at.theme!="function"){at.theme=at.theme.replace(/-/,"");ab=W.get(at.theme);aj.theme=new ab(aj,W.urls[at.theme]);if(aj.theme.init){aj.theme.init(aj,W.urls[at.theme]||aj.documentBaseUrl.replace(/\/$/,""),aj.$)}}else{aj.theme=at.theme}}function au(az){var ay=Z.get(az),ax,aw;ax=Z.urls[az]||aj.documentBaseUrl.replace(/\/$/,"");az=i(az);if(ay&&Y(ad,az)===-1){R(Z.dependencies(az),function(aA){au(aA)});if(aj.plugins[az]){return}aw=new ay(aj,ax,aj.$);aj.plugins[az]=aw;if(aw.init){aw.init(aj,ax);ad.push(az)}}}R(at.plugins.replace(/\-/g,"").split(/[ ,]/),au);if(at.render_ui&&aj.theme){aj.orgDisplay=af.style.display;if(typeof at.theme!="function"){ah=at.width||af.style.width||af.offsetWidth;aq=at.height||af.style.height||af.offsetHeight;ae=at.min_height||100;al=/^[0-9\.]+(|px)$/i;if(al.test(""+ah)){ah=Math.max(parseInt(ah,10),100)}if(al.test(""+aq)){aq=Math.max(parseInt(aq,10),ae)}ak=aj.theme.renderUI({targetNode:af,width:ah,height:aq,deltaWidth:at.delta_width,deltaHeight:at.delta_height});if(!at.content_editable){aq=(ak.iframeHeight||aq)+(typeof aq=="number"?(ak.deltaHeight||0):"");if(aq<ae){aq=ae}}}else{ak=at.theme(aj,af);if(ak.editorContainer.nodeType){ak.editorContainer.id=ak.editorContainer.id||aj.id+"_parent"}if(ak.iframeContainer.nodeType){ak.iframeContainer.id=ak.iframeContainer.id||aj.id+"_iframecontainer"}aq=ak.iframeHeight||af.offsetHeight}aj.editorContainer=ak.editorContainer}if(at.content_css){R(w(at.content_css),function(aw){aj.contentCSS.push(aj.documentBaseURI.toAbsolute(aw))})}if(at.content_style){aj.contentStyles.push(at.content_style)}if(at.content_editable){af=am=ak=null;return aj.initContentBody()}aj.iframeHTML=at.doctype+"<html><head>";if(at.document_base_url!=aj.documentBaseUrl){aj.iframeHTML+='<base href="'+aj.documentBaseURI.getURI()+'" />'}if(!V.caretAfter&&at.ie7_compat){aj.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}aj.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!/#$/.test(document.location.href)){for(ao=0;ao<aj.contentCSS.length;ao++){var an=aj.contentCSS[ao];aj.iframeHTML+=('<link type="text/css" rel="stylesheet" href="'+u._addCacheSuffix(an)+'" />');aj.loadedCSS[an]=true}}av=at.body_id||"tinymce";if(av.indexOf("=")!=-1){av=aj.getParam("body_id","","hash");av=av[aj.id]||av}ap=at.body_class||"";if(ap.indexOf("=")!=-1){ap=aj.getParam("body_class","","hash");ap=ap[aj.id]||""}if(at.content_security_policy){aj.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+at.content_security_policy+'" />'}aj.iframeHTML+='</head><body id="'+av+'" class="mce-content-body '+ap+'" data-id="'+aj.id+'"><br></body></html>';var ai='javascript:(function(){document.open();try{document.domain="'+document.domain+'"}catch(e) {document.domain="['+document.domain+']"};var ed = window.parent.tinymce.get("'+aj.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname){if(V.ie&&V.ie<12){ac=ai}}var ag=G.create("iframe",{id:aj.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:aj.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:aq,display:"block"}});ag.onload=function(){ag.onload=null;aj.fire("load")};G.setAttrib(ag,"src",ac||"about:blank");aj.contentAreaContainer=ak.iframeContainer;aj.iframeElement=ag;am=G.add(ak.iframeContainer,ag);if(M){try{aj.getDoc()}catch(ar){am.src=ac=ai}}if(ak.editorContainer){G.get(ak.editorContainer).style.display=aj.orgDisplay;aj.hidden=G.isHidden(ak.editorContainer)}aj.getElement().style.display="none";G.setAttrib(aj.id,"aria-hidden",true);if(!ac){aj.initContentBody()}af=am=ak=null},initContentBody:function(ac){var ad=this,ae=ad.settings,af=ad.getElement(),ag=ad.getDoc(),ab,ah;if(!ae.inline){ad.getElement().style.visibility=ad.orgVisibility}if(!ac&&!ae.content_editable){ag.open();ag.write(ad.iframeHTML);ag.close()}if(ae.content_editable){ad.on("remove",function(){var ai=this.getBody();G.removeClass(ai,"mce-content-body");G.removeClass(ai,"mce-edit-focus");G.setAttrib(ai,"contentEditable",null)});G.addClass(af,"mce-content-body");ad.contentDocument=ag=ae.content_document||document;ad.contentWindow=ae.content_window||window;ad.bodyElement=af;ae.content_document=ae.content_window=null;ae.root_name=af.nodeName.toLowerCase()}ab=ad.getBody();ab.disabled=true;ad.readonly=ae.readonly;if(!ad.readonly){if(ad.inline&&G.getStyle(ab,"position",true)=="static"){ab.style.position="relative"}ab.contentEditable=ad.getParam("content_editable_state",true)}ab.disabled=false;ad.editorUpload=new l(ad);ad.schema=new s(ae);ad.dom=new aa(ag,{keep_values:true,url_converter:ad.convertURL,url_converter_scope:ad,hex_colors:ae.force_hex_style_colors,class_filter:ae.class_filter,update_styles:true,root_element:ad.inline?ad.getBody():null,collect:ae.content_editable,schema:ad.schema,onSetAttrib:function(ai){ad.fire("SetAttrib",ai)}});ad.parser=new j(ae,ad.schema);ad.parser.addAttributeFilter("src,href,style,tabindex",function(ai,aj){var ak=ai.length,am,ao=ad.dom,an,al;while(ak--){am=ai[ak];an=am.attr(aj);al="data-mce-"+aj;if(!am.attributes.map[al]){if(an.indexOf("data:")===0||an.indexOf("blob:")===0){continue}if(aj==="style"){an=ao.serializeStyle(ao.parseStyle(an),am.name);if(!an.length){an=null}am.attr(al,an);am.attr(aj,an)}else{if(aj==="tabindex"){am.attr(al,an);am.attr(aj,null)}else{am.attr(al,ad.convertURL(an,aj,am.name))}}}}});ad.parser.addNodeFilter("script",function(ai){var aj=ai.length,al,ak;while(aj--){al=ai[aj];ak=al.attr("type")||"no/type";if(ak.indexOf("mce-")!==0){al.attr("type","mce-"+ak)}}});ad.parser.addNodeFilter("#cdata",function(ai){var aj=ai.length,ak;while(aj--){ak=ai[aj];ak.type=8;ak.name="#comment";ak.value="[CDATA["+ak.value+"]]"}});ad.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(aj){var ak=aj.length,al,ai=ad.schema.getNonEmptyElements();while(ak--){al=aj[ak];if(al.isEmpty(ai)&&al.getAll("br").length===0){al.append(new D("br",1)).shortEnded=true}}});ad.serializer=new S(ae,ad);ad.selection=new L(ad.dom,ad.getWin(),ad.serializer,ad);ad.formatter=new F(ad);ad.undoManager=new r(ad);ad.forceBlocks=new N(ad);ad.enterKey=new Q(ad);ad._nodeChangeDispatcher=new q(ad);ad._selectionOverrides=new p(ad);ad.fire("PreInit");if(!ae.browser_spellcheck&&!ae.gecko_spellcheck){ag.body.spellcheck=false;G.setAttrib(ab,"spellcheck","false")}ad.quirks=new I(ad);ad.fire("PostRender");if(ae.directionality){ab.dir=ae.directionality}if(ae.nowrap){ab.style.whiteSpace="nowrap"}if(ae.protect){ad.on("BeforeSetContent",function(ai){R(ae.protect,function(aj){ai.content=ai.content.replace(aj,function(ak){return"<!--mce:protected "+escape(ak)+"-->"})})})}ad.on("SetContent",function(){ad.addVisual(ad.getBody())});if(ae.padd_empty_editor){ad.on("PostProcess",function(ai){ai.content=ai.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}ad.load({initial:true,format:"html"});ad.startContent=ad.getContent({format:"raw"});ad.initialized=true;ad.bindPendingEventDelegates();ad.fire("init");ad.focus(true);ad.nodeChanged({initial:true});ad.execCallback("init_instance_callback",ad);ad.on("compositionstart compositionend",function(ai){ad.composing=ai.type==="compositionstart"});if(ad.contentStyles.length>0){ah="";R(ad.contentStyles,function(ai){ah+=ai+"\r\n"});ad.dom.addStyle(ah)}R(ad.contentCSS,function(ai){if(!ad.loadedCSS[ai]){ad.dom.loadCSS(ai);ad.loadedCSS[ai]=true}});if(ae.auto_focus){z.setEditorTimeout(ad,function(){var ai;if(ae.auto_focus===true){ai=ad}else{ai=ad.editorManager.get(ae.auto_focus)}if(!ai.destroyed){ai.focus()}},100)}af=ag=ab=null},focus:function(ac){var al=this,ak=al.selection,af=al.settings.content_editable,ab;var ai,aj=al.getDoc(),ad=al.getBody(),ag;function ah(am){return al.dom.getParent(am,function(an){return al.dom.getContentEditable(an)==="true"})}if(!ac){ab=ak.getRng();if(ab.item){ai=ab.item(0)}al.quirks.refreshContentEditable();ag=ah(ak.getNode());if(al.$.contains(ad,ag)){ag.focus();ak.normalize();al.editorManager.setActive(al);return}if(!af){if(!V.opera){al.getBody().focus()}al.getWin().focus()}if(o||af){if(ad.setActive){try{ad.setActive()}catch(ae){ad.focus()}}else{ad.focus()}if(af){ak.normalize()}}if(ai&&ai.ownerDocument==aj){ab=aj.body.createControlRange();ab.addElement(ai);ab.select()}}al.editorManager.setActive(al)},execCallback:function(ac){var ab=this,ae=ab.settings[ac],ad;if(!ae){return}if(ab.callbackLookup&&(ad=ab.callbackLookup[ac])){ae=ad.func;ad=ad.scope}if(typeof ae==="string"){ad=ae.replace(/\.\w+$/,"");ad=ad?A(ad):0;ae=A(ae);ab.callbackLookup=ab.callbackLookup||{};ab.callbackLookup[ac]={func:ae,scope:ad}}return ae.apply(ad||ab,Array.prototype.slice.call(arguments,1))},translate:function(ad){var ac=this.settings.language||"en",ab=this.editorManager.i18n;if(!ad){return""}ad=ab.data[ac+"."+ad]||ad.replace(/\{\#([^\}]+)\}/g,function(af,ae){return ab.data[ac+"."+ae]||"{#"+ae+"}"});return this.editorManager.translate(ad)},getLang:function(ab,ac){return(this.editorManager.i18n.data[(this.settings.language||"en")+"."+ab]||(ac!==g?ac:"{#"+ab+"}"))},getParam:function(ac,af,ad){var ae=ac in this.settings?this.settings[ac]:af,ab;if(ad==="hash"){ab={};if(typeof ae==="string"){R(ae.indexOf("=")>0?ae.split(/[;,](?![^=;,]*(?:[;,]|$))/):ae.split(","),function(ag){ag=ag.split("=");if(ag.length>1){ab[i(ag[0])]=i(ag[1])}else{ab[i(ag[0])]=i(ag)}})}else{ab=ae}return ab}return ae},nodeChanged:function(ab){this._nodeChangeDispatcher.nodeChanged(ab)},addButton:function(ac,ad){var ab=this;if(ad.cmd){ad.onclick=function(){ab.execCommand(ad.cmd)}}if(!ad.text&&!ad.icon){ad.icon=ac}ab.buttons=ab.buttons||{};ad.tooltip=ad.tooltip||ad.title;ab.buttons[ac]=ad},addSidebar:function(ab,ac){return v.add(this,ab,ac)},addMenuItem:function(ac,ad){var ab=this;if(ad.cmd){ad.onclick=function(){ab.execCommand(ad.cmd)}}ab.menuItems=ab.menuItems||{};ab.menuItems[ac]=ad},addContextToolbar:function(ac,ae){var ad=this,ab;ad.contextToolbars=ad.contextToolbars||[];if(typeof ac=="string"){ab=ac;ac=function(af){return ad.dom.is(af,ab)}}ad.contextToolbars.push({id:k.uuid("mcet"),predicate:ac,items:ae})},addCommand:function(ab,ad,ac){this.editorCommands.addCommand(ab,ad,ac)},addQueryStateHandler:function(ab,ad,ac){this.editorCommands.addQueryStateHandler(ab,ad,ac)},addQueryValueHandler:function(ab,ad,ac){this.editorCommands.addQueryValueHandler(ab,ad,ac)},addShortcut:function(ad,ae,ac,ab){this.shortcuts.add(ad,ae,ac,ab)},execCommand:function(ae,ad,ac,ab){return this.editorCommands.execCommand(ae,ad,ac,ab)},queryCommandState:function(ab){return this.editorCommands.queryCommandState(ab)},queryCommandValue:function(ab){return this.editorCommands.queryCommandValue(ab)},queryCommandSupported:function(ab){return this.editorCommands.queryCommandSupported(ab)},show:function(){var ab=this;if(ab.hidden){ab.hidden=false;if(ab.inline){ab.getBody().contentEditable=true}else{G.show(ab.getContainer());G.hide(ab.id)}ab.load();ab.fire("show")}},hide:function(){var ab=this,ac=ab.getDoc();if(!ab.hidden){if(M&&ac&&!ab.inline){ac.execCommand("SelectAll")}ab.save();if(ab.inline){ab.getBody().contentEditable=false;if(ab==ab.editorManager.focusedEditor){ab.editorManager.focusedEditor=null}}else{G.hide(ab.getContainer());G.setStyle(ab.id,"display",ab.orgDisplay)}ab.hidden=true;ab.fire("hide")}},isHidden:function(){return !!this.hidden},setProgressState:function(ab,ac){this.fire("ProgressState",{state:ab,time:ac})},load:function(ac){var ab=this,ae=ab.getElement(),ad;if(ae){ac=ac||{};ac.load=true;ad=ab.setContent(ae.value!==g?ae.value:ae.innerHTML,ac);ac.element=ae;if(!ac.no_events){ab.fire("LoadContent",ac)}ac.element=ae=null;return ad}},save:function(ac){var ab=this,af=ab.getElement(),ad,ae;if(!af||!ab.initialized){return}ac=ac||{};ac.save=true;ac.element=af;ad=ac.content=ab.getContent(ac);if(!ac.no_events){ab.fire("SaveContent",ac)}if(ac.format=="raw"){ab.fire("RawSaveContent",ac)}ad=ac.content;if(!/TEXTAREA|INPUT/i.test(af.nodeName)){if(!ab.inline){af.innerHTML=ad}if((ae=G.getParent(ab.id,"form"))){R(ae.elements,function(ag){if(ag.name==ab.id){ag.value=ad;return false}})}}else{af.value=ad}ac.element=af=null;if(ac.set_dirty!==false){ab.setDirty(false)}return ad},setContent:function(ag,ae){var ad=this,ab=ad.getBody(),af,ac;ae=ae||{};ae.format=ae.format||"html";ae.set=true;ae.content=ag;if(!ae.no_events){ad.fire("BeforeSetContent",ae)}ag=ae.content;if(ag.length===0||/^\s+$/.test(ag)){ac=M&&M<11?"":'<br data-mce-bogus="1">';if(ab.nodeName=="TABLE"){ag="<tr><td>"+ac+"</td></tr>"}else{if(/^(UL|OL)$/.test(ab.nodeName)){ag="<li>"+ac+"</li>"}}af=ad.settings.forced_root_block;if(af&&ad.schema.isValidChild(ab.nodeName.toLowerCase(),af.toLowerCase())){ag=ac;ag=ad.dom.createHTML(af,ad.settings.forced_root_block_attrs,ag)}else{if(!M&&!ag){ag='<br data-mce-bogus="1">'}}ad.dom.setHTML(ab,ag);ad.fire("SetContent",ae)}else{if(ae.format!=="raw"){ag=new P({validate:ad.validate},ad.schema).serialize(ad.parser.parse(ag,{isRootContent:true}))}ae.content=i(ag);ad.dom.setHTML(ab,ae.content);if(!ae.no_events){ad.fire("SetContent",ae)}}return ae.content},getContent:function(ad){var ac=this,ae,ab=ac.getBody();ad=ad||{};ad.format=ad.format||"html";ad.get=true;ad.getInner=true;if(!ad.no_events){ac.fire("BeforeGetContent",ad)}if(ad.format=="raw"){ae=u.trim(ac.serializer.getTrimmedContent())}else{if(ad.format=="text"){ae=ab.innerText||ab.textContent}else{ae=ac.serializer.serialize(ab,ad)}}if(ad.format!="text"){ad.content=i(ae)}else{ad.content=ae}if(!ad.no_events){ac.fire("GetContent",ad)}return ad.content},insertContent:function(ac,ab){if(ab){ac=t({content:ac},ab)}this.execCommand("mceInsertContent",false,ac)},isDirty:function(){return !this.isNotDirty},setDirty:function(ac){var ab=!this.isNotDirty;this.isNotDirty=!ac;if(ac&&ac!=ab){this.fire("dirty")}},setMode:function(ab){m.setMode(this,ab)},getContainer:function(){var ab=this;if(!ab.container){ab.container=G.get(ab.editorContainer||ab.id+"_parent")}return ab.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){if(!this.targetElm){this.targetElm=G.get(this.id)}return this.targetElm},getWin:function(){var ab=this,ac;if(!ab.contentWindow){ac=ab.iframeElement;if(ac){ab.contentWindow=ac.contentWindow}}return ab.contentWindow},getDoc:function(){var ab=this,ac;if(!ab.contentDocument){ac=ab.getWin();if(ac){ab.contentDocument=ac.document}}return ab.contentDocument},getBody:function(){var ab=this.getDoc();return this.bodyElement||(ab?ab.body:null)},convertURL:function(ad,ac,af){var ab=this,ae=ab.settings;if(ae.urlconverter_callback){return ab.execCallback("urlconverter_callback",ad,af,true,ac)}if(!ae.convert_urls||(af&&af.nodeName=="LINK")||ad.indexOf("file:")===0||ad.length===0){return ad}if(ae.relative_urls){return ab.documentBaseURI.toRelative(ad)}ad=ab.documentBaseURI.toAbsolute(ad,ae.remove_script_host);return ad},addVisual:function(af){var ac=this,ad=ac.settings,ae=ac.dom,ab;af=af||ac.getBody();if(ac.hasVisual===g){ac.hasVisual=ad.visual}R(ae.select("table,a",af),function(ah){var ag;switch(ah.nodeName){case"TABLE":ab=ad.visual_table_class||"mce-item-table";ag=ae.getAttrib(ah,"border");if((!ag||ag=="0")&&ac.hasVisual){ae.addClass(ah,ab)}else{ae.removeClass(ah,ab)}return;case"A":if(!ae.getAttrib(ah,"href",false)){ag=ae.getAttrib(ah,"name")||ah.id;ab=ad.visual_anchor_class||"mce-item-anchor";if(ag&&ac.hasVisual){ae.addClass(ah,ab)}else{ae.removeClass(ah,ab)}}return}});ac.fire("VisualAid",{element:af,hasVisual:ac.hasVisual})},remove:function(){var ab=this;if(!ab.removed){ab.save();ab.removed=1;ab.unbindAllNativeEvents();if(ab.hasHiddenInput){if(ab.getElement()){G.remove(ab.getElement().nextSibling)}}if(!ab.inline){if(M&&M<10){ab.getDoc().execCommand("SelectAll",false,null)}G.setStyle(ab.id,"display",ab.orgDisplay);ab.getBody().onload=null}ab.fire("remove");ab.editorManager.remove(ab);G.remove(ab.getContainer());ab._selectionOverrides.destroy();ab.editorUpload.destroy();ab.destroy()}},destroy:function(ad){var ab=this,ac;if(ab.destroyed){return}if(!ad&&!ab.removed){ab.remove();return}if(!ad){ab.editorManager.off("beforeunload",ab._beforeUnload);if(ab.theme&&ab.theme.destroy){ab.theme.destroy()}ab.selection.destroy();ab.dom.destroy()}ac=ab.formElement;if(ac){if(ac._mceOldSubmit){ac.submit=ac._mceOldSubmit;ac._mceOldSubmit=null}G.unbind(ac,"submit reset",ab.formEventDelegate)}ab.contentAreaContainer=ab.formElement=ab.container=ab.editorContainer=null;ab.bodyElement=ab.contentDocument=ab.contentWindow=null;ab.iframeElement=ab.targetElm=null;if(ab.selection){ab.selection=ab.selection.win=ab.selection.dom=ab.selection.dom.doc=null}ab.destroyed=1},uploadImages:function(ab){return this.editorUpload.uploadImages(ab)},_scanForImages:function(){return this.editorUpload.scanForImages()}};t(C.prototype,n);return C});h("tinymce/util/I18n",["tinymce/util/Tools"],function(i){var k={},j="en";return{setCode:function(l){if(l){j=l;this.rtl=this.data[l]?this.data[l]._dir==="rtl":false}},getCode:function(){return j},rtl:false,add:function(o,m){var l=k[o];if(!l){k[o]=l={}}for(var n in m){l[n]=m[n]}this.setCode(o)},translate:function(q){var l=k[j]||{};function o(r){if(i.is(r,"function")){return Object.prototype.toString.call(r)}return !p(r)?""+r:""}function p(r){return r===""||r===null||i.is(r,"undefined")}function n(r){r=o(r);return i.hasOwn(l,r)?o(l[r]):r}if(p(q)){return""}if(i.is(q,"object")&&i.hasOwn(q,"raw")){return o(q.raw)}if(i.is(q,"array")){var m=q.slice(1);q=n(q[0]).replace(/\{([0-9]+)\}/g,function(r,s){return i.hasOwn(m,s)?o(m[s]):r})}return n(q).replace(/{context:\w+}$/,"")},data:k}});h("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(p,j,o){var m,l,i,q=p.DOM;var k=function(t,u){var r=t?t.settings.custom_ui_selector:"";var s=q.getParent(u,function(v){return(n.isEditorUIElement(v)||(r?t.dom.is(v,r):false))});return s!==null};function n(w){function s(){try{return document.activeElement}catch(x){return document.body}}function v(y,x){if(x&&x.startContainer){if(!y.isChildOf(x.startContainer,y.getRoot())||!y.isChildOf(x.endContainer,y.getRoot())){return}return{startContainer:x.startContainer,startOffset:x.startOffset,endContainer:x.endContainer,endOffset:x.endOffset}}return x}function r(z,y){var x;if(y.startContainer){x=z.getDoc().createRange();x.setStart(y.startContainer,y.startOffset);x.setEnd(y.endContainer,y.endOffset)}else{x=y}return x}function t(y){var x=y.editor;x.on("init",function(){if(x.inline||o.ie){if("onbeforedeactivate" in document&&o.ie<9){x.dom.bind(x.getBody(),"beforedeactivate",function(A){if(A.target!=x.getBody()){return}try{x.lastRng=x.selection.getRng()}catch(z){}})}else{x.on("nodechange mouseup keyup",function(A){var z=s();if(A.type=="nodechange"&&A.selectionChange){return}if(z&&z.id==x.id+"_ifr"){z=x.getBody()}if(x.dom.isChildOf(z,x.getBody())){x.lastRng=x.selection.getRng()}})}if(o.webkit&&!m){m=function(){var A=w.activeEditor;if(A&&A.selection){var z=A.selection.getRng();if(z&&!z.collapsed){x.lastRng=z}}};q.bind(document,"selectionchange",m)}}});x.on("setcontent",function(){x.lastRng=null});x.on("mousedown",function(){x.selection.lastFocusBookmark=null});x.on("focusin",function(){var A=w.focusedEditor,z;if(x.selection.lastFocusBookmark){z=r(x,x.selection.lastFocusBookmark);x.selection.lastFocusBookmark=null;x.selection.setRng(z)}if(A!=x){if(A){A.fire("blur",{focusedEditor:x})}w.setActive(x);w.focusedEditor=x;x.fire("focus",{blurredEditor:A});x.focus(true)}x.lastRng=null});x.on("focusout",function(){j.setEditorTimeout(x,function(){var z=w.focusedEditor;if(!k(x,s())&&z==x){x.fire("blur",{focusedEditor:null});w.focusedEditor=null;if(x.selection){x.selection.lastFocusBookmark=null}}})});if(!l){l=function(B){var z=w.activeEditor,A;A=B.target;if(z&&A.ownerDocument==document){if(z.selection&&A!=z.getBody()){z.selection.lastFocusBookmark=v(z.dom,z.lastRng)}if(A!=document.body&&!k(z,A)&&w.focusedEditor==z){z.fire("blur",{focusedEditor:null});w.focusedEditor=null}}};q.bind(document,"focusin",l)}if(x.inline&&!i){i=function(B){var A=w.activeEditor,C=A.dom;if(A.inline&&C&&!C.isChildOf(B.target,A.getBody())){var z=A.selection.getRng();if(!z.collapsed){A.lastRng=z}}};q.bind(document,"mouseup",i)}}function u(x){if(w.focusedEditor==x.editor){w.focusedEditor=null}if(!w.activeEditor){q.unbind(document,"selectionchange",m);q.unbind(document,"focusin",l);q.unbind(document,"mouseup",i);m=l=i=null}}w.on("AddEditor",t);w.on("RemoveEditor",u)}n.isEditorUIElement=function(r){return r.className.toString().indexOf("mce-")!==-1};n._isUIElement=k;return n});h("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager","tinymce/AddOnManager"],function(x,n,B,q,k,j,l,s,y,p,w){var D=B.DOM;var z=j.explode,m=j.each,C=j.extend;var E=0,t,u,o=false;function v(F){m(u.editors,function(G){if(F.type==="scroll"){G.fire("ScrollWindow",F)}else{G.fire("ResizeWindow",F)}})}function i(F,G){if(G!==o){if(G){n(window).on("resize scroll",v)}else{n(window).off("resize scroll",v)}o=G}}function A(H){var I=u.editors,G;delete I[H.id];for(var F=0;F<I.length;F++){if(I[F]==H){I.splice(F,1);G=true;break}}if(u.activeEditor==H){u.activeEditor=I[0]}if(u.focusedEditor==H){u.focusedEditor=null}return G}function r(F){if(F&&F.initialized&&!(F.getContainer()||F.getBody()).parentNode){A(F);F.unbindAllNativeEvents();F.destroy(true);F.removed=true;F=null}return F}u={$:n,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:y,activeEditor:null,setup:function(){var N=this,G,K,M="",H,F;K=q.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(K)){K=K.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(K)){K+="/"}}H=window.tinymce||window.tinyMCEPreInit;if(H){G=H.base||H.baseURL;M=H.suffix}else{var I=document.getElementsByTagName("script");for(var J=0;J<I.length;J++){F=I[J].src;var L=F.substring(F.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(F)){if(L.indexOf(".min")!=-1){M=".min"}G=F.substring(0,F.lastIndexOf("/"));break}}if(!G&&document.currentScript){F=document.currentScript.src;if(F.indexOf(".min")!=-1){M=".min"}G=F.substring(0,F.lastIndexOf("/"))}M=".min";G="webman/modules/TinyMCE/js/tinymce"}N.baseURL=new q(K).toAbsolute(G);N.documentBaseURL=K;N.baseURI=new q(N.baseURL);N.suffix=M;N.focusManager=new p(N)},overrideDefaults:function(H){var I,J;I=H.base_url;if(I){this.baseURL=new q(this.documentBaseURL).toAbsolute(I.replace(/\/+$/,""));this.baseURI=new q(this.baseURL)}J=H.suffix;if(H.suffix){this.suffix=J}this.defaultSettings=H;var F=H.plugin_base_urls;for(var G in F){w.PluginManager.urls[G]=F[G]}},init:function(J){var P=this,Q,F;F=j.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");function I(R,S){return R.inline&&S.tagName.toLowerCase() in F}function K(R,S){if(window.console&&!window.test){window.console.log(R,S)}}function N(S){var R=S.id;if(!R){R=S.name;if(R&&!D.get(R)){R=S.name}else{R=D.uniqueId()}S.setAttribute("id",R)}return R}function H(R){var S=J[R];if(!S){return}return S.apply(P,Array.prototype.slice.call(arguments,2))}function M(S,R){return R.constructor===RegExp?R.test(S.className):D.hasClass(S,R)}function G(T){var S,R=[];if(T.types){m(T.types,function(U){R=R.concat(D.select(U.selector))});return R}else{if(T.selector){return D.select(T.selector)}else{if(T.target){return[T.target]}}}switch(T.mode){case"exact":S=T.elements||"";if(S.length>0){m(z(S),function(V){var U;if((U=D.get(V))){R.push(U)}else{m(document.forms,function(W){m(W.elements,function(X){if(X.name===V){V="mce_editor_"+E++;D.setAttrib(X,"id",V);R.push(X)}})})}})}break;case"textareas":case"specific_textareas":m(D.select("textarea"),function(U){if(T.editor_deselector&&M(U,T.editor_deselector)){return}if(!T.editor_selector||M(U,T.editor_selector)){R.push(U)}});break}return R}var O=function(R){Q=R};function L(){var T=0,U=[],R;function S(Y,W,X){var V=new x(Y,W,P);U.push(V);V.on("init",function(){if(++T===R.length){O(U)}});V.targetElm=V.targetElm||X;V.render()}D.unbind(window,"ready",L);H("onpageload");R=n.unique(G(J));if(J.types){m(J.types,function(V){j.each(R,function(W){if(D.is(W,V.selector)){S(N(W),C({},J,V),W);return false}return true})});return}j.each(R,function(V){r(P.get(V.id))});R=j.grep(R,function(V){return !P.get(V.id)});m(R,function(V){if(I(J,V)){K("Could not initialize inline editor on invalid inline target element",V)}else{S(N(V),J,V)}})}P.settings=J;D.bind(window,"ready",L);return new l(function(R){if(Q){R(Q)}else{O=function(S){R(S)}}})},get:function(F){if(!arguments.length){return this.editors}return F in this.editors?this.editors[F]:null},add:function(G){var F=this,H=F.editors;H[G.id]=G;H.push(G);i(H,true);F.activeEditor=G;F.fire("AddEditor",{editor:G});if(!t){t=function(){F.fire("BeforeUnload")};D.bind(window,"beforeunload",t)}return G},createEditor:function(G,F){return this.add(new x(G,F,this))},remove:function(F){var G=this,H,J=G.editors,I;if(!F){for(H=J.length-1;H>=0;H--){G.remove(J[H])}return}if(typeof F=="string"){F=F.selector||F;m(D.select(F),function(K){I=J[K.id];if(I){G.remove(I)}});return}I=F;if(!J[I.id]){return null}if(A(I)){G.fire("RemoveEditor",{editor:I})}if(!J.length){D.unbind(window,"beforeunload",t)}I.remove();i(J,J.length>0);return I},execCommand:function(J,I,H){var F=this,G=F.get(H);switch(J){case"mceAddEditor":if(!F.get(H)){new x(H,F.settings,F).render()}return true;case"mceRemoveEditor":if(G){G.remove()}return true;case"mceToggleEditor":if(!G){F.execCommand("mceAddEditor",0,H);return true}if(G.isHidden()){G.show()}else{G.hide()}return true}if(F.activeEditor){return F.activeEditor.execCommand(J,I,H)}return false},triggerSave:function(){m(this.editors,function(F){F.save()})},addI18n:function(G,F){y.add(G,F)},translate:function(F){return y.translate(F)},setActive:function(F){var G=this.activeEditor;if(this.activeEditor!=F){if(G){G.fire("deactivate",{relatedTarget:F})}F.fire("activate",{relatedTarget:G})}this.activeEditor=F}};C(u,s);u.setup();window.tinymce=window.tinyMCE=u;return u});h("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(j,i){var l=i.each,k=i.explode;j.on("AddEditor",function(n){var m=n.editor;m.on("preInit",function(){var q,t,s,p=m.settings;function o(v,u){l(u,function(x,w){if(x){s.setStyle(v,w,x)}});s.rename(v,"span")}function r(u){s=m.dom;if(p.convert_fonts_to_spans){l(s.select("font,u,strike",u.node),function(v){q[v.nodeName.toLowerCase()](s,v)})}}if(p.inline_styles){t=k(p.font_size_legacy_values);q={font:function(v,u){o(u,{backgroundColor:u.style.backgroundColor,color:u.color,fontFamily:u.face,fontSize:t[parseInt(u.size,10)-1]})},u:function(v,u){if(m.settings.schema==="html4"){o(u,{textDecoration:"underline"})}},strike:function(v,u){o(u,{textDecoration:"line-through"})}};m.on("PreProcess SetContent",r)}})})});h("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(i,j){var k={send:function(m){var o,n=0;function l(){if(!m.async||o.readyState==4||n++>10000){if(m.success&&n<10000&&o.status==200){m.success.call(m.success_scope,""+o.responseText,o,m)}else{if(m.error){m.error.call(m.error_scope,n>10000?"TIMED_OUT":"GENERAL",o,m)}}o=null}else{setTimeout(l,10)}}m.scope=m.scope||this;m.success_scope=m.success_scope||m.scope;m.error_scope=m.error_scope||m.scope;m.async=m.async===false?false:true;m.data=m.data||"";k.fire("beforeInitialize",{settings:m});o=new XMLHttpRequest();if(o){if(o.overrideMimeType){o.overrideMimeType(m.content_type)}o.open(m.type||(m.data?"POST":"GET"),m.url,m.async);if(m.crossDomain){o.withCredentials=true}if(m.content_type){o.setRequestHeader("Content-Type",m.content_type)}if(m.requestheaders){j.each(m.requestheaders,function(p){o.setRequestHeader(p.key,p.value)})}o.setRequestHeader("X-Requested-With","XMLHttpRequest");o=k.fire("beforeSend",{xhr:o,settings:m}).xhr;o.send(m.data);if(!m.async){return l()}setTimeout(l,10)}}};j.extend(k,i);return k});h("tinymce/util/JSON",[],function(){function i(p,k){var n,j,m,l;k=k||'"';if(p===null){return"null"}m=typeof p;if(m=="string"){j="\bb\tt\nn\ff\rr\"\"''\\\\";return k+p.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(q,o){if(k==='"'&&q==="'"){return q}n=j.indexOf(o);if(n+1){return"\\"+j.charAt(n+1)}q=o.charCodeAt().toString(16);return"\\u"+"0000".substring(q.length)+q})+k}if(m=="object"){if(p.hasOwnProperty&&Object.prototype.toString.call(p)==="[object Array]"){for(n=0,j="[";n<p.length;n++){j+=(n>0?",":"")+i(p[n],k)}return j+"]"}j="{";for(l in p){if(p.hasOwnProperty(l)){j+=typeof p[l]!="function"?(j.length>1?","+k:k)+l+k+":"+i(p[l],k):""}}return j+"}"}return""+p}return{serialize:i,parse:function(k){try{return window[String.fromCharCode(101)+"val"]("("+k+")")}catch(j){}}}});h("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,k,j){var m=j.extend;function i(n){this.settings=m({},n);this.count=0}i.sendRPC=function(n){return new i().send(n)};i.prototype={send:function(p){var o=p.error,n=p.success;p=m(this.settings,p);p.success=function(r,q){r=l.parse(r);if(typeof r=="undefined"){r={error:"JSON Parse error."}}if(r.error){o.call(p.error_scope||p.scope,r.error,q)}else{n.call(p.success_scope||p.scope,r.result)}};p.error=function(r,q){if(o){o.call(p.error_scope||p.scope,r,q)}};p.data=l.serialize({id:p.id||"c"+(this.count++),method:p.method,params:p.params});p.content_type="application/json";k.send(p)}};return i});h("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(i){return{callbacks:{},count:0,send:function(k){var j=this,m=i.DOM,l=k.count!==g?k.count:j.count;var n="tinymce_jsonp_"+l;j.callbacks[l]=function(o){m.remove(n);delete j.callbacks[l];k.callback(o)};m.add(m.doc.body,"script",{id:n,src:k.url,type:"text/javascript"});j.count++}}});h("tinymce/util/LocalStorage",[],function(){var l,k,o,q,r,j;try{if(window.localStorage){return localStorage}}catch(n){}r="tinymce";k=document.documentElement;j=!!k.addBehavior;if(j){k.addBehavior("#default#userData")}function i(){q=[];for(var s in o){q.push(s)}l.length=q.length}function p(){var s,v,u,x=0;o={};if(!j){return}function t(y){var A,z;z=y!==g?x+y:v.indexOf(",",x);if(z===-1||z>v.length){return null}A=v.substring(x,z);x=z+1;return A}k.load(r);v=k.getAttribute(r)||"";do{var w=t();if(w===null){break}s=t(parseInt(w,32)||0);if(s!==null){w=t();if(w===null){break}u=t(parseInt(w,32)||0);if(s){o[s]=u}}}while(s!==null);i()}function m(){var v,u="";if(!j){return}for(var t in o){v=o[t];u+=(u?",":"")+t.length.toString(32)+","+t+","+v.length.toString(32)+","+v}k.setAttribute(r,u);try{k.save(r)}catch(s){}i()}l={key:function(s){return q[s]},getItem:function(s){return s in o?o[s]:null},setItem:function(s,t){o[s]=""+t;m()},removeItem:function(s){delete o[s];m()},clear:function(){o={};m()}};p();return l});h("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(m,o,n,l,j,i){var k=window.tinymce;k.DOM=m.DOM;k.ScriptLoader=n.ScriptLoader;k.PluginManager=l.PluginManager;k.ThemeManager=l.ThemeManager;k.dom=k.dom||{};k.dom.Event=o.Event;j.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(p){k[p]=j[p]});j.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(p){k[p]=i[p.substr(2).toLowerCase()]});return{}});h("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(i,j){return i.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(k){this.settings=j.extend({},this.Defaults,k)},preRender:function(k){k.bodyClasses.add(this.settings.containerClass)},applyClasses:function(l){var k=this,o=k.settings,n,m,q,p;n=o.firstControlClass;m=o.lastControlClass;l.each(function(r){r.classes.remove(n).remove(m).add(o.controlClass);if(r.visible()){if(!q){q=r}p=r}});if(q){q.classes.add(n)}if(p){p.classes.add(m)}},renderHtml:function(k){var l=this,m="";l.applyClasses(k.items());k.items().each(function(n){m+=n.renderHtml()});return m},recalc:function(){},postRender:function(){},isNative:function(){return false}})});h("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(j){j.items().filter(":visible").each(function(l){var k=l.settings;l.layoutRect({x:k.x,y:k.y,w:k.w,h:k.h});if(l.recalc){l.recalc()}})},renderHtml:function(j){return'<div id="'+j._id+'-absend" class="'+j.classPrefix+'abs-end"></div>'+this._super(j)}})});h("tinymce/ui/Button",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"widget btn",role:"button"},init:function(l){var j=this,k;j._super(l);l=j.settings;k=j.settings.size;j.on("click mousedown",function(m){m.preventDefault()});j.on("touchstart",function(m){j.fire("click",m);m.preventDefault()});if(l.subtype){j.classes.add(l.subtype)}if(k){j.classes.add("btn-"+k)}if(l.icon){j.icon(l.icon)}},icon:function(j){if(!arguments.length){return this.state.get("icon")}this.state.set("icon",j);return this},repaint:function(){var j=this.getEl().firstChild,k;if(j){k=j.style;k.width=k.height="100%"}this._super()},renderHtml:function(){var j=this,p=j._id,m=j.classPrefix;var k=j.state.get("icon"),n,o=j.state.get("text"),l="";n=j.settings.image;if(n){k="none";if(typeof n!="string"){n=window.getSelection?n[0]:n[1]}n=" style=\"background-image: url('"+n+"')\""}else{n=""}if(o){j.classes.add("btn-has-text");l='<span class="'+m+'txt">'+j.encode(o)+"</span>"}k=k?m+"ico "+m+"i-"+k:"";return('<div id="'+p+'" class="'+j.classes+'" tabindex="-1" aria-labelledby="'+p+'"><button role="presentation" type="button" tabindex="-1">'+(k?'<i class="'+k+'"'+n+"></i>":"")+l+"</button></div>")},bindStates:function(){var j=this,m=j.$,l=j.classPrefix+"txt";function k(o){var n=m("span."+l,j.getEl());if(o){if(!n[0]){m("button:first",j.getEl()).append('<span class="'+l+'"></span>');n=m("span."+l,j.getEl())}n.html(j.encode(o))}else{n.remove()}j.classes.toggle("btn-has-text",!!o)}j.state.on("change:text",function(n){k(n.value)});j.state.on("change:icon",function(r){var p=r.value,q=j.classPrefix;j.settings.icon=p;p=p?q+"ico "+q+"i-"+j.settings.icon:"";var n=j.getEl().firstChild,o=n.getElementsByTagName("i")[0];if(p){if(!o||o!=n.firstChild){o=document.createElement("i");n.insertBefore(o,n.firstChild)}o.className=p}else{if(o){n.removeChild(o)}}k(j.state.get("text"))});return j._super()}})});h("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var j=this,k=j._layout;j.classes.add("btn-group");j.preRender();k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes+'"><div id="'+j._id+'-body">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:false},init:function(k){var j=this;j._super(k);j.on("click mousedown",function(l){l.preventDefault()});j.on("click",function(l){l.preventDefault();if(!j.disabled()){j.checked(!j.checked())}});j.checked(j.settings.checked)},checked:function(j){if(!arguments.length){return this.state.get("checked")}this.state.set("checked",j);return this},value:function(j){if(!arguments.length){return this.checked()}return this.checked(j)},renderHtml:function(){var j=this,l=j._id,k=j.classPrefix;return('<div id="'+l+'" class="'+j.classes+'" unselectable="on" aria-labelledby="'+l+'-al" tabindex="-1"><i class="'+k+"ico "+k+'i-checkbox"></i><span id="'+l+'-al" class="'+k+'label">'+j.encode(j.state.get("text"))+"</span></div>")},bindStates:function(){var j=this;function k(l){j.classes.toggle("checked",l);j.aria("checked",l)}j.state.on("change:text",function(l){j.getEl("al").firstChild.data=j.translate(l.value)});j.state.on("change:checked change:value",function(l){j.fire("change");k(l.value)});j.state.on("change:icon",function(p){var n=p.value,o=j.classPrefix;if(typeof n=="undefined"){return j.settings.icon}j.settings.icon=n;n=n?o+"ico "+o+"i-"+j.settings.icon:"";var l=j.getEl().firstChild,m=l.getElementsByTagName("i")[0];if(n){if(!m||m!=l.firstChild){m=document.createElement("i");l.insertBefore(m,l.firstChild)}m.className=n}else{if(m){l.removeChild(m)}}});if(j.state.get("checked")){k(true)}return j._super()}})});h("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/VK","tinymce/util/Tools"],function(l,i,j,m,n,k){return l.extend({init:function(p){var o=this;o._super(p);p=o.settings;o.classes.add("combobox");o.subinput=true;o.ariaTarget="inp";p.menu=p.menu||p.values;if(p.menu){p.icon="caret"}o.on("click",function(r){var s=r.target,q=o.getEl();if(!m.contains(q,s)&&s!=q){return}while(s&&s!=q){if(s.id&&s.id.indexOf("-open")!=-1){o.fire("action");if(p.menu){o.showMenu();if(r.aria){o.menu.items()[0].focus()}}}s=s.parentNode}});o.on("keydown",function(r){var q;if(r.keyCode==13&&r.target.nodeName==="INPUT"){r.preventDefault();o.parents().reverse().each(function(s){if(s.toJSON){q=s;return false}});o.fire("submit",{data:q.toJSON()})}});o.on("keyup",function(s){if(s.target.nodeName=="INPUT"){var q=o.state.get("value");var r=s.target.value;if(r!==q){o.state.set("value",r);o.fire("autocomplete",s)}}});o.on("mouseover",function(s){var r=o.tooltip().moveTo(-65535);if(o.statusLevel()&&s.target.className.indexOf(o.classPrefix+"status")!==-1){var t=o.statusMessage()||"Ok";var q=r.text(t).show().testMoveRel(s.target,["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n",q=="bc-tc");r.classes.toggle("tooltip-nw",q=="bc-tl");r.classes.toggle("tooltip-ne",q=="bc-tr");r.moveRel(s.target,q)}})},statusLevel:function(o){if(arguments.length>0){this.state.set("statusLevel",o)}return this.state.get("statusLevel")},statusMessage:function(o){if(arguments.length>0){this.state.set("statusMessage",o)}return this.state.get("statusMessage")},showMenu:function(){var o=this,p=o.settings,q;if(!o.menu){q=p.menu||[];if(q.length){q={type:"menu",items:q}}else{q.type=q.type||"menu"}o.menu=i.create(q).parent(o).renderTo(o.getContainerElm());o.fire("createmenu");o.menu.reflow();o.menu.on("cancel",function(r){if(r.control===o.menu){o.focus()}});o.menu.on("show hide",function(r){r.control.items().each(function(s){s.active(s.value()==o.value())})}).fire("show");o.menu.on("select",function(r){o.value(r.control.value())});o.on("focusin",function(r){if(r.target.tagName.toUpperCase()=="INPUT"){o.menu.hide()}});o.aria("expanded",true)}o.menu.show();o.menu.layoutRect({w:o.layoutRect().w});o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var w=this,r=w.getEl(),v=w.getEl("open"),s=w.layoutRect();var o,u,p=0,q=r.firstChild;if(w.statusLevel()&&w.statusLevel()!=="none"){p=(parseInt(j.getRuntimeStyle(q,"padding-right"),10)-parseInt(j.getRuntimeStyle(q,"padding-left"),10))}if(v){o=s.w-j.getSize(v).width-10}else{o=s.w-10}var t=document;if(t.all&&(!t.documentMode||t.documentMode<=8)){u=(w.layoutRect().h-2)+"px"}m(q).css({width:o-p,lineHeight:u});w._super();return w},postRender:function(){var o=this;m(this.getEl("inp")).on("change",function(p){o.state.set("value",p.target.value);o.fire("change",p)});return o._super()},renderHtml:function(){var x=this,o=x._id,p=x.settings,q=x.classPrefix;var u=x.state.get("value")||"";var s,w,r="",v="",t="";if("spellcheck" in p){v+=' spellcheck="'+p.spellcheck+'"'}if(p.maxLength){v+=' maxlength="'+p.maxLength+'"'}if(p.size){v+=' size="'+p.size+'"'}if(p.subtype){v+=' type="'+p.subtype+'"'}t='<i id="'+o+'-status" class="mce-status mce-ico" style="display: none"></i>';if(x.disabled()){v+=' disabled="disabled"'}s=p.icon;if(s&&s!="caret"){s=q+"ico "+q+"i-"+p.icon}w=x.state.get("text");if(s||w){r=('<div id="'+o+'-open" class="'+q+"btn "+q+'open" tabIndex="-1" role="button"><button id="'+o+'-action" type="button" hidefocus="1" tabindex="-1">'+(s!="caret"?'<i class="'+s+'"></i>':'<i class="'+q+'caret"></i>')+(w?(s?" ":"")+w:"")+"</button></div>");x.classes.add("has-open")}return('<div id="'+o+'" class="'+x.classes+'"><input id="'+o+'-inp" class="'+q+'textbox" value="'+x.encode(u,false)+'" hidefocus="1"'+v+' placeholder="'+x.encode(p.placeholder)+'" />'+t+r+"</div>")},value:function(o){if(arguments.length){this.state.set("value",o);return this}if(this.state.get("rendered")){this.state.set("value",this.getEl("inp").value)}return this.state.get("value")},showAutoComplete:function(p,q){var o=this;if(p.length===0){o.hideMenu();return}var r=function(t,u){return function(){o.fire("selectitem",{title:u,value:t})}};if(o.menu){o.menu.items().remove()}else{o.menu=i.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(o).renderTo()}k.each(p,function(t){o.menu.add({text:t.title,url:t.previewUrl,match:q,classes:"menu-item-ellipsis",onclick:r(t.value,t.title)})});o.menu.renderNew();o.hideMenu();o.menu.on("cancel",function(t){if(t.control.parent()===o.menu){t.stopPropagation();o.focus();o.hideMenu()}});o.menu.on("select",function(){o.focus()});var s=o.layoutRect().w;o.menu.layoutRect({w:s,minW:0,maxW:s});o.menu.reflow();o.menu.show();o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){if(this.menu){this.menu.hide()}},bindStates:function(){var o=this;o.state.on("change:value",function(q){if(o.getEl("inp").value!=q.value){o.getEl("inp").value=q.value}});o.state.on("change:disabled",function(q){o.getEl("inp").disabled=q.value});o.state.on("change:statusLevel",function(t){var q=o.getEl("status");var s=o.classPrefix,r=t.value;j.css(q,"display",r==="none"?"none":"");j.toggleClass(q,s+"i-checkmark",r==="ok");j.toggleClass(q,s+"i-warning",r==="warn");j.toggleClass(q,s+"i-error",r==="error");o.classes.toggle("has-status",r!=="none");o.repaint()});j.on(o.getEl("status"),"mouseleave",function(){o.tooltip().hide()});o.on("cancel",function(q){if(o.menu&&o.menu.visible()){q.stopPropagation();o.hideMenu()}});var p=function(q,r){if(r&&r.items().length>0){r.items().eq(q)[0].focus()}};o.on("keydown",function(r){var q=r.keyCode;if(r.target.nodeName==="INPUT"){if(q===n.DOWN){r.preventDefault();o.fire("autocomplete");p(0,o.menu)}else{if(q===n.UP){r.preventDefault();p(-1,o.menu)}}}});return o._super()},remove:function(){m(this.getEl("inp")).off();if(this.menu){this.menu.remove()}this._super()}})});h("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(i){return i.extend({init:function(k){var j=this;k.spellcheck=false;if(k.onaction){k.icon="none"}j._super(k);j.classes.add("colorbox");j.on("change keyup postrender",function(){j.repaintColor(j.value())})},repaintColor:function(l){var j=this.getEl("open");var m=j?j.getElementsByTagName("i")[0]:null;if(m){try{m.style.background=l}catch(k){}}},bindStates:function(){var j=this;j.state.on("change:value",function(k){if(j.state.get("rendered")){j.repaintColor(k.value)}});return j._super()}})});h("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(i,j){return i.extend({showPanel:function(){var k=this,l=k.settings;k.active(true);if(!k.panel){var m=l.panel;if(m.type){m={layout:"grid",items:m}}m.role=m.role||"dialog";m.popover=true;m.autohide=true;m.ariaRoot=true;k.panel=new j(m).on("hide",function(){k.active(false)}).on("cancel",function(n){n.stopPropagation();k.focus();k.hidePanel()}).parent(k).renderTo(k.getContainerElm());k.panel.fire("show");k.panel.reflow()}else{k.panel.show()}k.panel.moveRel(k.getEl(),l.popoverAlign||(k.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var k=this;if(k.panel){k.panel.hide()}},postRender:function(){var k=this;k.aria("haspopup",true);k.on("click",function(l){if(l.control===k){if(k.panel&&k.panel.visible()){k.hidePanel()}else{k.showPanel();k.panel.focus(!!l.aria)}}});return k._super()},remove:function(){if(this.panel){this.panel.remove();this.panel=null}return this._super()}})});h("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(j,i){var k=i.DOM;return j.extend({init:function(l){this._super(l);this.classes.add("colorbutton")},color:function(l){if(l){this._color=l;this.getEl("preview").style.backgroundColor=l;return this}return this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var l=this,r=l._id,o=l.classPrefix,q=l.state.get("text");var m=l.settings.icon?o+"ico "+o+"i-"+l.settings.icon:"";var p=l.settings.image?" style=\"background-image: url('"+l.settings.image+"')\"":"",n="";if(q){l.classes.add("btn-has-text");n='<span class="'+o+'txt">'+l.encode(q)+"</span>"}return('<div id="'+r+'" class="'+l.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(m?'<i class="'+m+'"'+p+"></i>":"")+'<span id="'+r+'-preview" class="'+o+'preview"></span>'+n+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1"> <i class="'+o+'caret"></i></button></div>')},postRender:function(){var l=this,m=l.settings.onclick;l.on("click",function(n){if(n.aria&&n.aria.key=="down"){return}if(n.control==l&&!k.getParent(n.target,"."+l.classPrefix+"open")){n.stopImmediatePropagation();m.call(l,n)}});delete l.settings.onclick;return l._super()}})});h("tinymce/util/Color",[],function(){var k=Math.min,i=Math.max,j=Math.round;function l(w){var x=this,m=0,t=0,v=0;function p(y,A,C){var z,G,E,B,D,F;z=0;G=0;E=0;y=y/255;A=A/255;C=C/255;D=k(y,k(A,C));F=i(y,i(A,C));if(D==F){E=D;return{h:0,s:0,v:E*100}}B=(y==D)?A-C:((C==D)?y-A:C-y);z=(y==D)?3:((C==D)?1:5);z=60*(z-B/(F-D));G=(F-D)/F;E=F;return{h:j(z),s:j(G*100),v:j(E*100)}}function q(y,C,D){var B,A,r,z;y=(parseInt(y,10)||0)%360;C=parseInt(C,10)/100;D=parseInt(D,10)/100;C=i(0,k(C,1));D=i(0,k(D,1));if(C===0){m=t=v=j(255*D);return}B=y/60;A=D*C;r=A*(1-Math.abs(B%2-1));z=D-A;switch(Math.floor(B)){case 0:m=A;t=r;v=0;break;case 1:m=r;t=A;v=0;break;case 2:m=0;t=A;v=r;break;case 3:m=0;t=r;v=A;break;case 4:m=r;t=0;v=A;break;case 5:m=A;t=0;v=r;break;default:m=t=v=0}m=j(255*(m+z));t=j(255*(t+z));v=j(255*(v+z))}function n(){function r(y){y=parseInt(y,10).toString(16);return y.length>1?y:"0"+y}return"#"+r(m)+r(t)+r(v)}function u(){return{r:m,g:t,b:v}}function s(){return p(m,t,v)}function o(y){var r;if(typeof y=="object"){if("r" in y){m=y.r;t=y.g;v=y.b}else{if("v" in y){q(y.h,y.s,y.v)}}}else{if((r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(y))){m=parseInt(r[1],10);t=parseInt(r[2],10);v=parseInt(r[3],10)}else{if((r=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(y))){m=parseInt(r[1],16);t=parseInt(r[2],16);v=parseInt(r[3],16)}else{if((r=/#([0-F])([0-F])([0-F])/gi.exec(y))){m=parseInt(r[1]+r[1],16);t=parseInt(r[2]+r[2],16);v=parseInt(r[3]+r[3],16)}}}}m=m<0?0:(m>255?255:m);t=t<0?0:(t>255?255:t);v=v<0?0:(v>255?255:v);return x}if(w){o(w)}x.toRgb=u;x.toHsv=s;x.toHex=n;x.parse=o}return l});h("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(k,j,i,l){return k.extend({Defaults:{classes:"widget colorpicker"},init:function(m){this._super(m)},postRender:function(){var w=this,q=w.color(),r,t,s,v,o;t=w.getEl("h");s=w.getEl("hp");v=w.getEl("sv");o=w.getEl("svp");function p(D,A){var C=i.getPos(D),z,B;z=A.pageX-C.x;B=A.pageY-C.y;z=Math.max(0,Math.min(z/D.clientWidth,1));B=Math.max(0,Math.min(B/D.clientHeight,1));return{x:z,y:B}}function n(z,y){var x=(360-z.h)/360;i.css(s,{top:(x*100)+"%"});if(!y){i.css(o,{left:z.s+"%",top:(100-z.v)+"%"})}v.style.background=new l({s:100,v:100,h:z.h}).toHex();w.color().parse({s:z.s,v:z.v,h:z.h})}function m(x){var y;y=p(v,x);r.s=y.x*100;r.v=(1-y.y)*100;n(r);w.fire("change")}function u(x){var y;y=p(t,x);r=q.toHsv();r.h=(1-y.y)*360;n(r,true);w.fire("change")}w._repaint=function(){r=q.toHsv();n(r)};w._super();w._svdraghelper=new j(w._id+"-sv",{start:m,drag:m});w._hdraghelper=new j(w._id+"-h",{start:u,drag:u});w._repaint()},rgb:function(){return this.color().toRgb()},value:function(n){var m=this;if(arguments.length){m.color().parse(n);if(m._rendered){m._repaint()}}else{return m.color().toHex()}},color:function(){if(!this._color){this._color=new l()}return this._color},renderHtml:function(){var m=this,s=m._id,q=m.classPrefix,o;var p="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";function n(){var w,u,v="",t,x;t="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=";x=p.split(",");for(w=0,u=x.length-1;w<u;w++){v+=('<div class="'+q+'colorpicker-h-chunk" style="height:'+(100/u)+"%;"+t+x[w]+",endColorstr="+x[w+1]+");-ms-"+t+x[w]+",endColorstr="+x[w+1]+')"></div>')}return v}var r=("background: -ms-linear-gradient(top,"+p+");background: linear-gradient(to bottom,"+p+");");o=('<div id="'+s+'-h" class="'+q+'colorpicker-h" style="'+r+'">'+n()+'<div id="'+s+'-hp" class="'+q+'colorpicker-h-marker"></div></div>');return('<div id="'+s+'" class="'+m.classes+'"><div id="'+s+'-sv" class="'+q+'colorpicker-sv"><div class="'+q+'colorpicker-overlay1"><div class="'+q+'colorpicker-overlay2"><div id="'+s+'-svp" class="'+q+'colorpicker-selector1"><div class="'+q+'colorpicker-selector2"></div></div></div></div></div>'+o+"</div>")}})});h("tinymce/ui/Path",["tinymce/ui/Widget"],function(i){return i.extend({init:function(k){var j=this;if(!k.delimiter){k.delimiter="\u00BB"}j._super(k);j.classes.add("path");j.canFocus=true;j.on("click",function(n){var l,m=n.target;if((l=m.getAttribute("data-index"))){j.fire("select",{value:j.row()[l],index:l})}});j.row(j.settings.row)},focus:function(){var j=this;j.getEl().firstChild.focus();return j},row:function(j){if(!arguments.length){return this.state.get("row")}this.state.set("row",j);return this},renderHtml:function(){var j=this;return('<div id="'+j._id+'" class="'+j.classes+'">'+j._getDataPathHtml(j.state.get("row"))+"</div>")},bindStates:function(){var j=this;j.state.on("change:row",function(k){j.innerHtml(j._getDataPathHtml(k.value))});return j._super()},_getDataPathHtml:function(p){var k=this,q=p||[],n,j,m="",o=k.classPrefix;for(n=0,j=q.length;n<j;n++){m+=((n>0?'<div class="'+o+'divider" aria-hidden="true"> '+k.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(n==j-1?" "+o+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+k._id+"-"+n+'" aria-level="'+(n+1)+'">'+q[n].name+"</div>")}if(!m){m='<div class="'+o+'path-item">\u00a0</div>'}return m}})});h("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(i){return i.extend({postRender:function(){var j=this,l=j.settings.editor;function k(m){if(m.nodeType===1){if(m.nodeName=="BR"||!!m.getAttribute("data-mce-bogus")){return true}if(m.getAttribute("data-mce-type")==="bookmark"){return true}}return false}if(l.settings.elementpath!==false){j.on("select",function(m){l.focus();l.selection.select(this.row()[m.index].element);l.nodeChanged()});l.on("nodeChange",function(q){var m=[],o=q.parents,p=o.length;while(p--){if(o[p].nodeType==1&&!k(o[p])){var n=l.fire("ResolveName",{name:o[p].nodeName.toLowerCase(),target:o[p]});if(!n.isDefaultPrevented()){m.push({name:n.name,element:o[p]})}if(n.isPropagationStopped()){break}}}j.row(m)})}return j._super()}})});h("tinymce/ui/FormItem",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.classes.add("formitem");k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<div id="'+j._id+'-title" class="'+l+'title">'+j.settings.title+"</div>"):"")+'<div id="'+j._id+'-body" class="'+j.bodyClasses+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(i,k,j){return i.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var m=this,l=m.items();if(!m.settings.formItemDefaults){m.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}}l.each(function(p){var o,n=p.settings.label;if(n){o=new k(j.extend({items:{type:"label",id:p._id+"-l",text:n,flex:0,forId:p._id,disabled:p.disabled()}},m.settings.formItemDefaults));o.type="formitem";p.aria("labelledby",p._id+"-l");if(typeof p.settings.flex=="undefined"){p.settings.flex=1}m.replace(p,o);o.add(p)}})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var l=this;l._super();l.fromJSON(l.settings.data)},bindStates:function(){var m=this;m._super();function l(){var q=0,r=[],o,p,n;if(m.settings.labelGapCalc===false){return}if(m.settings.labelGapCalc=="children"){n=m.find("formitem")}else{n=m.items()}n.filter("formitem").each(function(u){var t=u.items()[0],s=t.getEl().clientWidth;q=s>q?s:q;r.push(t)});p=m.settings.labelGap||0;o=r.length;while(o--){r[o].settings.minWidth=q+p}}m.on("show",l);l()}})});h("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(i){return i.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.preRender();k.preRender(j);return('<fieldset id="'+j._id+'" class="'+j.classes+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<legend id="'+j._id+'-title" class="'+l+'fieldset-title">'+j.settings.title+"</legend>"):"")+'<div id="'+j._id+'-body" class="'+j.bodyClasses+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></fieldset>")}})});h("tinymce/content/LinkTargets",["tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Uuid","tinymce/util/Tools","tinymce/dom/NodeType"],function(B,m,r,G,k,o){var A=k.trim;var u=function(J,K,I,L,H){return{type:J,title:K,url:I,level:L,attach:H}};var p=function(H){while((H=H.parentNode)){var I=H.contentEditable;if(I&&I!=="inherit"){return o.isContentEditableTrue(H)}}return false};var z=function(H,I){return B.DOM.select(H,I)};var j=function(H){return H.innerText||H.textContent};var i=function(H){return H.id?H.id:G.uuid("h")};var C=function(H){return H&&H.nodeName==="A"&&(H.id||H.name)};var s=function(H){return C(H)&&t(H)};var n=function(H){return H&&/^(H[1-6])$/.test(H.nodeName)};var t=function(H){return p(H)&&!o.isContentEditableFalse(H)};var D=function(H){return n(H)&&t(H)};var w=function(H){return n(H)?parseInt(H.nodeName.substr(1),10):0};var l=function(J){var I=i(J);var H=function(){J.id=I};return u("header",j(J),"#"+I,w(J),H)};var q=function(J){var H=J.id||J.name;var I=j(J);return u("anchor",I?I:"#"+H,"#"+H,0,m.noop)};var E=function(H){return r.map(r.filter(H,D),l)};var v=function(H){return r.map(r.filter(H,s),q)};var F=function(I){var H=z("h1,h2,h3,h4,h5,h6,a:not([href])",I);return H};var x=function(H){return A(H.title).length>0};var y=function(I){var H=F(I);return r.filter(E(H).concat(v(H)),x)};return{find:y}});h("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/VK","tinymce/content/LinkTargets"],function(A,j,n,k,w,v){var r={};var i=5;var t=function(C){return{title:C.title,value:{title:{raw:C.title},url:C.url,attach:C.attach}}};var x=function(C){return j.map(C,t)};var s=function(D,C){return{title:D,value:{title:D,url:C,attach:k.noop}}};var o=function(E,C){var D=n.find(C,function(F){return F.url===E});return !D};var m=function(C,E,D){var F=E in C?C[E]:D;return F===false?null:F};var l=function(F,H,K,J){var G={title:"-"};var D=function(M){var L=n.filter(M[K],function(N){return o(N,H)});return j.map(L,function(N){return{title:N,value:{title:N,url:N,attach:k.noop}}})};var C=function(L){var M=n.filter(H,function(N){return N.type==L});return x(M)};var I=function(){var L=C("anchor");var N=m(J,"anchor_top","#top");var M=m(J,"anchor_bottom","#bottom");if(N!==null){L.unshift(s("<top>",N))}if(M!==null){L.push(s("<bottom>",M))}return L};var E=function(L){return n.reduce(L,function(N,M){var O=N.length===0||M.length===0;return O?N.concat(M):N.concat(G,M)},[])};if(J.typeahead_urls===false){return[]}return K==="file"?E([B(F,D(r)),B(F,C("header")),B(F,I())]):B(F,D(r))};var y=function(E,C){var D=r[C];if(!/^https?/.test(E)){return}if(D){if(n.indexOf(D,E)===-1){r[C]=D.slice(0,i).concat(E)}}else{r[C]=[E]}};var B=function(E,D){var F=E.toLowerCase();var C=j.grep(D,function(G){return G.title.toLowerCase().indexOf(F)!==-1});return C.length===1&&C[0].title===E?[]:C};var p=function(C){var D=C.title;return D.raw?D.raw:D};var z=function(G,C,E,D){var F=function(I){var J=v.find(E);var H=l(I,J,D,C);G.showAutoComplete(H,I)};G.on("autocomplete",function(){F(G.value())});G.on("selectitem",function(I){var H=I.value;G.value(H.url);var J=p(H);if(D==="image"){G.fire("change",{meta:{alt:J,attach:H.attach}})}else{G.fire("change",{meta:{text:J,attach:H.attach}})}G.focus()});G.on("click",function(H){if(G.value().length===0&&H.target.nodeName==="INPUT"){F("")}});G.on("PostRender",function(){G.getRoot().on("submit",function(H){if(!H.isDefaultPrevented()){y(G.value(),D)}})})};var u=function(C){var D=C.status,E=C.message;if(D==="valid"){return{status:"ok",message:E}}else{if(D==="unknown"){return{status:"warn",message:E}}else{if(D==="invalid"){return{status:"warn",message:E}}else{return{status:"none",message:""}}}}};var q=function(F,C,D){var G=C.filepicker_validator_handler;if(G){var E=function(H){if(H.length===0){F.statusLevel("none");return}G({url:H,type:D},function(I){var J=u(I);F.statusMessage(J.message);F.statusLevel(J.status)})};F.state.on("change:value",function(H){E(H.value)})}};return A.extend({init:function(H){var F=this,G=tinymce.activeEditor,D=G.settings;var C,J,I;var E=H.filetype;H.spellcheck=false;I=D.file_picker_types||D.file_browser_callback_types;if(I){I=j.makeMap(I,/[, ]/)}if(!I||I[E]){J=D.file_picker_callback;if(J&&(!I||I[E])){C=function(){var K=F.fire("beforecall").meta;K=j.extend({filetype:E},K);J.call(G,function(L,M){F.value(L).fire("change",{meta:M})},F.value(),K)}}else{J=D.file_browser_callback;if(J&&(!I||I[E])){C=function(){J(F.getEl("inp").id,F.value(),E,window)}}}}if(C){H.icon="browse";H.onaction=C}F._super(H);z(F,D,G.getBody(),E);q(F,D,E)}})});h("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(k){var j=k.layoutRect(),l=k.paddingBox;k.items().filter(":visible").each(function(m){m.layoutRect({x:l.left,y:l.top,w:j.innerW-l.right-l.left,h:j.innerH-l.top-l.bottom});if(m.recalc){m.recalc()}})}})});h("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(L){var X,S,y,V,t,B,R,w,m,Y,n,u;var T,k,o,q,s=[],r,E,P,I,J,W;var O,D,v,p,aa,M,x,N;var F,j,C,Q,H,U;var K,G;var z=Math.max,Z=Math.min;y=L.items().filter(":visible");V=L.layoutRect();t=L.paddingBox;B=L.settings;u=L.isRtl()?(B.direction||"row-reversed"):B.direction;R=B.align;w=L.isRtl()?(B.pack||"end"):B.pack;m=B.spacing||0;if(u=="row-reversed"||u=="column-reverse"){y=y.set(y.toArray().reverse());u=u.split("-")[0]}if(u=="column"){v="y";O="h";D="minH";p="maxH";M="innerH";aa="top";x="deltaH";N="contentH";H="left";C="w";F="x";j="innerW";Q="minW";U="right";K="deltaW";G="contentW"}else{v="x";O="w";D="minW";p="maxW";M="innerW";aa="left";x="deltaW";N="contentW";H="top";C="h";F="y";j="innerH";Q="minH";U="bottom";K="deltaH";G="contentH"}n=V[M]-t[aa]-t[aa];W=Y=0;for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();o=T.settings;q=o.flex;n-=(X<S-1?m:0);if(q>0){Y+=q;if(k[p]){s.push(T)}k.flex=q}n-=k[D];r=t[H]+k[Q]+t[U];if(r>W){W=r}}I={};if(n<0){I[D]=V[D]-n+V[x]}else{I[D]=V[M]-n+V[x]}I[Q]=W+V[K];I[N]=V[M]-n;I[G]=W;I.minW=Z(I.minW,V.maxW);I.minH=Z(I.minH,V.maxH);I.minW=z(I.minW,V.startMinWidth);I.minH=z(I.minH,V.startMinHeight);if(V.autoResize&&(I.minW!=V.minW||I.minH!=V.minH)){I.w=I.minW;I.h=I.minH;L.layoutRect(I);this.recalc(L);if(L._lastRect===null){var A=L.parent();if(A){A._lastRect=null;A.recalc()}}return}P=n/Y;for(X=0,S=s.length;X<S;X++){T=s[X];k=T.layoutRect();E=k[p];r=k[D]+k.flex*P;if(r>E){n-=(k[p]-k[D]);Y-=k.flex;k.flex=0;k.maxFlexSize=E}else{k.maxFlexSize=0}}P=n/Y;J=t[aa];I={};if(Y===0){if(w=="end"){J=n+t[aa]}else{if(w=="center"){J=Math.round((V[M]/2)-((V[M]-n)/2))+t[aa];if(J<0){J=t[aa]}}else{if(w=="justify"){J=t[aa];m=Math.floor(n/(y.length-1))}}}}I[F]=t[H];for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();r=k.maxFlexSize||k[D];if(R==="center"){I[F]=Math.round((V[j]/2)-(k[C]/2))}else{if(R==="stretch"){I[C]=z(k[Q]||0,V[j]-t[H]-t[U]);I[F]=t[H]}else{if(R==="end"){I[F]=V[j]-k[C]-t.top}}}if(k.flex>0){r+=k.flex*P}I[O]=r;I[v]=J;T.layoutRect(I);if(T.recalc){T.recalc()}J+=r+m}}})});h("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(j){j.items().filter(":visible").each(function(k){if(k.recalc){k.recalc()}})},isNative:function(){return true}})});h("tinymce/fmt/FontInfo",["tinymce/dom/DOMUtils"],function(n){var l=function(p,q,r){while(r!==q){if(r.style[p]){return r.style[p]}r=r.parentNode}return""};var o=function(p){if(/[0-9.]+px$/.test(p)){return Math.round(parseInt(p,10)*72/96)+"pt"}return p};var i=function(p){return p.replace(/[\'\"]/g,"").replace(/,\s+/g,",")};var k=function(p,q){return n.DOM.getStyle(q,p,true)};var j=function(q,r){var p=l("fontSize",q,r);return p!==""?p:k("fontSize",r)};var m=function(r,s){var q=l("fontFamily",r,s);var p=q!==""?q:k("fontFamily",s);return p!==g?i(p):""};return{getFontSize:j,getFontFamily:m,toPt:o}});h("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/util/Arr","tinymce/dom/DOMUtils","tinymce/EditorManager","tinymce/Env","tinymce/fmt/FontInfo"],function(k,r,o,l,n,q,t,p,u){var s=l.each;var j=function(w){return n.reduce(w,function(x,y){return x.concat(y)},[])};t.on("AddEditor",function(x){var w=x.editor;i(w);m(w);v(w)});k.translate=function(w){return t.translate(w)};r.tooltips=!p.iOS;function v(w){if(w.settings.ui_container){p.container=q.DOM.select(w.settings.ui_container)[0]}}function i(w){w.on("ScriptsLoaded",function(){if(w.rtl){k.rtl=true}})}function m(D){var I;function w(N,O){return function(){var P=this;D.on("nodeChange",function(S){var Q=D.formatter;var R=null;s(S.parents,function(T){s(N,function(U){if(O){if(Q.matchNode(T,O,{value:U.value})){R=U.value}}else{if(Q.matchNode(T,U.value)){R=U.value}}if(R){return false}});if(R){return false}});P.value(R)})}}function C(N){return function(){var P=this;var O=function(Q){return Q?Q.split(",")[0]:""};D.on("nodeChange",function(S){var Q,R=null;Q=u.getFontFamily(D.getBody(),S.element);s(N,function(T){if(T.value.toLowerCase()===Q.toLowerCase()){R=T.value}});s(N,function(T){if(!R&&O(T.value).toLowerCase()===O(Q).toLowerCase()){R=T.value}});P.value(R);if(!R&&Q){P.text(O(Q))}})}}function x(N){return function(){var O=this;D.on("nodeChange",function(S){var P,R,Q=null;P=u.getFontSize(D.getBody(),S.element);R=u.toPt(P);s(N,function(T){if(T.value===P){Q=P}else{if(T.value===R){Q=R}}});O.value(Q);if(!Q){O.text(R)}})}}function E(N){N=N.replace(/;$/,"").split(";");var O=N.length;while(O--){N[O]=N[O].split("=")}return N}function z(){var R=0,Q=[];var P=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function N(S){var T=[];if(!S){return}s(S,function(W){var V={text:W.title,icon:W.icon};if(W.items){V.menu=N(W.items)}else{var U=W.format||"custom"+R++;if(!W.format){W.name=U;Q.push(W)}V.format=U;V.cmd=W.cmd}T.push(V)});return T}function O(){var S;if(D.settings.style_formats_merge){if(D.settings.style_formats){S=N(P.concat(D.settings.style_formats))}else{S=N(P)}}else{S=N(D.settings.style_formats||P)}return S}D.on("init",function(){s(Q,function(S){D.formatter.register(S.name,S)})});return{type:"menu",items:O(),onPostRender:function(S){D.fire("renderFormatsMenu",{control:S.control})},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return D.formatter.getCssText(this.settings.format)}},onPostRender:function(){var S=this;S.parent().on("show",function(){var T,U;T=S.settings.format;if(T){S.disabled(!D.formatter.canApply(T));S.active(D.formatter.match(T))}U=S.settings.cmd;if(U){S.active(D.queryCommandState(U))}})},onclick:function(){if(this.settings.format){J(this.settings.format)}if(this.settings.cmd){D.execCommand(this.settings.cmd)}}}}}I=z();function y(N){return function(){var O=this;if(D.formatter){D.formatter.formatChanged(N,function(P){O.active(P)})}else{D.on("init",function(){D.formatter.formatChanged(N,function(P){O.active(P)})})}}}s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(O,N){D.addButton(N,{tooltip:O,onPostRender:y(N),onclick:function(){J(N)}})});s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(O,N){D.addButton(N,{tooltip:O[0],cmd:O[1]})});s({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(O,N){D.addButton(N,{tooltip:O[0],cmd:O[1],onPostRender:y(N)})});function B(N){return function(){var O=this;function P(){var Q=N=="redo"?"hasRedo":"hasUndo";return D.undoManager?D.undoManager[Q]():false}O.disabled(!P());D.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){O.disabled(D.readonly||!P())})}}function L(){var N=this;D.on("VisualAid",function(O){N.active(O.hasVisual)});N.active(D.hasVisual)}var H=function(N){var O=N;if(O.length>0&&O[0].text==="-"){O=O.slice(1)}if(O.length>0&&O[O.length-1].text==="-"){O=O.slice(0,O.length-1)}return O};var A=function(O){var N,P;if(typeof O==="string"){P=O.split(" ")}else{if(l.isArray(O)){return j(l.map(O,A))}}N=l.grep(P,function(Q){return Q==="|"||Q in D.menuItems});return l.map(N,function(Q){return Q==="|"?{text:"-"}:D.menuItems[Q]})};var G=function(O){var P=[{text:"-"}];var N=l.grep(D.menuItems,function(Q){return Q.context===O});l.each(N,function(Q){if(Q.separator=="before"){P.push({text:"|"})}if(Q.prependToContext){P.unshift(Q)}else{P.push(Q)}if(Q.separator=="after"){P.push({text:"|"})}});return P};var F=function(N){if(N.insert_button_items){return H(A(N.insert_button_items))}else{return H(G("insert"))}};D.addButton("undo",{tooltip:"Undo",onPostRender:B("undo"),cmd:"undo"});D.addButton("redo",{tooltip:"Redo",onPostRender:B("redo"),cmd:"redo"});D.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});D.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:B("undo"),cmd:"undo"});D.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:B("redo"),cmd:"redo"});D.addMenuItem("visualaid",{text:"Visual aids",selectable:true,onPostRender:L,cmd:"mceToggleVisualAid"});D.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});D.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(F(D.settings));this.menu.renderNew()}});s({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(O,N){D.addMenuItem(N,{text:O[0],icon:N,shortcut:O[2],cmd:O[1]})});D.on("mousedown",function(){o.hideAll()});function J(N){if(N.control){N=N.control.value()}if(N){D.execCommand("mceToggleFormat",false,N)}}function M(O){var N=O.length;l.each(O,function(Q){if(Q.menu){Q.hidden=M(Q.menu)===0}var P=Q.format;if(P){Q.hidden=!D.formatter.canApply(P)}if(Q.hidden){N--}});return N}function K(O){var N=O.items().length;O.items().each(function(Q){if(Q.menu){Q.visible(K(Q.menu)>0)}if(!Q.menu&&Q.settings.menu){Q.visible(M(Q.settings.menu)>0)}var P=Q.settings.format;if(P){Q.visible(D.formatter.canApply(P))}if(!Q.visible()){N--}});return N}D.addButton("styleselect",{type:"menubutton",text:"Formats",menu:I,onShowMenu:function(){if(D.settings.style_formats_autohide){K(this.menu)}}});D.addButton("formatselect",function(){var N=[],O=E(D.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");s(O,function(P){N.push({text:P[0],value:P[1],textStyle:function(){return D.formatter.getCssText(P[1])}})});return{type:"listbox",text:O[0][0],values:N,fixedWidth:true,onselect:J,onPostRender:w(N)}});D.addButton("fontselect",function(){var O="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats";var N=[],P=E(D.settings.font_formats||O);s(P,function(Q){N.push({text:{raw:Q[0]},value:Q[1],textStyle:Q[1].indexOf("dings")==-1?"font-family:"+Q[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:N,fixedWidth:true,onPostRender:C(N),onselect:function(Q){if(Q.control.settings.value){D.execCommand("FontName",false,Q.control.settings.value)}}}});D.addButton("fontsizeselect",function(){var N=[],P="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var O=D.settings.fontsize_formats||P;s(O.split(" "),function(R){var T=R,S=R;var Q=R.split("=");if(Q.length>1){T=Q[0];S=Q[1]}N.push({text:T,value:S})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:N,fixedWidth:true,onPostRender:x(N),onclick:function(Q){if(Q.control.settings.value){D.execCommand("FontSize",false,Q.control.settings.value)}}}});D.addMenuItem("formats",{text:"Formats",menu:I})}});h("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(F){var T,S,v,w,P,k,o,D,n,O,K,J,H,G,q,s,N,t,p,m,Q,A,z,M=[],j=[],B,U,r,u,I,V;T=F.settings;w=F.items().filter(":visible");P=F.layoutRect();v=T.columns||Math.ceil(Math.sqrt(w.length));S=Math.ceil(w.length/v);t=T.spacingH||T.spacing||0;p=T.spacingV||T.spacing||0;m=T.alignH||T.align;Q=T.alignV||T.align;s=F.paddingBox;I="reverseRows" in T?T.reverseRows:F.isRtl();if(m&&typeof m=="string"){m=[m]}if(Q&&typeof Q=="string"){Q=[Q]}for(K=0;K<v;K++){M.push(0)}for(J=0;J<S;J++){j.push(0)}for(J=0;J<S;J++){for(K=0;K<v;K++){O=w[J*v+K];if(!O){break}n=O.layoutRect();B=n.minW;U=n.minH;M[K]=B>M[K]?B:M[K];j[J]=U>j[J]?U:j[J]}}r=P.innerW-s.left-s.right;for(A=0,K=0;K<v;K++){A+=M[K]+(K>0?t:0);r-=(K>0?t:0)+M[K]}u=P.innerH-s.top-s.bottom;for(z=0,J=0;J<S;J++){z+=j[J]+(J>0?p:0);u-=(J>0?p:0)+j[J]}A+=s.left+s.right;z+=s.top+s.bottom;D={};D.minW=A+(P.w-P.innerW);D.minH=z+(P.h-P.innerH);D.contentW=D.minW-P.deltaW;D.contentH=D.minH-P.deltaH;D.minW=Math.min(D.minW,P.maxW);D.minH=Math.min(D.minH,P.maxH);D.minW=Math.max(D.minW,P.startMinWidth);D.minH=Math.max(D.minH,P.startMinHeight);if(P.autoResize&&(D.minW!=P.minW||D.minH!=P.minH)){D.w=D.minW;D.h=D.minH;F.layoutRect(D);this.recalc(F);if(F._lastRect===null){var C=F.parent();if(C){C._lastRect=null;C.recalc()}}return}if(P.autoResize){D=F.layoutRect(D);D.contentW=D.minW-P.deltaW;D.contentH=D.minH-P.deltaH}var E;if(T.packV=="start"){E=0}else{E=u>0?Math.floor(u/S):0}var R=0;var l=T.flexWidths;if(l){for(K=0;K<l.length;K++){R+=l[K]}}else{R=v}var L=r/R;for(K=0;K<v;K++){M[K]+=l?l[K]*L:L}G=s.top;for(J=0;J<S;J++){H=s.left;o=j[J]+E;for(K=0;K<v;K++){if(I){V=J*v+v-1-K}else{V=J*v+K}O=w[V];if(!O){break}q=O.settings;n=O.layoutRect();k=Math.max(M[K],n.startMinWidth);n.x=H;n.y=G;N=q.alignH||(m?(m[K]||m[0]):null);if(N=="center"){n.x=H+(k/2)-(n.w/2)}else{if(N=="right"){n.x=H+k-n.w}else{if(N=="stretch"){n.w=k}}}N=q.alignV||(Q?(Q[K]||Q[0]):null);if(N=="center"){n.y=G+(o/2)-(n.h/2)}else{if(N=="bottom"){n.y=G+o-n.h}else{if(N=="stretch"){n.h=o}}}O.layoutRect(n);H+=k+t;if(O.recalc){O.recalc()}}G+=o+p}}})});h("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(i,j){return i.extend({renderHtml:function(){var k=this;k.classes.add("iframe");k.canFocus=false;return('<iframe id="'+k._id+'" class="'+k.classes+'" tabindex="-1" src="'+(k.settings.url||"javascript:''")+'" frameborder="0"></iframe>')},src:function(k){this.getEl().src=k},html:function(m,n){var l=this,k=this.getEl().contentWindow.document.body;if(!k){j.setTimeout(function(){l.html(m)})}else{k.innerHTML=m;if(n){n()}}return this}})});h("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(i){return i.extend({init:function(k){var j=this;j._super(k);j.classes.add("widget").add("infobox");j.canFocus=false},severity:function(j){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(j)},help:function(j){this.state.set("help",j)},renderHtml:function(){var j=this,k=j.classPrefix;return('<div id="'+j._id+'" class="'+j.classes+'"><div id="'+j._id+'-body">'+j.encode(j.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+k+"ico "+k+'i-help"></i></button></div></div>')},bindStates:function(){var j=this;j.state.on("change:text",function(k){j.getEl("body").firstChild.data=j.encode(k.value);if(j.state.get("rendered")){j.updateLayoutRect()}});j.state.on("change:help",function(k){j.classes.toggle("has-help",k.value);if(j.state.get("rendered")){j.updateLayoutRect()}});return j._super()}})});h("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(j,i){return j.extend({init:function(l){var k=this;k._super(l);k.classes.add("widget").add("label");k.canFocus=false;if(l.multiline){k.classes.add("autoscroll")}if(l.strong){k.classes.add("strong")}},initLayoutRect:function(){var k=this,m=k._super();if(k.settings.multiline){var l=i.getSize(k.getEl());if(l.width>m.maxW){m.minW=m.maxW;k.classes.add("multiline")}k.getEl().style.width=m.minW+"px";m.startMinH=m.h=m.minH=Math.min(m.maxH,i.getSize(k.getEl()).height)}return m},repaint:function(){var k=this;if(!k.settings.multiline){k.getEl().style.lineHeight=k.layoutRect().h+"px"}return k._super()},severity:function(k){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(k)},renderHtml:function(){var l=this,n,m,k=l.settings.forId;if(!k&&(m=l.settings.forName)){n=l.getRoot().find("#"+m)[0];if(n){k=n._id}}if(k){return('<label id="'+l._id+'" class="'+l.classes+'"'+(k?' for="'+k+'"':"")+">"+l.encode(l.state.get("text"))+"</label>")}return('<span id="'+l._id+'" class="'+l.classes+'">'+l.encode(l.state.get("text"))+"</span>")},bindStates:function(){var k=this;k.state.on("change:text",function(l){k.innerHtml(k.encode(l.value));if(k.state.get("rendered")){k.updateLayoutRect()}});return k._super()}})});h("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(k){var j=this;j._super(k);j.classes.add("toolbar")},postRender:function(){var j=this;j.items().each(function(k){k.classes.add("toolbar-item")});return j._super()}})});h("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(i){return i.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:true,defaults:{type:"menubutton"}}})});h("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,j,k){function i(o,n){while(o){if(n===o){return true}o=o.parentNode}return false}var m=l.extend({init:function(o){var n=this;n._renderOpen=true;n._super(o);o=n.settings;n.classes.add("menubtn");if(o.fixedWidth){n.classes.add("fixed-width")}n.aria("haspopup",true);n.state.set("menu",o.menu||n.render())},showMenu:function(n){var o=this,p;if(o.menu&&o.menu.visible()&&n!==false){return o.hideMenu()}if(!o.menu){p=o.state.get("menu")||[];if(p.length){p={type:"menu",items:p}}else{p.type=p.type||"menu"}if(!p.renderTo){o.menu=j.create(p).parent(o).renderTo()}else{o.menu=p.parent(o).show().renderTo()}o.fire("createmenu");o.menu.reflow();o.menu.on("cancel",function(q){if(q.control.parent()===o.menu){q.stopPropagation();o.focus();o.hideMenu()}});o.menu.on("select",function(){o.focus()});o.menu.on("show hide",function(q){if(q.control==o.menu){o.activeMenu(q.type=="show")}o.aria("expanded",q.type=="show")}).fire("show")}o.menu.show();o.menu.layoutRect({w:o.layoutRect().w});o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);o.fire("showmenu")},hideMenu:function(){var n=this;if(n.menu){n.menu.items().each(function(o){if(o.hideMenu){o.hideMenu()}});n.menu.hide()}},activeMenu:function(n){this.classes.toggle("active",n)},renderHtml:function(){var n=this,t=n._id,q=n.classPrefix;var o=n.settings.icon,r,s=n.state.get("text"),p="";r=n.settings.image;if(r){o="none";if(typeof r!="string"){r=window.getSelection?r[0]:r[1]}r=" style=\"background-image: url('"+r+"')\""}else{r=""}if(s){n.classes.add("btn-has-text");p='<span class="'+q+'txt">'+n.encode(s)+"</span>"}o=n.settings.icon?q+"ico "+q+"i-"+o:"";n.aria("role",n.parent() instanceof k?"menuitem":"button");return('<div id="'+t+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+r+"></i>":"")+p+' <i class="'+q+'caret"></i></button></div>')},postRender:function(){var n=this;n.on("click",function(o){if(o.control===n&&i(o.target,n.getEl())){n.focus();n.showMenu(!o.aria);if(o.aria){n.menu.items().filter(":visible")[0].focus()}}});n.on("mouseenter",function(r){var o=r.control,q=n.parent(),p;if(o&&q&&o instanceof m&&o.parent()==q){q.items().filter("MenuButton").each(function(s){if(s.hideMenu&&s!=o){if(s.menu&&s.menu.visible()){p=true}s.hideMenu()}});if(p){o.focus();o.showMenu()}}});return n._super()},bindStates:function(){var n=this;n.state.on("change:menu",function(){if(n.menu){n.menu.remove()}n.menu=null});return n._super()},remove:function(){this._super();if(this.menu){this.menu.remove()}}});return m});h("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(k,i,j,l){return k.extend({Defaults:{border:0,role:"menuitem"},init:function(n){var m=this,o;m._super(n);n=m.settings;m.classes.add("menu-item");if(n.menu){m.classes.add("menu-item-expand")}if(n.preview){m.classes.add("menu-item-preview")}o=m.state.get("text");if(o==="-"||o==="|"){m.classes.add("menu-item-sep");m.aria("role","separator");m.state.set("text","-")}if(n.selectable){m.aria("role","menuitemcheckbox");m.classes.add("menu-item-checkbox");n.icon="selected"}if(!n.preview&&!n.selectable){m.classes.add("menu-item-normal")}m.on("mousedown",function(p){p.preventDefault()});if(n.menu&&!n.ariaHideMenu){m.aria("haspopup",true)}},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var n=this,p=n.settings,q,o=n.parent();o.items().each(function(r){if(r!==n){r.hideMenu()}});if(p.menu){q=n.menu;if(!q){q=p.menu;if(q.length){q={type:"menu",items:q}}else{q.type=q.type||"menu"}if(o.settings.itemDefaults){q.itemDefaults=o.settings.itemDefaults}q=n.menu=i.create(q).parent(n).renderTo();q.reflow();q.on("cancel",function(r){r.stopPropagation();n.focus();q.hide()});q.on("show hide",function(r){if(r.control.items){r.control.items().each(function(s){s.active(s.settings.selected)})}}).fire("show");q.on("hide",function(r){if(r.control===q){n.classes.remove("selected")}});q.submenu=true}else{q.show()}q._parentMenu=o;q.classes.add("menu-sub");var m=q.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);q.moveRel(n.getEl(),m);q.rel=m;m="menu-sub-"+m;q.classes.remove(q._lastRel).add(m);q._lastRel=m;n.classes.add("selected");n.aria("expanded",true)}},hideMenu:function(){var m=this;if(m.menu){m.menu.items().each(function(n){if(n.hideMenu){n.hideMenu()}});m.menu.hide();m.aria("expanded",false)}return m},renderHtml:function(){var z=this,o=z._id,r=z.settings,v=z.classPrefix,y=z.state.get("text");var w=z.settings.icon,q="",s=r.shortcut;var m=z.encode(r.url),n="";function p(A){var C,D,B={};if(j.mac){B={alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}}else{B={meta:"Ctrl"}}A=A.split("+");for(C=0;C<A.length;C++){D=B[A[C].toLowerCase()];if(D){A[C]=D}}return A.join("+")}function u(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(B){var A=r.match||"";return A?B.replace(new RegExp(u(A),"gi"),function(C){return"!mce~match["+C+"]mce~match!"}):B}function x(A){return A.replace(new RegExp(u("!mce~match["),"g"),"<b>").replace(new RegExp(u("]mce~match!"),"g"),"</b>")}if(w){z.parent().classes.add("menu-has-icons")}if(r.image){q=" style=\"background-image: url('"+r.image+"')\""}if(s){s=p(s)}w=v+"ico "+v+"i-"+(z.settings.icon||"none");n=(y!=="-"?'<i class="'+w+'"'+q+"></i>\u00a0":"");y=x(z.encode(t(y)));m=x(z.encode(t(m)));return('<div id="'+o+'" class="'+z.classes+'" tabindex="-1">'+n+(y!=="-"?'<span id="'+o+'-text" class="'+v+'text">'+y+"</span>":"")+(s?'<div id="'+o+'-shortcut" class="'+v+'menu-shortcut">'+s+"</div>":"")+(r.menu?'<div class="'+v+'caret"></div>':"")+(m?'<div class="'+v+'menu-item-link">'+m+"</div>":"")+"</div>")},postRender:function(){var n=this,o=n.settings;var p=o.textStyle;if(typeof p=="function"){p=p.call(this)}if(p){var m=n.getEl("text");if(m){m.setAttribute("style",p)}}n.on("mouseenter click",function(q){if(q.control===n){if(!o.menu&&q.type==="click"){n.fire("select");l.requestAnimationFrame(function(){n.parent().hideAll()})}else{n.showMenu();if(q.aria){n.menu.focus(true)}}}});n._super();return n},hover:function(){var m=this;m.parent().items().each(function(n){n.classes.remove("selected")});m.classes.toggle("selected",true);return m},active:function(m){if(typeof m!="undefined"){this.aria("checked",m)}return this._super(m)},remove:function(){this._super();if(this.menu){this.menu.remove()}}})});h("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(j,i,k){return function(q,o){var m=this,n,l=i.classPrefix,p;m.show=function(s,t){function r(){if(n){j(q).append('<div class="'+l+"throbber"+(o?" "+l+"throbber-inline":"")+'"></div>');if(t){t()}}}m.hide();n=true;if(s){p=k.setTimeout(r,s)}else{r()}return m};m.hide=function(){var r=q.lastChild;k.clearTimeout(p);if(r&&r.className.indexOf("throbber")!=-1){r.parentNode.removeChild(r)}n=false;return m}}});h("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(l,j,k,i){return l.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:true},init:function(p){var n=this;p.autohide=true;p.constrainToViewport=true;if(typeof p.items==="function"){p.itemsFactory=p.items;p.items=[]}if(p.itemDefaults){var m=p.items,o=m.length;while(o--){m[o]=i.extend({},p.itemDefaults,m[o])}}n._super(p);n.classes.add("menu")},repaint:function(){this.classes.toggle("menu-align",true);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){var m=this;m.hideAll();m.fire("select")},load:function(){var n=this,p,m;function o(){if(n.throbber){n.throbber.hide();n.throbber=null}}m=n.settings.itemsFactory;if(!m){return}if(!n.throbber){n.throbber=new k(n.getEl("body"),true);if(n.items().length===0){n.throbber.show();n.fire("loading")}else{n.throbber.show(100,function(){n.items().remove();n.fire("loading")})}n.on("hide close",o)}n.requestTime=p=new Date().getTime();n.settings.itemsFactory(function(q){if(q.length===0){n.hide();return}if(n.requestTime!==p){return}n.getEl().style.width="";n.getEl("body").style.width="";o();n.items().remove();n.getEl("body").innerHTML="";n.add(q);n.renderNew();n.fire("loaded")})},hideAll:function(){var m=this;this.find("menuitem").exec("hideMenu");return m._super()},preRender:function(){var m=this;m.items().each(function(o){var n=o.settings;if(n.icon||n.image||n.selectable){m._hasIcons=true;return false}});if(m.settings.itemsFactory){m.on("postrender",function(){if(m.settings.itemsFactory){m.load()}})}return m._super()}})});h("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(j,i){return j.extend({init:function(o){var m=this,l,n,q,k;function p(r){for(var s=0;s<r.length;s++){n=r[s].selected||o.value===r[s].value;if(n){q=q||r[s].text;m.state.set("value",r[s].value);return true}if(r[s].menu){if(p(r[s].menu)){return true}}}}m._super(o);o=m.settings;m._values=l=o.values;if(l){if(typeof o.value!="undefined"){p(l)}if(!n&&l.length>0){q=l[0].text;m.state.set("value",l[0].value)}m.state.set("menu",l)}m.state.set("text",o.text||q);m.classes.add("listbox");m.on("select",function(s){var r=s.control;if(k){s.lastControl=k}if(o.multiple){r.active(!r.active())}else{m.value(s.control.value())}k=r})},bindStates:function(){var k=this;function m(o,n){if(o instanceof i){o.items().each(function(p){if(!p.hasMenus()){p.active(p.value()===n)}})}}function l(n,q){var p;if(!n){return}for(var o=0;o<n.length;o++){if(n[o].value===q){return n[o]}if(n[o].menu){p=l(n[o].menu,q);if(p){return p}}}}k.on("show",function(n){m(n.control,k.value())});k.state.on("change:value",function(o){var n=l(k.state.get("menu"),o.value);if(n){k.text(n.text)}else{k.text(k.settings.text)}});return k._super()}})});h("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(i){return i.extend({Defaults:{classes:"radio",role:"radio"}})});h("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(j,i){return j.extend({renderHtml:function(){var k=this,l=k.classPrefix;k.classes.add("resizehandle");if(k.settings.direction=="both"){k.classes.add("resizehandle-both")}k.canFocus=false;return('<div id="'+k._id+'" class="'+k.classes+'"><i class="'+l+"ico "+l+'i-resize"></i></div>')},postRender:function(){var k=this;k._super();k.resizeDragHelper=new i(this._id,{start:function(){k.fire("ResizeStart")},drag:function(l){if(k.settings.direction!="both"){l.deltaX=0}k.fire("Resize",l)},stop:function(){k.fire("ResizeEnd")}})},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy()}return this._super()}})});h("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(j){function i(k){var m="";if(k){for(var l=0;l<k.length;l++){m+='<option value="'+k[l]+'">'+k[l]+"</option>"}}return m}return j.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(l){var k=this;k._super(l);if(k.settings.size){k.size=k.settings.size}if(k.settings.options){k._options=k.settings.options}k.on("keydown",function(n){var m;if(n.keyCode==13){n.preventDefault();k.parents().reverse().each(function(o){if(o.toJSON){m=o;return false}});k.fire("submit",{data:m.toJSON()})}})},options:function(k){if(!arguments.length){return this.state.get("options")}this.state.set("options",k);return this},renderHtml:function(){var k=this,l,m="";l=i(k._options);if(k.size){m=' size = "'+k.size+'"'}return('<select id="'+k._id+'" class="'+k.classes+'"'+m+">"+l+"</select>")},bindStates:function(){var k=this;k.state.on("change:options",function(l){k.getEl().innerHTML=i(l.value)});return k._super()}})});h("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(m,l,j){function n(p,o,q){if(p<o){p=o}if(p>q){p=q}return p}function k(p,o,q){p.setAttribute("aria-"+o,q)}function i(v,u){var s,r,p,q,o,t;if(v.settings.orientation=="v"){q="top";p="height";r="h"}else{q="left";p="width";r="w"}t=v.getEl("handle");s=(v.layoutRect()[r]||100)-j.getSize(t)[p];o=(s*((u-v._minValue)/(v._maxValue-v._minValue)))+"px";t.style[q]=o;t.style.height=v.layoutRect().h+"px";k(t,"valuenow",u);k(t,"valuetext",""+v.settings.previewFilter(u));k(t,"valuemin",v._minValue);k(t,"valuemax",v._maxValue)}return m.extend({init:function(p){var o=this;if(!p.previewFilter){p.previewFilter=function(q){return Math.round(q*100)/100}}o._super(p);o.classes.add("slider");if(p.orientation=="v"){o.classes.add("vertical")}o._minValue=p.minValue||0;o._maxValue=p.maxValue||100;o._initValue=o.state.get("value")},renderHtml:function(){var o=this,q=o._id,p=o.classPrefix;return('<div id="'+q+'" class="'+o.classes+'"><div id="'+q+'-handle" class="'+p+'slider-handle" role="slider" tabindex="-1"></div></div>')},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var y=this,w,u,o,v,t,p;function s(A,z,B){return(B+A)/(z-A)}function x(A,z,B){return(B*(z-A))-A}function r(A,B){function z(D){var C;C=y.value();C=x(A,B,s(A,B,C)+(D*0.05));C=n(C,A,B);y.value(C);y.fire("dragstart",{value:C});y.fire("drag",{value:C});y.fire("dragend",{value:C})}y.on("keydown",function(C){switch(C.keyCode){case 37:case 38:z(-1);break;case 39:case 40:z(1);break}})}function q(E,F,D){var z,G,B,A,C;y._dragHelper=new l(y._id,{handle:y._id+"-handle",start:function(H){z=H[o];G=parseInt(y.getEl("handle").style[v],10);B=(y.layoutRect()[p]||100)-j.getSize(D)[t];y.fire("dragstart",{value:C})},drag:function(H){var I=H[o]-z;A=n(G+I,0,B);D.style[v]=A+"px";C=E+(A/B)*(F-E);y.value(C);y.tooltip().text(""+y.settings.previewFilter(C)).show().moveRel(D,"bc tc");y.fire("drag",{value:C})},stop:function(){y.tooltip().hide();y.fire("dragend",{value:C})}})}w=y._minValue;u=y._maxValue;if(y.settings.orientation=="v"){o="screenY";v="top";t="height";p="h"}else{o="screenX";v="left";t="width";p="w"}y._super();r(w,u,y.getEl("handle"));q(w,u,y.getEl("handle"))},repaint:function(){this._super();i(this,this.value())},bindStates:function(){var o=this;o.state.on("change:value",function(p){i(o,p.value)});return o._super()}})});h("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(i){return i.extend({renderHtml:function(){var j=this;j.classes.add("spacer");j.canFocus=false;return'<div id="'+j._id+'" class="'+j.classes+'"></div>'}})});h("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(k,i,j){return k.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var l=this,p=l.getEl(),n=l.layoutRect(),m,o;l._super();m=p.firstChild;o=p.lastChild;j(m).css({width:n.w-i.getSize(o).width,height:n.h-2});j(o).css({height:n.h-2});return l},activeMenu:function(m){var l=this;j(l.getEl().lastChild).toggleClass(l.classPrefix+"active",m)},renderHtml:function(){var l=this,r=l._id,o=l.classPrefix,p;var m=l.state.get("icon"),q=l.state.get("text"),n="";p=l.settings.image;if(p){m="none";if(typeof p!="string"){p=window.getSelection?p[0]:p[1]}p=" style=\"background-image: url('"+p+"')\""}else{p=""}m=l.settings.icon?o+"ico "+o+"i-"+m:"";if(q){l.classes.add("btn-has-text");n='<span class="'+o+'txt">'+l.encode(q)+"</span>"}return('<div id="'+r+'" class="'+l.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(m?'<i class="'+m+'"'+p+"></i>":"")+n+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(l._menuBtnText?(m?"\u00a0":"")+l._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>')},postRender:function(){var l=this,m=l.settings.onclick;l.on("click",function(o){var n=o.target;if(o.control==this){while(n){if((o.aria&&o.aria.key!="down")||(n.nodeName=="BUTTON"&&n.className.indexOf("open")==-1)){o.stopImmediatePropagation();if(m){m.call(this,o)}return}n=n.parentNode}}});delete l.settings.onclick;return l._super()}})});h("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(i){return i.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return true}})});h("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(k,j,i){return k.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(l){var m;if(this.activeTabId){m=this.getEl(this.activeTabId);j(m).removeClass(this.classPrefix+"active");m.setAttribute("aria-selected","false")}this.activeTabId="t"+l;m=this.getEl("t"+l);m.setAttribute("aria-selected","true");j(m).addClass(this.classPrefix+"active");this.items()[l].show().fire("showtab");this.reflow();this.items().each(function(o,n){if(l!=n){o.hide()}})},renderHtml:function(){var m=this,n=m._layout,l="",o=m.classPrefix;m.preRender();n.preRender(m);m.items().each(function(q,p){var r=m._id+"-t"+p;q.aria("role","tabpanel");q.aria("labelledby",r);l+=('<div id="'+r+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+q._id+'" aria-selected="false" tabIndex="-1">'+m.encode(q.settings.title)+"</div>")});return('<div id="'+m._id+'" class="'+m.classes+'" hidefocus="1" tabindex="-1"><div id="'+m._id+'-head" class="'+o+'tabs" role="tablist">'+l+'</div><div id="'+m._id+'-body" class="'+m.bodyClasses+'">'+n.renderHtml(m)+"</div></div>")},postRender:function(){var l=this;l._super();l.settings.activeTab=l.settings.activeTab||0;l.activateTab(l.settings.activeTab);this.on("click",function(o){var n=o.target.parentNode;if(n&&n.id==l._id+"-head"){var m=n.childNodes.length;while(m--){if(n.childNodes[m]==o.target){l.activateTab(m)}}}})},initLayoutRect:function(){var m=this,p,l,o;l=i.getSize(m.getEl("head")).width;l=l<0?0:l;o=0;m.items().each(function(q){l=Math.max(l,q.layoutRect().minW);o=Math.max(o,q.layoutRect().minH)});m.items().each(function(q){q.settings.x=0;q.settings.y=0;q.settings.w=l;q.settings.h=o;q.layoutRect({x:0,y:0,w:l,h:o})});var n=i.getSize(m.getEl("head")).height;m.settings.minWidth=l;m.settings.minHeight=o+n;p=m._super();p.deltaH+=n;p.innerH=p.h-p.deltaH;return p}})});h("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(k,j,i){return k.extend({init:function(m){var l=this;l._super(m);l.classes.add("textbox");if(m.multiline){l.classes.add("multiline")}else{l.on("keydown",function(o){var n;if(o.keyCode==13){o.preventDefault();l.parents().reverse().each(function(p){if(p.toJSON){n=p;return false}});l.fire("submit",{data:n.toJSON()})}});l.on("keyup",function(n){l.state.set("value",n.target.value)})}},repaint:function(){var m=this,o,p,s,n,q=0,l;o=m.getEl().style;p=m._layoutRect;l=m._lastRepaintRect||{};var r=document;if(!m.settings.multiline&&r.all&&(!r.documentMode||r.documentMode<=8)){o.lineHeight=(p.h-q)+"px"}s=m.borderBox;n=s.left+s.right+8;q=s.top+s.bottom+(m.settings.multiline?8:0);if(p.x!==l.x){o.left=p.x+"px";l.x=p.x}if(p.y!==l.y){o.top=p.y+"px";l.y=p.y}if(p.w!==l.w){o.width=(p.w-n)+"px";l.w=p.w}if(p.h!==l.h){o.height=(p.h-q)+"px";l.h=p.h}m._lastRepaintRect=l;m.fire("repaint",{},false);return m},renderHtml:function(){var l=this,n=l.settings,m,o;m={id:l._id,hidefocus:"1"};j.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(p){m[p]=n[p]});if(l.disabled()){m.disabled="disabled"}if(n.subtype){m.type=n.subtype}o=i.create(n.multiline?"textarea":"input",m);o.value=l.state.get("value");o.className=l.classes;return o.outerHTML},value:function(l){if(arguments.length){this.state.set("value",l);return this}if(this.state.get("rendered")){this.state.set("value",this.getEl().value)}return this.state.get("value")},postRender:function(){var l=this;l.getEl().value=l.state.get("value");l._super();l.$el.on("change",function(m){l.state.set("value",m.target.value);l.fire("change",m)})},bindStates:function(){var l=this;l.state.on("change:value",function(m){if(l.getEl().value!=m.value){l.getEl().value=m.value}});l.state.on("change:disabled",function(m){l.getEl().disabled=m.value});return l._super()},remove:function(){this.$el.off();this._super()}})});h("tinymce/Register",[],function(){var i=this||window;var j=function(){return i.tinymce};if(typeof i.define==="function"){if(!i.define.amd){i.define("ephox/tinymce",[],j)}}if(typeof module==="object"){module.exports=window.tinymce}return{}});a(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])})(window);(function(a){var b={};window.tinymce.synoReloadPlugins=function(e,d){var f,c;try{c=SYNO.SDS.Config.FnMap[e].config.version}catch(g){SYNO.Debug("load version of",e,"failed");c=""}if(b[e]!==undefined&&b[e]===c){return}b[e]=c;if(d===undefined){SYNO.Debug("plugins is undefined");return}if(Ext.isEmpty(tinymce.PluginManager.items)){return}if(Ext.isArray(d)){d=d.join(" ")}d=d.trim();if(Ext.isEmpty(d)){return}d=d.split(" ");Ext.each(d,function(h){tinymce.PluginManager.load(h,{prefix:"plugins/",resource:h,suffix:"/plugin.min.js"},Ext.emptyFn,window,true)},this);tinymce.ScriptLoader.loadQueue(Ext.emptyFn,this,Ext.emptyFn,e+c)}})(this);