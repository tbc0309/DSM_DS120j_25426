<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" charset="utf-8">
<title>Портал приложений</title>

<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h1>Портал приложений</h1>
<p>Портал приложений позволяет изменять настройки соединения различных приложений, обеспечивающих прямой доступ к этим приложениям и их запуск (например, File Station) в окнах и вкладках независимого браузера.</p>


<div class="section">
<h4>Примечание.</h4>
<ul>
	<li>Можно редактировать настройки доступа для таких приложений, как Audio Station, Download Station, Surveillance Station, Video Station, File Station и т.&nbsp;д.</li>
</ul>
</div>


<h2><a name="session"></a>Пользовательские псевдонимы</h2>

<p>Каждому приложению, разработанному компанией Synology (например, приложению File Station), можно назначить псевдоним. Пользовательский псевдоним позволяет быстро открывать приложение, используя специальный URL-адрес.</p>

<h4>Пользовательские псевдонимы для приложений</h4>
<ol>
<li>Выберите <strong>Панель управления</strong> &gt; <strong>Портал приложений</strong> &gt; <strong>Приложение</strong>.</li>
<li>Выберите приложение.</li>
<li>Нажмите <b>Редактировать</b> &gt; <strong>Общие</strong>.</li>
<li>Во всплывающем окне выберите <b>Включить пользовательский псевдоним</b> и укажите псевдоним.</li>
<li>Нажмите кнопку <strong>OK</strong>, чтобы сохранить настройки.</li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
<li>У некоторых приложений есть псевдонимы по умолчанию: Audio Station (<strong>audio</strong>), Download Station (<strong>download</strong>), File Station (<strong>file</strong>), Surveillance Station (<strong>cam</strong>) и Video Station (<strong>video</strong>).</li>
<li>Псевдонимы не могут совпадать с именами, зарезервированными системой, браузерами или используемыми другими приложениями, кроме того, их длина должна составлять от 2 до 20 символов.</li>
<li>Псевдонимы могут содержать только буквы разного регистра, цифры и два специальных символа (-), (_).</li>
<li>Они не могут начинаться или заканчиваться специальными символами (-) или (_).</li>
</ul>
</div>

<h4>Доступ к приложениям с помощью псевдонимов</h4>
<p>Настроив псевдоним для приложения (например, File Station), можно быстро открыть приложение, указав URL-адрес в следующем формате: <code>http://DS_IP_ИЛИ_ИМЯ_СЕРВЕРА/ПСЕВДОНИМ/</code> или <code>https://DS_IP_ИЛИ_ИМЯ_СЕРВЕРА/ПСЕВДОНИМ/</code></p>

<p>Например, можно быстро открыть File Station, используя следующие URL-адреса: <code>http://192.168.xx.xx/file/</code> или <code>https://MySynologyNAS/file/</code></p>


<h2><a name="session"></a>Пользовательские порты HTTP/HTTPS</h2>

<p>Каждому приложению, разработанному компанией Synology (например, приложению File Station), можно назначить порт HTTP/HTTPS. Пользовательский порт позволяет быстро открывать приложение, используя специальный URL-адрес.</p>


<h4>Настройка портов HTTP/HTTPS для приложения</h4>
<ol>
<li>Выберите <strong>Панель управления</strong> &gt; <strong>Портал приложений</strong> &gt; <strong>Приложение</strong>.</li>
<li>Выберите приложение.</li>
<li>Нажмите <b>Редактировать</b> &gt; <strong>Общие</strong>.</li>
<li>Во всплывающем окне установите флажок <b>Включить пользовательский порт (HTTP)</b> или <b>Включить пользовательский порт (HTTPS)</b>.</li>
<li>Укажите номер пользовательского порта.</li></ol>
<div class="section">
  <h4>Примечание.</h4>
  <ul>
  <li>Номер порта должен быть в диапазоне от 1 до 65535.</li>
  <li>Следующие порты не включены, поскольку предназначены для системного использования:<ul>
  <li>20, 21, 22, 23, 25, 80, 110, 137, 138, 139, 143, 199, 443, 445, 515, 543, 548, 587, 873, 993, 995, 3306, 3689, 5000, 5001, 5005, 5006, 5335, 5432, 6881, 8080, 7000, 7001, 8081, 9997, 9998, 9999, 50001, 50002</li>
  <li>Порты по умолчанию eMule: 4662 (TCP), 4672 (UDP)</li>
  <li>Диапазон портов FTP по умолчанию: фактический диапазон может отличаться в зависимости от различных моделей.</li>
  
  </ul>
  </li>
  </ul>
</div>


<h4>Доступ к приложениям через порты HTTP/HTTPS</h4>

<p>Настроив порты HTTP/HTTPS для приложения (например, File Station), можно быстро открыть приложение, указав URL-адреса в следующем формате: <code>http://DS_IP_ИЛИ_ИМЯ_СЕРВЕРА:ПОРТ_HTTP</code> или <code>https://DS_IP_ИЛИ_ИМЯ_СЕРВЕРА:ПОРТ_HTTPS</code></p>

<p>Например, можно быстро открыть File Station, используя следующие URL-адреса: <code>http://192.168.xx.xx:7000</code> или <code>https://MySynologyNAS:7001</code></p>

<h4>Настройка сертификата и уровня профиля TLS/SSL для портов HTTPS</h4>
<p>Настроив порт HTTPS для приложения (например, File Station), можно открыть <strong>Панель управления</strong>&nbsp;&gt; <strong>Безопасность</strong>&nbsp;&gt; <strong>Сертификат</strong> и нажать <strong>Настроить</strong>. После этого необходимо найти имя службы, которое будет указано в формате <strong>Название_приложения - ПОРТ_HTTPS</strong>, чтобы настроить используемый сертификат.</p>
<p>Кроме этого, можно открыть <strong>Панель управления</strong>&nbsp;&gt; <strong>Безопасность</strong>&nbsp;&gt; <strong>Дополнительно</strong> и нажать <strong>Пользовательские настройки</strong>. После этого необходимо найти имя службы, которое будет указано в формате <strong>Название_приложения - ПОРТ_HTTPS</strong>, чтобы настроить используемый уровень профиля TLS/SSL.</p>
<p>Например, если в качестве порта HTTPS File Station используется порт 7001, можно открыть две указанные выше страницы настроек и найти для дальнейшей настройки службу под названием «FileStation - 7001».</p>

<h2><a name="session"></a>Пользовательские домены</h2>

<p>Можно связать имя домена с приложением, разработанным Synology, например File Station. Пользовательский домен позволяет быстро открывать приложение через специальный URL-адрес.</p>

<h4>Пользовательские домены для приложений</h4>
<ol>
<li>Выберите <strong>Панель управления</strong> &gt; <strong>Портал приложений</strong> &gt; <strong>Приложение</strong>.</li>
<li>Выберите приложение.</li>
<li>Нажмите <b>Редактировать</b> &gt; <strong>Общие</strong>.</li>
<li>Во всплывающем окне выберите <b>Включить пользовательский домен</b>.</li>
<li>Укажите пользовательский домен.</li>
<li>Для дополнительных настроек можно выбрать <strong>Включить HSTS</strong> или <strong>Включить HTTP/2</strong></li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
<li>Перед настройкой этой функции необходимо запросить имена доменов от провайдеров доменов, чтобы пользователи могли получать доступ к службе из Интернета.</li>
<li>Каждое имя домена может быть использовано только для одного отдельного приложения на Synology NAS.</li>
<li>Если домен не превышает в длину 15&nbsp;символов и соответствует <a href="https://support.microsoft.com/kb/909264" target="_blank">правилам наименования NetBIOS</a>, система автоматически зарегистрирует и распространит имя домена.</li>
<li>При доступе к приложениям по URL-адресам, использующим имена доменов, вы будете направлены через стандартный порт HTTP (80) или HTTPS (443).</li>
<li>Если включить контроль доступа с сертификатом от Let&apos;s Encrypt, могут возникнуть проблемы с автоматическим обновлением сертификата. В этом случае необходимо сначала отключить контроль доступа. Затем выберите <b>Панель управления</b>&nbsp;&gt; <b>Безопасность</b>&nbsp;&gt; <b>Сертификат</b>, нажмите правой кнопкой мыши сертификат Let&apos;s Encrypt, который требуется обновить, и выберите <b>Обновить сертификат</b>. После обновления сертификата можно снова включить контроль доступа.</li>
</ul>

</div>


<h4>Доступ к приложениям через домены</h4>
<p>Настроив домен для приложения (например, file.example.com), можно быстро открыть приложение, указав URL-адрес в следующем формате: <code>http://ДОМЕН_ПРИЛОЖЕНИЯ</code> или <code>https://ДОМЕН_ПРИЛОЖЕНИЯ</code></p>

<p>Например, можно быстро открыть File Station, используя следующие URL-адреса: <code>http://file.example.com</code> или <code>https://file.example.com</code></p>

<p>Если имя домена (например, FileFile) для приложения (например, File Station) соответствует правилам наименования NetBIOS, пользователи Windows смогут получать к нему доступ на Synology NAS в той же локальной сети с таким же URL-адресом: <code>http://FileFile</code> или <code>https://FileFile</code></p>

<h4>Настройка сертификата и уровня профиля TLS/SSL для доменов</h4>
<p>Настроив домен для приложения (например, File Station), можно открыть <strong>Панель управления</strong>&nbsp;&gt; <strong>Безопасность</strong>&nbsp;&gt; <strong>Сертификат</strong> и нажать <strong>Настроить</strong>. После этого необходимо найти имя службы, которое будет указано в формате <strong>Название_приложения - домен</strong>, чтобы настроить используемый сертификат.</p>
<p>Кроме этого, можно открыть <strong>Панель управления</strong>&nbsp;&gt; <strong>Безопасность</strong>&nbsp;&gt; <strong>Дополнительно</strong> и нажать <strong>Пользовательские настройки</strong>. После этого необходимо найти имя службы, которое будет указано в формате <strong>Название_приложения - домен</strong>, чтобы настроить используемый уровень профиля TLS/SSL.</p>
<p>Например, если в качестве домена File Station используется домен file.example.com, можно открыть две указанные выше страницы настроек и найти для дальнейшей настройки службу под названием «FileStation - file.example.com».</p>

<h4>Установка профиля управления доступом</h4>
<p>После установки профиля управления доступом для приложения (например, File Station) пользователи, которым будет отказано в доступе, не смогут открыть данное приложение, используя приведенные в этой статье специальные URL-адреса.</p>
<ol>
<li>Выберите <strong>Панель управления</strong> &gt; <strong>Портал приложений</strong> &gt; <strong>Приложение</strong>.</li>
<li>Выберите приложение.</li>
<li>Нажмите <b>Редактировать</b> &gt; <strong>Общие</strong>.</li>
<li>Во всплывающем окне нажмите <strong>Включить контроль доступа</strong> и выберите профиль управления доступом. Дополнительные сведения о создании профиля управления доступом см. ниже в разделе <a href="#acl">Настройка профилей управления доступом</a>.</li>
<li>Нажмите кнопку <strong>OK</strong>, чтобы сохранить настройки.</li>
</ol>


<h2>Пользовательские правила обратного прокси</h2>
<p>Ваше устройство Synology NAS может выступать в качестве обратного прокси-сервера, передающего запросы из Интернета на устройства в локальной сети. Правила обратного прокси помогают скрыть уязвимые порты от потенциальных угроз, как показано в двух сценариях ниже.</p>

<p>Сценарий&nbsp;1. Предположим, что имеется уязвимый порт 80, к которому нужно запретить внешний доступ в соответствии с правилом брандмауэра. Можно настроить правило обратного прокси, чтобы разрешить доверенным пользователям из Интернета получать доступ к уязвимому порту 80 через другой открытый порт (например, 81). В этом случае доверенные пользователи могут обойти брандмауэр и получить доступ к порту 80.</p>

<p>Сценарий&nbsp;2. Предположим, что имеется уязвимый порт 80, к которому нужно запретить внешний доступ для всех, кроме определенного устройства (например, сервера с именем «MyTrustee»). Правила обратного прокси позволяют получать на порт 80 только трафик от MyTrustee, блокируя трафик от всех других устройств.</p>

<h4>Настройка правил обратного прокси</h4>

<ol>
<li>Выберите <strong>Панель управления</strong> &gt; <strong>Портал приложений</strong> &gt; <strong>Обратный прокси</strong>.</li>
<li>Нажмите <strong>Создать</strong> и задайте следующие параметры на странице <b>Общие</b><ul>
<li><strong>Описание</strong>. Укажите имя, которое поможет вам определить функцию правила.</li>
<li>Укажите правила для <strong>Источника</strong> (устройства, отправляющего запросы из Интернета) и <strong>Целевого устройства</strong> (устройства в локальной сети):<ul>
<li><strong>Протокол</strong>. Протоколы <strong>HTTP</strong> или <strong>HTTPS</strong>, которые используются источником или целевым устройством.</li>

<li><strong>Имя хоста</strong>. Имя исходного или целевого устройства.</li>
<li><strong>Порт</strong>. Порт, который используется исходным или целевым устройством.</li>
<li><strong>Включить HSTS</strong> и <strong>Включить HTTP/2</strong> (только для источника)</li>
</ul>
</li>
</ul>
</li>
<li>Чтобы установить профиль управления доступом, нажмите <strong>Включить контроль доступа</strong> и выберите профиль управления доступом. Дополнительные сведения о создании профиля управления доступом см. ниже в разделе <a href="#acl">Настройка профилей управления доступом</a>.</li></li>
    
<div class="section">
    <h4>Примечание.</h4>
    <ul>
      <li>Нажмите <strong>WebSocket</strong> в раскрывающемся меню <strong>Создать</strong> для быстрого создания заголовка функции WebSocket, чтобы разрешить поддержку обратного прокси для WebSocket.</li>
    </ul>
</div>
  

<li>Чтобы настроить другие функции обратного прокси, перейдите на страницу <b>Дополнительные параметры</b>.<ul>
    <li><b>Время ожидания прокси-соединения (сек.)</b>. Установите ограничение времени подключения прокси-сервера к целевому серверу.</li>
    <li><b>Время ожидания отправки на прокси-сервер (сек.)</b>. Установите ограничение времени отправки запроса прокси-сервером на целевой сервер.</li>    
    <li><b>Время ожидания чтения с прокси-сервера (сек.)</b>. Установите ограничение времени ожидания прокси-сервером ответа от целевого сервера.</li>  
    <li><b>Версия прокси-сервера HTTP</b>. Выберите версию сервера HTTP, который используется для обмена данными между прокси-сервером и целевым сервером.</li>        
    <li><b>Использовать страницу ошибки, отправленную целевым сервером</b>. После установки этого параметра код ошибки HTTP, возвращаемый сервером, будет содержать веб-страницу ошибки целевого сервера. В противном случае будет отображаться страница ошибки Synology NAS.</li>
    </ul>
       
    
<li>Нажмите кнопку <strong>OK</strong>, чтобы сохранить настройки.</li>
</ol>


<h2><a name="acl"></a>Настройка профилей управления доступом</h2>

<p>Если необходимо ограничить доступ пользователя к порталу приложений или обратным прокси-серверам на основании исходного IP-адреса пользователя, можно создать профиль управления доступом. Пользователь, которому будет отказано в доступе, увидит страницу отказа в доступе.</p>

<h4>Создание профиля управления доступом</h4>
<ol>
 <li>Откройте <strong>Панель управления</strong>&nbsp;&gt; <strong>Портал приложений</strong>&nbsp;&gt; <strong>Профиль управления доступом</strong>.</li>
 <li>Нажмите <strong>Создать</strong>. Во всплывающем окне можно настроить правила для нового профиля.</li>
 <li>Нажмите <strong>Создать</strong>, чтобы создать новое правило. Правила будут применяться по приоритету сверху вниз, определяя разрешения на доступ.</li>
 <li>Чтобы отредактировать правило, дважды нажмите его. Чтобы удалить правила, выберите их и нажмите <strong>Удалить</strong>.</li>
 <li>Чтобы сохранить список правил в виде нового профиля, нажмите <strong>ОК</strong>.</li>
 <li>Чтобы переименовать профиль, нажмите поле имени.</li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
	<li>Если поле имени хоста оставить пустым, правило будет применяться ко всем источникам.</li>
	<li>Если включить контроль доступа с сертификатом от Let&apos;s Encrypt, могут возникнуть проблемы с автоматическим обновлением сертификата. В этом случае необходимо сначала отключить контроль доступа. Затем выберите <b>Панель управления</b>&nbsp;&gt; <b>Безопасность</b>&nbsp;&gt; <b>Сертификат</b>, нажмите правой кнопкой мыши сертификат Let&apos;s Encrypt, который требуется обновить, и выберите <b>Обновить сертификат</b>. После обновления сертификата можно снова включить контроль доступа.</li>
	<li>Чтобы применять фильтрацию по белому списку и активировать правила, помимо создания правил для разрешенных источников, необходимо установить правила для запрещенных источников. <br/>Например, чтобы разрешить только источник <code>http://192.168.xx.xx</code>, выполните следующее.<ol>
	<li>Добавьте <code>http://192.168.xx.xx</code> в качестве разрешенного источника.</li>
	<li>Добавьте новое правило и установите для него значение «Запретить».</li>
	</ol>
	
</ul>
</div>

</body> </html>
