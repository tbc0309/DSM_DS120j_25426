<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>

<h2>Кэш SSD</h2>
<p>Кэш SSD может повысить производительность произвольного доступа за счет сохранения часто используемых данных в кэше SSD. Кэш SSD может быть подключен в томе или iSCSI LUN (уровень блоков).</p>

<p>Цель использования кэша SSD заключается в повышении производительности произвольного доступа к небольшим частям данных, которые часто используются в пространстве хранения. Например, схемы объемных последовательных операций чтения или записи (такие как потоковая обработка HD-видео) и чтения полностью случайных данных испытывают нехватку схем повторного чтения, и, таким образом, не получают значительных преимуществ от использования кэша SSD. Для основных областей использования рекомендуется включить параметр <b>Пропустить последовательный ввод/вывод</b> для того, чтобы эта последовательная операция ввода/вывода могла по-прежнему проходить через накопители пространства хранения.</p>

<div class="section"><h4>Примечание.</h4>
<ul>
	<li>Кэш SSD поддерживается только в некоторых моделях. Сведения о поддержке кэша SSD в вашей модели представлены в <a href="https://www.synology.com/knowledgebase/DSM/tutorial/General/Which_Synology_NAS_models_support_SSD_cache" target="_blank">этой статье</a>.</li>
	<li>Рекомендуется выбрать совместимые твердотельные диски для использования в кэше SSD для предотвращения проблем с Synology NAS.</li>
	<li>Чтобы узнать максимальный размер кэша SSD, поддерживаемый на вашем устройстве Synology NAS, обратитесь к разделу характеристик продуктов на <a href="http://www.synology.com/" target=_blank>веб-сайте Synology</a>.</li>
</ul>
</div>

<h3>Типы кэша SSD</h3>
<p>Существует два типа кэша SSD, и оба этих типа используют алгоритм LRU (наиболее давно использовавшиеся) для замены данных в кэше.</p>
<ul>
	<li><strong>Кэш только для чтения</strong> может состоять из 1 или 12 твердотельных дисков (SSD), смонтированных в базовую конфигурацию или конфигурацию RAID 0 соответственно. Этот тип кэша повышает производительность произвольного доступа для чтения в хранилище, где он смонтирован.</li>
	<li><strong>Кэш чтения-записи</strong> можно использовать в конфигурации RAID 1 / RAID 5 / RAID 6 в зависимости от количества твердотельных дисков (до 12 дисков) для повышения производительности произвольного доступа для чтения и записи хранилища, в котором он установлен.</li>
</ul>

<div class="section"><h4>Примечание.</h4>
<ul>
	<li>Кэш только для чтения на твердотельных дисках копирует данные из тома, что позволяет избежать повреждения данных даже в случае аварийного сбоя кэша.</li>
	<li>При ограничении функциональности кэша чтения-записи SSD активируется функция <b>Автоматический механизм защиты</b>. Функция кэширования новых модулей ввода-вывода будет отключена, и система начнет записывать (т. е. синхронизировать) кэшированные данные с SSD на жесткие диски. После завершения синхронизации данных даже в случае повреждения кэша чтения-записи данные не будут утеряны.</li>
	<li>В обычной ситуации кэш чтения-записи SSD содержит новые данные, которые не были синхронизированы на жесткий диск. Не извлекайте диски SSD из Synology NAS (даже если система отключена) до удаления кэша из Диспетчера хранения. В противном случае том может быть поврежден.</li>
</ul>
</div>

<h3>Требования к памяти</h3>
<p>Требования к памяти зависят от процессора вашего устройства Synology NAS. Сведения о том, какой процессор используется в вашей модели Synology NAS, представлены в <a href="https://www.synology.com/knowledgebase/DSM/tutorial/General/What_kind_of_CPU_does_my_NAS_have" target="_blank">данной статье</a>.</p> 

<h4>Модели с процессорами Alpine:</h4>
	<p>Каждый 1&nbsp;ГБ кэша SSD требует примерно 416&nbsp;КБ системной памяти (учитывается и расширяемая память), а максимальный размер кэша составляет 930&nbsp;ГБ. Поэтому если конфигурация кэша только для чтения составляет 2 x 128 ГБ SSD, общий размер кэша будет составлять 256 ГБ и потребует минимум 104 МБ памяти; если конфигурация кэша чтения-записи составляет 2 x 128 ГБ SSD, то общий размер кэша будет составлять 128 ГБ и потребует минимум 52 МБ памяти. Если памяти недостаточно, создание кэша SSD будет запрещено, либо его размер будет ограничен.</p>

<h4>Все остальные модели:</h4>
	<p>Кэш SSD требует определенного объема системной памяти в зависимости от размера кэша, поэтому установка кэша SSD большой емкости может потребовать увеличения памяти на устройстве Synology NAS. Для стабильной и быстрой работы системы для кэша SSD можно использовать не более 1/4 системной памяти.</p>
	
	<p>Каждый 1&nbsp;ГБ кэша SSD требует примерно 416&nbsp;КБ системной памяти (можно учитывать расширяемую память).<br><span class="note_head">Примечание. </span>Это не относится к кэшам SSD для чтения-записи, созданным в DSM 5.1 и более ранних версиях. То есть для каждого 1 ГБ кэша SSD, созданного в версии более ранней, чем DSM 5.2, будет по-прежнему требоваться 4 МБ системной памяти даже при использовании в среде DSM 5.2.</p>
	
	<p>Поэтому если конфигурация кэша только для чтения составляет 2 x 128 ГБ SSD, общий размер кэша будет составлять 256 ГБ и потребует минимум 104 МБ памяти; если конфигурация кэша чтения-записи составляет 2 x 128 ГБ SSD, то общий размер кэша будет составлять 128 ГБ и потребует минимум 52 МБ памяти. Если памяти недостаточно, создание кэша SSD будет запрещено, либо его размер будет ограничен.</p>

<h3>Частота попаданий в кэш</h3>
<p>Кэш SSD по умолчанию ускоряет только произвольные операции ввода-вывода и не ускоряет последовательные операции ввода-вывода. Частоту попаданий в кэш SSD можно рассчитать по следующей формуле:</p>
<ul>
	<li>Частота попаданий в кэш SSD только для чтения = количество ускоренных произвольных операций чтения / общее количество произвольных операций чтения * 100%</li>
	<li>Частота попаданий в кэш SSD для чтения и записи = количество ускоренных произвольных операций чтения и записи / общее количество произвольных операций чтения и записи * 100%</li>
</ul>

<h3>Управление кэшем SSD</h3>
<h4>Подключение кэша SSD</h4>
	<ol>
	  <li>Установите твердотельные накопители (SSD) в Synology NAS. Сначала ознакомьтесь с указанными выше примечаниями.</li>
	  <li>Выберите <strong>Диспетчер хранения</strong> &gt; <strong>Кэш SSD</strong>. Нажмите <b>Создать</b>.</li>
	<li>Выберите режим кэша (доступно только для моделей, поддерживающих кэш чтения-записи).</li>
	<li>Откройте раскрывающееся меню и выберите том или iSCSI LUN (уровень блоков), к которому необходимо подключить кэш SSD.</li>
	<li>В списке выберите твердотельные накопители (SSD). Данные на твердотельных накопителях (SSD) будут удалены, поэтому убедитесь, что на них нет важных данных.</li>
	<li>Нажмите <b>Применить</b>.</li>
	</ol>

<h4>Отмена кэширования последовательного ввода/вывода</h4>
	<p>Если целевой том или iSCSI LUN (уровень блоков) имеет высокую эффективность последовательного ввода-вывода, можно остановить для кэша SSD кэширование последовательного ввода-вывода и получить доступ к данным непосредственно с дисков для повышения скорости и производительности.</p>
	<ol>
	<li>Нажмите <strong>Настроить</strong>, чтобы открыть окно конфигурации.</li>
	<li>Установите флажок <strong>Пропустить последовательный ввод/вывод</strong>.</li>
	</ol>

<h4>Удаление кэша SSD</h4>
	<ol>
	<li>Нажмите <b>Удалить</b>, чтобы полностью удалить кэш SSD с устройства Synology NAS.</li>
	</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
    <li>Кэш чтения-записи следует удалять только в указанном порядке (даже если устройство Synology NAS выключено). В противном случае произойдет сбой тома, поскольку частичные данные находятся только в кэше.</li>
	<li>При подключении или удалении кэша SSD система остановит все соответствующие службы (общие папки, установленные пакеты, текущие соединения и др.)</li>
	<li>Если кэш чтения-записи в хранилище при загрузке не обнаруживается, система не выполнит подключение этого хранилища. Найдите и переустановите твердотельные накопители на устройстве Synology NAS и выполните перезагрузку для подключения емкости хранения.</li>
	<li>Перед отключением соответствующих дисков SSD обязательно надлежащим образом удалите кэш чтения-записи дисков SSD. В случае неправильного отключения дисков SSD (например, во время использования кэша или отключения системы) данные, хранящиеся в целевом томе или iSCSI LUN, будут повреждены.</ul>
</div>
 
<h4>Отмена удаления кэша SSD</h4> 
<ol>
    <li>Нажмите <b>Отменить удаление</b>, чтобы отменить операцию удаления кэша.</li>
    </ol>    

<h4>Восстановление кэша SSD</h4>
	<ul>
		<li><strong>Для кэша чтения-записи:</strong> Если один из твердотельных накопителей (SSD) поврежден, выполните указанные ниже действия для его восстановления.<ol>
			<li>Замените неисправный твердотельный накопитель (SSD) новым. (Новый твердотельный накопитель (SSD) должен быть той же модели и размера, что и старый.)</li>
			<li>Нажмите кнопку <b>Восстановить</b>.</li>
			<li>Выберите твердотельный накопитель (SSD) из списка.</li>
			<li>Нажмите <b>Применить</b>.</li>
			</ol></li>
		<li><strong>Для кэш только для чтения:</strong> Если поврежден один из твердотельных накопителей (SSD), удалите кэш и замените неисправный твердотельный накопитель (SSD). Нажмите <strong>Создать</strong> для создания новой конфигурации кэша.</li>
	</ul>

<h3>Справка по твердотельным кэш-накопителям</h3>
<p>Данная функция позволяет вычислить и просмотреть общий размер и количество файлов на определенном томе, к которым в последнее время осуществлялся доступ. Если вы еще не создали кэши SSD в выбранном томе, данную информацию можно использовать в качестве справки при оценке количества кэшей SSD для вашей системы. Если вы ранее создали кэш SSD в выбранном томе, здесь будут также отображаться анализ и использование кэша.</p>

<h4>Использование Справки по твердотельным кэш-накопителям</h4>
	<ol>
	<li>Нажмите <b>Справка по твердотельным кэш-накопителям</b>, чтобы открыть мастер.</li>
	<li>Выберите том для расчета и нажмите <b>Далее</b>.</li>
	<li>Мастер автоматически начнет подсчет общего размера и количества файлов, к которым в последнее время осуществлялся доступ в выбранном томе. Время расчета может отличаться в зависимости от среды.</li>
	</ol>
