 <!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


<title>Исправление ошибок данных</title>
<meta name="author" content="Synology Inc.">
<meta name="description" content="Data scrubbing is a data maintenance feature that inspects volumes or disk groups and repairs any detected data inconsistencies.">


<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h2>Исправление ошибок данных</h2>

<h3>Исправление ошибок данных</h3>
<p>Исправление ошибок данных&nbsp;&mdash; это функция обслуживания данных, проверяющая пулы ресурсов хранения. Последовательно выполняются два типа исправления ошибок данных:</p>

<ul>
<li><strong>Исправление ошибок данных файловой системы</strong>. Эту функцию можно использовать для проверки томов в файловой системе Btrfs. Если будут обнаружены данные, не соответствующие контрольной сумме, система попытается восстановить эти данные из резервной копии, а путь к файлу будет зарегистрирован в Центре журналов.</li>
<li><strong>Исправление ошибок данных RAID</strong>. Эту функцию можно использовать с пулами ресурсов хранения, использующими SHR (из трех или более дисков), RAID 5 или RAID 6. Она может исправить обнаруженные несоответствия данных.</li>
</ul>

<p>Рекомендуется регулярно выполнять исправление ошибок данных, чтобы поддерживать их согласованность и избежать утери критически важных данных в случае отказа диска.</p>

<div class="section">
<h4>Примечание.</h4>
	<ul>
	<li>Исправление ошибок данных и связанные с ним функции, описанные в этой статье, доступны только в некоторых моделях.</li>
	<li>Исправление ошибок данных невозможно выполнить, если пулы ресурсов хранения находятся в состоянии <strong>Поврежден</strong> или <b>Неисправен</b>.</li>
	<li>Если для общей папки не включена <b>контрольная сумма данных для дополнительной целостности данных</b>, во время исправления ошибок данных файловой системы данные не удастся проверить и исправить в папке из-за недостатка контрольных сумм.</li>
	</ul>
</div>

<h3>Исправление ошибок данных по расписанию</h3>
<p>Можно настроить расписание исправления ошибок данных. Система будет запускать исправление ошибок данных в соответствии с вашими настройками.</p>
<h4>Создание расписания для исправления ошибок данных</h4>
<ol>
<li>Откройте <strong>Диспетчер хранения</strong>.</li>
<li>Выберите <strong>Пул ресурсов хранения</strong>&nbsp;&gt; <strong>Исправление ошибок данных</strong>.</li>
<li>Нажмите <strong>Настроить расписание</strong>.</li>
<li>Установите флажок <strong>Включить исправление ошибок данных по расписанию</strong>.</li>
	<li>Укажите значения параметров <strong>Частота</strong>, <strong>Дата начала</strong> и <strong>Время сеанса</strong>.</li>
<li>Откройте вкладку <strong>Выбрать целевой объект</strong>.<li>Выберите пул ресурсов хранения, в котором необходимо выполнить исправление ошибок данных.</li>
<li>Нажмите <strong>OK</strong>.</li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
<li>Пул ресурсов хранения можно добавить в расписание, только если он находится в состоянии <b>Нормальный</b> и поддерживает исправление ошибок данных.</li>	
<li>Если система была обновлена и ее версия выше, чем 6.1, пулы ресурсов хранения, поддерживающие очистку данных, по умолчанию добавляются в расписание.</li>
<li>Если расписание настроено в версии 6.1, расписание автоматически создается с предыдущими настройками.</li>	
</ul></div>

<h4>Добавление пула ресурсов хранения в расписание и его удаление из расписания</h4>

<ol>
<li>Нажмите <strong>Настроить расписание</strong>.</li>
<li>Откройте вкладку <strong>Выбрать целевой объект</strong>.</li>	
<li>Установите или снимите флажок рядом с пулом ресурсов хранения, чтобы добавить его в расписание или удалить из расписания.</li>
<li>Нажмите <strong>OK</strong>.</li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
<li>Пул ресурсов хранения нельзя добавить в расписание или удалить из него, если в данный момент для этого пула вручную запущено исправление ошибок данных.</li>
<li>Если удалить из расписания пул ресурсов хранения, находящийся в процессе запланированного исправления ошибок данных, операция исправления будет отменена.</li>
</ul></div>

<h4>Изменение параметров расписания</h4>

<ol>
<li>Нажмите <strong>Настроить расписание</strong>.</li>
<li>Измените параметры «Частота», «Время начала» и «Время сеанса».</li>
<li>Нажмите <strong>OK</strong>.</li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
  <li>Если изменить параметр <strong>Дата начала</strong>, операция исправления ошибок данных по расписанию будет отменена, и исправление ошибок данных будет перезапущено в соответствии с новой датой начала.</li>
</ul>
</div>	

<h4>Приостановление расписания</h4>

<ol>
<li>Выберите пул ресурсов хранения, для которого выполняется исправление ошибок данных.</li>
<li>Выберите <strong>Приостановить расписание</strong> в раскрывающемся списке <b>Действие</b>.</li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>
<li>Чтобы возобновить расписание исправления ошибок данных, выберите <strong>Возобновить расписание</strong> в списке <b>Действие</b>. В противном случае расписание останется приостановленным.</li>	
</ul></div>
	
<h3>Запуск исправления ошибок данных вручную</h3>

<p>Если система обнаружила отклонения в пространстве хранилища, можно попытаться восстановить данные, запустив очистку данных вручную.</p>	
	
<h4>Запуск очистки данных вручную</h4>

<ol>
	<li>Откройте <strong>Диспетчер хранения</strong>.</li>
	<li>Выберите <strong>Пул ресурсов хранения</strong>&nbsp;&gt; <strong>Исправление ошибок данных</strong>.</li>
	<li>Выберите пул ресурсов хранения, в котором необходимо выполнить исправление ошибок данных.</li>
	<li>В раскрывающемся меню <strong>Действие</strong> выберите <strong>Запуск вручную</strong>.</li>
</ol>

<div class="section">
<h4>Примечание.</h4>
<ul>

<li>Если работа системы была завершена до того, как завершилось исправление ошибок данных, результаты могут быть частично потеряны и потребуется перезапустить исправление ошибок данных вручную.</li>
<li>Если время ручного запуска исправления ошибок данных пересекается с расписанием, исправление по расписанию завершится только после исправления, запущенного вручную.</li>
<li>Исправление ошибок данных может влиять на производительность системы, поэтому при отсутствии необходимости не рекомендуется запускать исправление ошибок данных сразу в нескольких пулах ресурсов хранения.</li>	
</ul></div>	

<h4>Приостановление расписания для пула хранения, когда исправление ошибок данных запущено вручную</h4>	
<ol>
<li>Выберите нужный пул ресурсов хранения.</li>
<li>В раскрывающемся меню <b>Действие</b> выберите <b>Приостановить</b>.</li>	
	</ol>	
</body>
</html>
