<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>DSM ヘルプ - SSO クライアント</title>
<meta name="author" content="Synology Inc.">
<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>

<h2>SSO クライアント</h2>

<h3>ドメイン/LDAP SSO クライアント</h3>

<p>Synology NAS が SSO サーバーと同じドメインまたは LDAP サービスに繋がれている場合、Synology NAS を SSO クライアントとして設定することができます。 SSO サーバーに自分のログイン情報を使ってログインすると、Synology NAS が提供するサービスにアクセスすることができます。</p>

<p>アクセスする前に、Synology NAS が SSO サーバーと同じドメインまたは LDAP サービスに繋がれているか確認してください。</p>

<h4>Synology NAS を SSO クライアントとして設定する：</h4>
<ol>
	<li><strong>[コントロールパネル]</strong> &gt;<strong>[ドメイン/LDAP]</strong> &gt; <strong>[SSO クライアント]</strong>を選択します。</li>
	<li><strong>[SSO サービスを有効にする] </strong>のチェックボックスを選択します。</li>
	<li>チェックボックスの下にある <strong>[SSO サーバーの URL]</strong> と <strong>[アプリケーション ID]</strong> を指定します。
		<div class="section"><h4>注意：</h4>
		<p>アプリケーション ID を取得するには、次のいずれかの方法に従ってください。</p>
		<ul>
			<li><strong>方法 1：</strong>
				<ol>
					<li>SSO サーバーとして実行する DSM にログインします。</li>
					<li>クライアント アプリケーションとしての役割をする Synology NAS を SSO Server アプリケーション リストに追加します。 詳しい手順については、<strong>[SSO Server]</strong> &gt; <strong>[アプリケーション リスト]</strong>の順に進んで、ヘルプ記事を参照してください。</li>
					<li>Synology NAS が SSO サーバーが追加されたら、SSO Server が割り当てたアプリケーション ID をコピー・アンド・ペーストします。</li>
				</ol>
			</li>
			<li><strong>方法 2：</strong>
				<ol>
					<li><strong>SSO サーバーの URL</strong>* を入力した後、アプリケーション ID 欄の横にある <strong>[クイック登録]</strong> をクリックします。</li>
					<li>登録欄の <strong>[サーバーの管理者]</strong> および <strong>[パスワード]</strong> に、SSO サーバーの管理者アカウントのログイン情報を入力します。</li>
					<li><strong>[アプリケーション名]</strong> 欄にクライアント アプリケーションの名前を指定します。</li>
					<li><strong>[転送 URI]</strong> が Synology NAS のログインページに転送されるか確認してください。</li>
					<li><strong>[OK]</strong> をクリックすると、Synology NAS が SSO Server 追加されます。アプリケーション ID は自動的に記入されます。</li>
				</ol>
			</li>
		</ul>
		<p>______</p><p style="margin-left: 20px; text-indent: -10px;">* 各 SSO クライアントを設定する場合は、同じ SSO サーバーの URL（ホスト名または IP）を入力する必要があります。</p>
		</div>
	</li>
	<li><strong>[適用]</strong> をクリックして、設定を保存します。</li>
</ol>

<div class="section"><h4>注意：</h4>
<ul>
	<li>SSO サーバーが HTTPS プロトコルを使用する場合、信用できる証明書のデフォルトによってSSO ログインはブラウザによってブロックされます。</li>
	<li>HTTP プロトコルを介して SSO サーバーにアクセスする場合、Synology NAS（SSO クライアントとして設定）が HTTPS 接続を使用するときには、信頼できない接続を使用するためにブラウザの設定を行う必要があります。</li>
	<li>DSM の <strong>[コントロールパネル]</strong> &gt; <strong>[セキュリティ]</strong> &gt; <strong>[セキュリティ]</strong> で <strong>[HTTP Content Security Policy (CSP) ヘッダーでセキュリティを高める]</strong> にチェックマークが付いている場合は、SSO サーバーの IPv6 フォーマットの IP アドレスはサポートされません。</li>
</ul>
</div>

<h3>Azure AD SSO クライアント</h3>

<p>Synology NAS が Azure AD ドメインに<strong>site-to-site VPN</strong> または Windows ドメイン (Azure AD と同期している) に加わっている場合、Synology NAS を Azure SSO クライアントとして設定できます。 Azure SSO サーバーに自分のログイン情報を使ってログインすると、Synology NAS が提供するサービスにアクセスすることができます。</p>

<p>開始する前に、Synology NAS が Azure AD ドメインに VPN または Windows ドメイン (既に Azure AD ドメインに同期している) 経由で加わっていることを確認してください。</p>

<h4>Synology NAS を Azure SSO クライアントとして設定する方法：</h4>
<ol>
	<li><strong>[コントロールパネル]</strong> &gt;<strong>[ドメイン/LDAP]</strong> &gt; <strong>[SSO クライアント]</strong>を選択します。</li>
	<li><strong>[Azure SSO サービスを有効にする] </strong>のチェックボックスを選択します。</li>
	<li><strong>[クライアント ID]</strong>、<strong>[クライアントの秘密]</strong>、<strong>[テナント ID]</strong>、および<strong>[転送 URI]</strong>を対応するフィールドで指定します。</li>
	<li><strong>[適用]</strong> をクリックして、設定を保存します。</li>
</ol>

<div class="section"><h4>注意：</h4>
<ul>
	<li><a href="#clientid">クライアント ID/秘密</a> と <a href="#tenantid">テナント ID</a>を取得するための詳細な手順は下記のセクションを参照してください。</li>
	<li>セキュリティ上の理由により、ユーザーは <strong>HTTPS</strong>を通して .Azure SSO で DSM にサインインする必要があります。</li>
</ul>
</div>

<h4><a id="clientid"></a>アプリケーションのクライアント ID とクライアントの秘密を取得する方法：</h4>
<ol>
	<li>Azure クラシック ポータル に admin アカウントでサインインしてください。</li>
	<li><strong>[ACTIVE DIRECTORY]</strong>で、ユーザー アカウントが含まれているディレクトリを選択します。</li>
	<li><strong>[アプリケーション]</strong>タブに行き、下部の<strong>[追加]</strong>をクリックして新しいアプリケーションを追加します。</li>
	<li><strong>[私の組織が開発中のアプリケーションを追加]</strong>をクリックします。.</li>
	<li>アプリケーションの<strong>[名前]</strong>を記入し、<strong>[Web アプリケーションおよび／もしくは Web API]</strong>のチェックボックスを選択します。</li>
	<li><strong>[サインオン URL]</strong>に記入します。 例えば、<em>https://yourdomain:port/webman/login.cgi</em></li>
	<li><strong>[APP ID URI]</strong>に記入します。 例えば、<em>https://yourdomain:port/</em></li>
	<li>セットアップが完了したら、アプリケーションを選択してください。そうすれば<strong>[クライアント ID]</strong>が見つかります。.</li>
	<li>キーを追加し、<strong>[保存]</strong>をクリックします。 その後、<strong>[クライアントの秘密]</strong>をプレーン テキストで取得できます。</li>
</ol>

<h4><a id="tenantid"></a>アプリケーションのテナント ID を取得する方法：</h4>
<ol>
	<li>上記セクションのステップ1～3を繰り返します。</li>
	<li><strong>[アプリケーション]</strong>タブでアプリケーションを選択し、下部の<strong>[エンドポイントの表示]</strong>をクリックします。</li>
	<li>ID のシーケンスがすべてのテキスト フィールドに表示されます。 ID を<strong>[テナント ID]</strong>フィールドにコピー・アンド・ペーストします。</li>
</ol>

<div class="section"><h4>注意：</h4>
<ul>
	<li>Microsoft Azure™ のユーザー インターフェイスは予告なく変更されることがあります。</li>
	<li>Azure AD のメカニズムの詳細な情報は以下の Web ページを参照してください。
		<ul>
			<li><a href="https://docs.microsoft.com/en-us/azure/active-directory/" target="_blank">Azure ディレクトリ ドキュメント</a></li>
			<li><a href="https://docs.microsoft.com/en-us/azure/active-directory-domain-services/" target="_blank">Active Directory ドメイン サービス ドキュメント</a></li>
		</ul>
	</li>
</ul>
</div>

</body>
</html>