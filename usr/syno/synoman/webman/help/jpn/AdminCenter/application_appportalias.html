<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>アプリケーション ポータル</title>

<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h1>アプリケーション ポータル</h1>
<p>アプリケーション ポータルを活用すると、さまざまなアプリケーションの接続設定を行うことができます。そのため、これらのアプリケーション (File Station など) を個別のブラウザ タブや画面で直接アクセス、起動することができるようになります。</p>


<div class="section">
<h4>注：</h4>
<ul>
	<li>Audio Station、Download Station、Surveillance Station、Video Station、File Station、その他の各種アプリケーションへのアクセス設定を編集できます。</li>
</ul>
</div>


<h2><a name="session"></a>エイリアスのカスタマイズ</h2>

<p>File Station など、Synology が開発したアプリケーションにエイリアスを割り当てることができます。 カスタム エイリアスがあると、特別な URL からアプリケーションを開くことができます。</p>

<h4>アプリケーションのエイリアスをカスタマイズする：</h4>
<ol>
<li><strong>[コントロール パネル]</strong> &gt; <strong>[アプリケーション ポータル]</strong> &gt; <strong>[アプリケーション]</strong>の順に進みます。</li>
<li>アプリケーションを選択します。</li>
<li><b>[編集]</b> > <strong>[全般]</strong> をクリックします。</li>
<li>ポップアップ ウィンドウで <b>[カスタマイズしたエイリアスを有効にする]</b> を選択し、エイリアスを指定します。</li>
<li><strong>[OK]</strong>をクリックして、設定を保存します。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
<li>一部のアプリケーションにはデフォルトのエイリアスがあります。 Audio Station (<strong>audio</strong>)、Download Station (<strong>download</strong>)、File Station (<strong>file</strong>)、Surveillance Station (<strong>cam</strong>)、Video Station (<strong>video</strong>)。</li>
<li>エイリアス名はシステム、ブラウザ用に予約されているものや、他のアプリケーションが使用しているものと同じ名前を使用することはできません。また文字数は 2 文字から 20 の範囲で指定しなければなりません。 </li>
<li>エイリアスは大文字と小文字、数字、2 個の特殊文字 (-) と (_) を混ぜて作成します。</li>
<li>特殊文字 (-) または (_) を先頭と末尾に使用することはできません。</li>
</ul>
</div>

<h4>エイリアスでアプリケーションにアクセスする：</h4>
<p>アプリケーション (File Station) にエイリアスを設定すると、次のフォーマットで URL を入力することでアプリケーションをすばやく開くことができます： <code>http://DS_IP_OR_SERVER_NAME/ALIAS/</code> または <code>https://DS_IP_OR_SERVER_NAME/ALIAS/</code></p>

<p>たとえば、次の URL で File Station にアクセスできます： <code>http://192.168.xx.xx/file/</code> または <code>https://MySynologyNAS/file/</code></p>


<h2><a name="session"></a>HTTP/HTTPS ポートのカスタマイズ</h2>

<p>File Station など、Synology が開発したアプリケーションに HTTP/HTTPS ポートを割り当てることもできます。 カスタム ポートがあると、特別な URL からアプリケーションを開くことができます。</p>


<h4>アプリケーションの HTTP/HTTPS ポートをカスタマイズする：</h4>
<ol>
<li><strong>[コントロール パネル]</strong> &gt; <strong>[アプリケーション ポータル]</strong> &gt; <strong>[アプリケーション]</strong>の順に進みます。</li>
<li>アプリケーションを選択します。</li>
<li><b>[編集]</b> > <strong>[全般]</strong> をクリックします。</li>
<li>ポップアップ ウィンドウで <b>[カスタマイズしたポート (HTTP) を有効にする]</b> または <b>[カスタマイズしたポート (HTTPS) を有効にする]</b> にチェックマークを付けてください。</li>
<li>カスタム ポート番号を指定します。</li></ol>
<div class="section">
  <h4>注：</h4>
  <ul>
  <li>ポート番号の範囲は 1～65535 です。</li>
  <li>以下のポートはシステム使用のために予約されているので除外してください。
  <ul>
  <li>20, 21, 22, 23, 25, 80, 110, 137, 138, 139, 143, 199, 443, 445, 515, 543, 548, 587, 873, 993, 995, 3306, 3689, 5000, 5001, 5005, 5006, 5335, 5432, 6881, 8080, 7000, 7001, 8081, 9997, 9998, 9999, 50001, 50002</li>
  <li>eMule のデフォルト ポート： 4662 (TCP)、4672 (UDP)</li>
  <li>デフォルトの FTP ポート範囲： 実際の範囲は、モデル毎に異なります。</li>
  
  </ul>
  </li>
  </ul>
</div>


<h4>HTTP/HTTPS ポートでアプリケーションにアクセスする：</h4>

<p>アプリケーション (例えば、File Station) に HTTP/HTTPS ポートを設定すると、次のフォーマットで URL を入力することでアプリケーションをすばやく開くことができます： <code>http://DS_IP_OR_SERVER_NAME:HTTP_PORT</code> または <code>https://DS_IP_OR_SERVER_NAME:HTTPS_PORT</code></p>

<p>たとえば、次の URL で File Station にアクセスできます： <code>http://192.168.xx.xx:7000</code> または <code>https://MySynologyNAS:7001</code></p>

<h4>HTTPS ポートに関する証明書および TLS/SSL プロファイル レベルを構成する方法：</h4>
<p>アプリケーション (例えば、File Station) の HTTPS ポートを構成後、<strong>[コントロール パネル]</strong> > <strong>[セキュリティ]</strong> > <strong>[証明書]</strong>の順に進んで、<strong>[構成]</strong>をクリックします。 次に<strong>Application_Name - HTTPS_PORT</strong>のフォーマットのサービス名を見つけて、使用される証明書を構成します。</p>
<p>また、<strong>[コントロール パネル]</strong> > <strong>[セキュリティ]</strong> > <strong>[詳細設定]</strong> を選択し、<strong>[カスタム設定]</strong> をクリックします。 次に<strong>Application_Name - HTTPS_PORT</strong>のフォーマットのサービス名を見つけて、使用される TLS/SSL プロファイル レベルを構成します。</p>
<p>例えば、File Station のドメインが 7001 の場合、上記の2つの設定ページに進み、FileStation - 7001 の名前の下にあるサービスを見つけて追加の構成をしてください。</p>

<h2><a name="session"></a>メインのカスタマイズ</h2>

<p>File Station など、Synology が開発したアプリケーションとドメイン名を合わせることができます。 カスタム ドメインがあると、特別な URL からアプリケーションを開くことができます。</p>

<h4>アプリケーションのドメインをカスタマイズする：</h4>
<ol>
<li><strong>[コントロール パネル]</strong> &gt; <strong>[アプリケーション ポータル]</strong> &gt; <strong>[アプリケーション]</strong>の順に進みます。</li>
<li>アプリケーションを選択します。</li>
<li><b>[編集]</b> > <strong>[全般]</strong> をクリックします。</li>
<li>ポップアップ ウィンドウで <b>[カスタマイズしたドメインを有効にする]</b> を選択します。</li>
<li>カスタム ドメインを指定します。</li>
<li>追加設定については、必要に応じて <strong>[HSTS を有効にする]</strong> または <strong>[HTTP/2 を有効にする]</strong> を選択してください。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
<li>この機能を設定する前に、インターネットからサービスにアクセスできるように、ドメイン プロバイダーからドメイン名を適用する必要があります。</li>
<li>各ドメイン名は、Synology NAS で単独のアプリケーションにしか使用できません。</li>
<li>ドメイン名が 15 文字以下になり、<a href="https://support.microsoft.com/kb/909264" target="_blank">NetBIOS naming conventions</a> に準拠しているとき、システムがドメイン名を自動的に登録し、ブロードキャストします。</li>
<li>ドメイン名を使う URL を介してアプリケーションにアクセスするとき、標準 HTTP ポート (80) または標準 HTTPS ポート (443) を介します。</li>
<li>Let's Encrypt が発行する証明書でアクセス コントロールを有効化できる場合、それが証明書の自動更新の不具合につながることがあります。 これが生じた場合、アクセス コントロールをまず無効化してください。 次に、<b>[コントロール パネル]</b> &gt; <b>[セキュリティ]</b> &gt; <b>[証明書]</b>の順に進んで、更新したい Let's Encrypt 証明書のうちの1つを右クリックし、<b>[証明書を更新]</b>を選択してください。 証明書の更新後、アクセス コントロールを再度有効化できます。  </li>
</ul>

</div>


<h4>ドメインからアプリケーションにアクセスする：</h4>
<p>アプリケーション (File Station) にドメイン (file.example.com) を設定すると、次のフォーマットで URL を入力することでアプリケーションをすばやく開くことができます： <code>http://APP_DOMAIN</code> または <code>https://APP_DOMAIN</code></p>

<p>たとえば、次の URL で File Station にアクセスできます： <code>http://file.example.com</code> または <code>https://file.example.com</code></p>

<p>アプリケーション（例：File Station）のドメイン名（例：FileFile）が NetBIOS naming conventions に準拠する場合、Windows ユーザーの方は類似した URL で同一ローカル ネットワーク内にある Synology NAS 上のそれにアクセスすることができます： <code>http://FileFile</code> または <code>https://FileFile</code></p>

<h4>ドメインに関する証明書および TLS/SSL プロファイル レベルを構成する方法：</h4>
<p>アプリケーション (例えば、File Station) のドメインを構成後、<strong>[コントロール パネル]</strong> > <strong>[セキュリティ]</strong> > <strong>[証明書]</strong>の順に進んで、<strong>[構成]</strong>をクリックします。 次に<strong>Application_Name - Domain</strong>のフォーマットのサービス名を見つけて、使用される証明書を構成します。</p>
<p>また、<strong>[コントロール パネル]</strong> > <strong>[セキュリティ]</strong> > <strong>[詳細設定]</strong> を選択し、<strong>[カスタム設定]</strong> をクリックします。 次に<strong>Application_Name - Domain</strong>のフォーマットのサービス名を見つけて、使用される TLS/SSL プロファイル レベルを構成します。</p>
<p>例えば、File Station のドメインが file.example.com の場合、上記の2つの設定ページに進み、FileStation - file.example.com の名前の下にあるサービスを見つけて追加の構成をしてください。</p>

<h4>アクセス コントロールのプロファイルを指定する方法：</h4>
<p>アクセス コントロールのプロファイルをアプリケーション (例えば、File Station) にセットアップした後では、拒否されたユーザーはこの記事で言及された特定の URL を入力してもアプリケーションを開くことはできません。.</p>
<ol>
<li><strong>[コントロール パネル]</strong> &gt; <strong>[アプリケーション ポータル]</strong> &gt; <strong>[アプリケーション]</strong>の順に進みます。</li>
<li>アプリケーションを選択します。</li>
<li><b>[編集]</b> &gt; <strong>[全般]</strong>の順に進みます。</li>
<li>ポップアップ ウィンドウで<strong>[アクセス コントロールを有効化]</strong>をクリックしてアクセス コントロールのプロファイルを選択します。 アクセス コントロールのプロファイルを作成する方法の詳細は下記の<a href="#acl">アクセス コントロールのプロファイルのカスタマイズ</a>を参照してください。</li>
<li><strong>[OK]</strong>をクリックして、設定を保存します。</li>
</ol>


<h2>リバース プロキシ規則のカスタマイズ</h2>
<p>Synology NAS は、インターネットからローカル ネットワークのデバイスにリクエストを転送するリバース プロキシ サーバーとして機能させることができます。 リバース プロキシ規則を設定すると、次の 2 つのシナリオのように、可能性のある脅威から感度の高いポートを隠すことができます：</p>

<p>シナリオ 1： 感度の高いポートが 80 で、ファイアウォール規則に基づいて外部アクセスを許可すべきではないと仮定します。 リバース プロキシ規則を設定し、信頼できるユーザーが別のオープンポート（81 など）を使ってインターネットから感度の高いポート 80 にアクセスできるように許可することができます。 このようにすると、信頼できるユーザーはファイアウォールを迂回し、ポート 80 にアクセスすることが可能になります。</p>

<p>シナリオ 2： 感度の高いポートが 80 で、特定のデバイス（「MyTrustee」という名前のサーバーなど）以外からの外部アクセスを許可すべきではないと仮定します。 リバース プロキシ規則を設定すると、MyTrustee からのトラフィックのみポート 80 にアクセスでき、他のデバイスからのトラフィックはアクセスさせないようにすることができます。</p>

<h4>リバース プロキシの規則を設定する：</h4>

<ol>
<li><strong>[コントロール パネル]</strong> &gt; <strong>[アプリケーション ポータル]</strong> &gt; <strong>[リバース プロキシ]</strong>の順に進みます。</li>
<li><strong>[作成]</strong> をクリックし、<b>[全般]</b>ページで次の設定を指定します。
<ul>
<li><strong>説明</strong>： 規則機能を識別するのに役立つ名前を指定します。</li>
<li><strong>[ソース]</strong> (インターネットからリクエストを送信するデバイス) および <strong>[ディスティネーション]</strong> (ローカルネットワークのデバイス) に規則を指定します：
<ul>
<li><strong>プロトコル</strong>： ソース/ディスティネーションが使用する <strong>HTTP</strong> プロトコルまたは <strong>HTTPS</strong> プロトコル。</li>

<li><strong>ホスト名</strong>： ソース/ディスティネーション デバイスの名前</li>
<li><strong>ポート</strong>: ソース/ディスティネーション デバイスが使用するポート</li>
<li><strong>[HSTS を有効にする]</strong> と <strong>[HTTP/2 を有効にする]</strong> (ソースのみ)</li>
</ul>
</li>
</ul>
</li>
<li>アクセス コントロールのプロファイルを指定するには、<strong>[アクセス コントロールを有効化]</strong> をクリックしてアクセス コントロールのプロファイルを選択します。 アクセス コントロールのプロファイルを作成する方法の詳細は下記の<a href="#acl">アクセス コントロールのプロファイルのカスタマイズ</a>を参照してください。</li></li>
    
<div class="section">
    <h4>注：</h4>
    <ul>
      <li><strong>[作成]</strong>のドロップダウン メニューから<strong>[WebSocket]</strong>をクリックし、WebSocket 機能のヘッダーを高速作成して、リバース プロキシに WebSocket をサポートさせます。</li>
    </ul>
</div>
  

<li>リバース プロキシの他の動作を調整するには、<b>[詳細設定]</b>ページに進んでください。
    <ul>
    <li><b>プロキシ接続タイムアウト (秒)</b>: ターゲット サーバーにプロキシ接続の時間制限を設定します。</li>
    <li><b>プロキシ送信タイムアウト (秒)</b>： ターゲット サーバーにリクエストが送信されるプロキシの時間制限を設定します。</li>    
    <li><b>プロキシ読み取りタイムアウト (秒)</b>： ターゲット サーバーの応答を待つためのプロキシの時間制限を設定します。</li>  
    <li><b>プロキシ HTTP バージョン</b>： プロキシ サーバーとターゲット サーバー間で通信するために使用せれる HTTP バージョンを選択します。</li>        
    <li><b>ターゲット サーバーから送り返されたエラー ページを使用</b>： ターゲット サーバーがエラー HTTP コードを送り返した場合、このオプションにチェックを入れた後でターゲット サーバーのウェブ エラー ページが表示されます。 そうでない場合、Synology NAS エラー ページが表示されます。</li>
    </ul>
       
    
<li><strong>[OK]</strong>をクリックして、設定を保存します。</li>
</ol>


<h2><a name="acl"></a>アクセス コントロールのプロファイルのカスタマイズ</h2>

<p>ユーザーのソース IP に従って、アプリケーション ポータルやリバース プロキシへのユーザー アクセスを制限したい場合は、アクセス コントロールのプロファイルを作成してください。 拒否されたユーザーにはアクセスが拒否されたページが表示されます。</p>

<h4>アクセス コントロールのプロファイルを作成する方法：</h4>
<ol>
 <li><strong>[コントロール パネル]</strong> &gt; <strong>[アプリケーション ポータル]</strong> &gt; <strong>[アクセス コントロールのプロファイル]</strong>の順に進みます。</li>
 <li><strong>[作成]</strong>をクリックします。 ポップアップ ウィンドウでこの新しいプロファイルの規則をカスタマイズできます。</li>
 <li><strong>[作成]</strong> をクリックして、新しい規則を作成します。 規則は上位から下位への優先順位で適用され、アクセス権限を決定します。</li>
 <li>編集する規則をダブルクリックします。 規則を削除するには、削除する規則を選択して<strong>[削除]</strong>をクリックします。</li>
 <li><strong>[OK]</strong>をクリックして規則のリストを新しいプロファイルとして保存します。</li>
 <li>プロファイルの名前のフィールドをクリックして名前を変更します。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
	<li>ソースのホスト名を空白にすると、規則はすべてのソースに適用されます。</li>
	<li>Let's Encrypt が発行する証明書でアクセス コントロールを有効化できる場合、それが証明書の自動更新の不具合につながることがあります。 これが生じた場合、アクセス コントロールをまず無効化してください。 次に、<b>[コントロール パネル]</b> &gt; <b>[セキュリティ]</b> &gt; <b>[証明書]</b>の順に進んで、更新したい Let's Encrypt 証明書のうちの1つを右クリックし、<b>[証明書を更新]</b>を選択してください。 証明書の更新後、アクセス コントロールを再度有効化できます。  </li>
	<li>ホワイトリストの適用を希望する場合、許可されたソースに関する規則を作成する他に拒否されたソースに関する規則をセットアップして、規則を有効化する必要があります。 <br/>例えば、<code>http://192.168.xx.xx</code>のみが許可されている場合、以下を行う必要があります。 
	<ol>
	<li>許可されたソースとして<code>http://192.168.xx.xx</code>を追加します。</li>
	<li>新しい規則を追加し、それを「拒否」として設定します。</li>
	</ol>
	
</ul>
</div>

</body> </html>
