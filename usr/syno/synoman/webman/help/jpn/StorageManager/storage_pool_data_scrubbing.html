 <!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


<title>Data Scrubbing</title>
<meta name="author" content="Synology Inc.">
<meta name="description" content="Data scrubbing is a data maintenance feature that inspects volumes or disk groups and repairs any detected data inconsistencies.">


<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h2>Data Scrubbing</h2>

<h3>データ スクラブを実行する</h3>
<p>データ スクラブとは、ストレージ プールを検査するデータ維持機能です。以下の2つのタイプのデータ スクラブが連続的に実行されます。:</p>

<ul>
<li><B>ファイル システム スクラブ：</B>この機能は Btrfs ファイル システムのボリュームをチェックします。チェックサムでデータ不一致が検出されると、システムはバックアップを使用してデータを修復しようとします。そしてファイル パスはログ センターに記録されます。</li>
<li><B>RAID スクラブ：</B>この機能は、SHR（3 台以上のディスクで構成）、RAID 5、RAID 6 が導入されたストレージ プールで使用できます。検出されたデータの不整合は復元できます。</li>
</ul>

<p>データの整合性を保持し、ドライブの不具合により重要なデータが消失するのを防止するためにも、定期的にデータ スクラブを行ってください。</p>

<div class="section">
<h4>注：</h4>
	<ul>
	<li>データ スクラブおよびこの記事で説明された関連の機能は、特定のモデルでのみ利用可能です。</li>
	<li>データ スクラブは、ストレージ プールのステータスが<strong>クラッシュ</strong>または<b>劣化</b>の場合には実行できません。</li>
	<li><B>data checksum for advanced data integrity</B> が共有フォルダに対して有効化されていない場合、チェックサムがないため、ファイル システムのスクラブはフォルダにあるデータをチェックして修復することはできません。</li>
	</ul>
</div>

<h3>データ スクラブのスケジュールの設定</h3>
<p>データ スクラブのスケジュールの設定ができます。システムは設定に従ってデータ スクラブを実行します。</p>
<h4>データ スクラブのスケジュールの設定方法：</h4>
<ol>
<li><B>[ストレージ マネージャ]</B> を開きます。</li>
<li><B>[ストレージ プール]</B> > <strong>[Data Scrubbing]</strong> に進みます。</li>
<li>[<strong>スケジュールの設定</strong>] をクリックします。</li>
<li><B>[データ スクラブのスケジュールを有効化]</B> にチェックを入れます。</li>
	<li>[頻度]、<strong>[開始日]</strong>、および <strong>[タイム セッション] </strong>を指定します。</li>
<li>[<strong>ターゲット選択</strong>] タブに行きます。	
<li>データ スクラブを実行したいストレージ プールを選択します。</li>
<li><B>[OK] </B>をクリックします。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
<li>スケジュールに加えられるストレージ プールは <b>[正常]</b>な状態にあって、データ スクラブをサポートするものでなければなりません。</li>	
<li>システムがバージョン6.1からアップグレードされている場合、データ スクラブを実行できる能力のあるストレージ プールはデフォルトでスケジュールに追加されます。</li>
<li>スケジュールをバージョン6.1で設定した場合、スケジュールは以前の設定に従って自動的に有効化されます。</li>	
</ul></div>

<h4>ストレージ プールをスケジュールに追加する、あるいはストレージ プールをスケジュールから削除する方法：</h4>

<ol>
<li>[<strong>スケジュールの設定</strong>] をクリック</li>
<li>[<strong>ターゲット選択</strong>] タブに行きます。</li>	
<li>ストレージ プールのチェックボックスにチェックを入れる、またはチェックを外して、それをスケジュールに追加するか、あるいはスケジュールから削除するかを決定します。</li>
<li><B>[OK] </B>をクリックします。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
<li>ストレージ プールでデータ スクラブが手動で実行中は、そのストレージ プールをスケジュールに追加または削除できません。</li>
<li>スケジュールされたデータ スクラブを行っているストレージ プールを実行しているストレージ プールを削除すると、このストレージ プールの進行がキャンセルされます。</li>
</ul></div>

<h4>スケジュール設定の修正方法：</h4>

<ol>
<li>[<strong>スケジュールの設定</strong>] をクリック。</li>
<li>必要に応じて、[頻度]、[開始日]、[タイム セッション]を指定します。</li>
<li><B>[OK] </B>をクリックします。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
  <li>[<strong>開始日</strong>] を修正すると、スケジュールの進行がリセットされ、データ スクラブが新しい開始日に従って再度開始されます。</li>
</ul>
</div>	

<h4>スケジュールを一時停止する方法：</h4>

<ol>
<li>データ スクラブのスケジュールが実行されているストレージ プールを選択します。</li>
<li><B>[操作]</B> のドロップダウン リストから<strong>[スケジュールを一時停止] </strong>をクリックします。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
<li>データ スクラブのスケジュールを再開するには、<b>[操作]</b>のドロップダウン メニューから<strong>[スケジュールを再開]</strong>をクリックする必要があります。そうしないと、スケジュールが一時停止したままになります。</li>	
</ul></div>
	
<h3>データ スクラブを手動で実行：</h3>

<p>システムがストレージ スペースの異常を検出した場合、データ スクラブを手動で実行することでデータの修復を試みることができます。</p>	
	
<h4>データ スクラブを手動で実行する方法：</h4>

<ol>
	<li><B>[ストレージ マネージャ]</B> を開きます。</li>
	<li><B>[ストレージ プール]</B> > <strong>[Data Scrubbing]</strong> に進みます。</li>
	<li>データ スクラブを実行したいストレージ プールを選択します。</li>
	<li><B>[操作]</B> のドロップダウン メニューから<strong> [手動で実行]</strong> をクリックします。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>

<li>データ スクラブが完了する前にシステムがシャットダウンすると、一部の進行が失われ、手動でデータ スクラブを再開する必要が生じます。</li>
<li>手動で実行されるデータ スクラブの時間がスケジュール済みのデータ スクラブとオーバーラップすると、このラウンドのスケジュールは、手動実行のデータ スクラブが終了するまで完了されません。 </li>
<li>データ スクラブを実行すると、システムのパフォーマンスに影響が出ることがあります。必要な場合以外は、複数のストレージ プールでデータ スクラブを実行しないようお勧めします。</li>	
</ul></div>	

<h4>手動実行のデータ スクラブがされているストレージ プールのスケジュールを一時停止する方法：</h4>	
<ol>
<li>一時停止したいストレージ プールを選択します。</li>
<li><B>[操作]</B> ドロップダウンメニューから<b> [一時停止] </b>をクリックします。</li>	
	</ol>	
</body>
</html>
