<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<title>Shared Folder</title>


<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h2>Manage Keys of Encrypted Shared Folders</h2>
<p>You can use Key Manager to manage keys of shared folders and decrypt multiple encrypted shared folders at the same time.</p>

<div class="section"><h4>Term explanation:</h4>
<ul>
<li><strong>Key store</strong>: A key store is any external device or system partition supported by Synology NAS and is used as a physical key to decrypt shared folders.</li>
<li><strong>Cypher</strong>: A cypher is a method of encrypting keys of shared folders. Key Manager provides two types of cyphers:
	<ul>
	<li><strong>Passphrase</strong>: Keys encrypted by a passphrase can be decrypted by whoever knows the passphrase.</li>
	<li><strong>Machine key</strong>: Keys encrypted by a machine key can only be decrypted by the binded Synology NAS.</li>
	</ul>
</li>
</ul>
</div>

<h4>To initialize a key store:</h4>
<ol>
<li>Go to <strong>Control Panel</strong> > <strong>Shared Folder</strong> > <strong>Action</strong> > <strong>Key Manager</strong>.</li>
<li>Select an external device or system partition as the key store from <strong>Key Store Location</strong>.</li>
<li>Enter a passphrase into the <strong>Passphrase</strong> field for this key store.</li>
</ol>

<div class="section">
	<h4>Security Suggestions:</h4>
	<ul><li>For safety and management purpose, it is safer to store the encrypted file and the corresponding key in different devices. <li>We recommend that you select an external device as <strong>Key Store Location</strong> to enhance your data security.</li></li></ul>
</div>

<h4>To add a new key to a key store:</h4>
<ol>
<li>Make sure you that you have initialized a key store.</li>
<li>Go to <strong>Control Panel</strong> > <strong>Shared Folder</strong> > <strong>Action</strong> > <strong>Key Manager</strong>.</li>
<li>Click <strong>Add</strong>.</li>
<li>Select an encrypted shared folder.</li>
<li>Select the cypher for the encryption key. You can select either <strong>Passphrase</strong> or <strong>Machine key</strong>.</li>
<li>Enter or import the encryption key.</li>
<li>Click <strong>OK</strong> to save the settings.</li>
</ol>

<h4>To decrypt multiple encrypted shared folders manually:</h4>
<ol>
<li>Make sure that you have added keys to the key store.</li>
<li>Go to <strong>Control Panel</strong> > <strong>Shared Folder</strong> > <strong>Action</strong> > <strong>Key Manager</strong>.</li>
<li>Select the encrypted shared folders you want to decrypt.</li>
<li>Click <strong>Mount</strong>.</li>
</ol>

<h4>To decrypt multiple encrypted shared folders on boot automatically:</h4>
<ol>
<li>Make sure that you have added keys to the key store.</li>
<li>Go to <strong>Control Panel</strong> > <strong>Shared Folder</strong> > <strong>Action</strong> > <strong>Key Manager</strong>.</li>
<li>Tick <strong>Mount on Boot</strong> for the encrypted shared folders you want to decrypt on boot.</li>
<li>Click <strong>OK</strong> to save the settings.</li>
</ol>

<h4>To eject a key store after boot:</h4>
<ol>
<li>Go to <strong>Control Panel</strong> > <strong>Shared Folder</strong> > <strong>Action</strong> > <strong>Key Manager</strong>.</li>
<li>Click <strong>Configure</strong>.</li>
<li>Tick <strong>Eject device after boot</strong>.</li>
<li>Click <strong>OK</strong> to save the settings.</li>
</ol>

<h4>To migrate existing encryption keys to a key store for shared folders mounted automatically:</h4>

<p><strong>Migrate keys during key store initialization:</strong></p>
<ol>
<li>When initializing a key store, tick <strong>Migrate encryption keys to this key store for all existing shared folders mounted automatically (recommended)</strong>.</li>
</ol>

<p><strong>Migrate keys manually:</strong></p>
<ol>
<li>Go to <strong>Control Panel</strong> > <strong>Shared Folder</strong> > <strong>Action</strong> > <strong>Key Manager</strong>.</li>
<li>Click <strong>Configure</strong>.</li>
<li>Click <strong>Migrate now</strong>.</li>
<li>In case of duplicate keys, you can choose <strong>Overwrite duplicate keys</strong>.</li>
<li>Click <strong>OK</strong> to save the settings.</li>
</ol>


<h4>To clone a key store in High Availability mode:</h4>
<ol>
	<li>Go to <strong>Control Panel</strong> > <strong>Shared Folder</strong> > <strong>Action</strong> > <strong>Key Manager</strong>.</li>
	<li>Click <strong>Clone</strong>.</li>
	<li>Select a source key store on the active Server from <strong>Source Key Store</strong>.</li>
	<li>Select a destination key store on the passive Server from <strong>Destination Key Store</strong>.</li>
	<li>Click <strong>Apply</strong> to save the settings.</li>
</ol>

</body>
</html>