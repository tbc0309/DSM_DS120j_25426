<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" charset="utf-8">
<title>应用程序门户</title>

<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h1>应用程序门户</h1>
<p>应用程序门户可让您配置各种应用程序的连接设置，使您可以在独立浏览器选项卡或窗口中直接访问和运行这些应用程序（如 File Station）。</p>


<div class="section">
<h4>注：</h4>
<ul>
	<li>您可为应用程序（如 Audio Station、Download Station、Surveillance Station、Video Station、File Station）编辑访问设置。</li>
</ul>
</div>


<h2><a name="session"></a>自定义别名</h2>

<p>您可为每个 Synology 开发的应用程序（如 File Station）指定别名。通过自定义别名，您可通过特定的 URL 快速打开该应用程序。</p>

<h4>若要自定义应用程序别名：</h4>
<ol>
<li>请进入<strong>控制面板</strong> &gt; <strong>应用程序门户</strong> &gt; <strong>应用程序</strong>。</li>
<li>请选择一个应用程序。</li>
<li>单击<b>编辑</b> &gt; <strong>常规</strong>。</li>
<li>在弹出窗口中，选择<b>启用自定义别名</b>并指定别名。</li>
<li>单击<strong>确定</strong>以保存设置。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
<li>部分应用程序有默认别名：Audio Station (<strong>audio</strong>)、Download Station (<strong>download</strong>)、File Station (<strong>file</strong>)、Surveillance Station (<strong>cam</strong>) 和 Video Station (<strong>video</strong>)。</li>
<li>别名不能与保留供系统和浏览器使用的名称或其他应用程序使用的名称相同，且其字符数必须介于 2 到 20 个字符之间。</li>
<li>别名只能由字母、数字字符和两个特殊字符 (-) 和 (_) 混合构成。</li>
<li>别名不可以特殊字符 (-) 或 (_) 开头和结尾。</li>
</ul>
</div>

<h4>若要通过别名访问应用程序：</h4>
<p>为应用程序（如 File Station）设置别名后，您可输入以下格式的 URL 快速打开应用程序：<code>http://DS_IP_OR_SERVER_NAME/ALIAS/</code> 或 <code>https://DS_IP_OR_SERVER_NAME/ALIAS/</code></p>

<p>例如，您可通过 URL 快速访问 File Station：<code>http://192.168.xx.xx/file/</code> 或 <code>https://MySynologyNAS/file/</code></p>


<h2><a name="session"></a>自定义 HTTP/HTTPS 端口</h2>

<p>您可为 Synology 开发的每个应用程序（如 File Station）指定 HTTP/HTTPS 端口。通过自定义端口，您可通过特定的 URL 快速打开该应用程序。</p>


<h4>若要自定义应用程序 HTTP/HTTPS 端口：</h4>
<ol>
<li>请进入<strong>控制面板</strong> &gt; <strong>应用程序门户</strong> &gt; <strong>应用程序</strong>。</li>
<li>请选择一个应用程序。</li>
<li>单击<b>编辑</b> &gt; <strong>常规</strong>。</li>
<li>在弹出窗口中，选择<b>启用自定义端口 (HTTP)</b> 或<b>启用自定义端口 (HTTPS)</b>。</li>
<li>指定自定义端口号。</li></ol>
<div class="section">
  <h4>注：</h4>
  <ul>
  <li>端口号范围可以是 1 和 65535 之间。</li>
  <li>以下端口保留供系统使用，不能使用：<ul>
  <li>20、21、22、23、25、80、110、137、138、139、143、199、443、445、515、543、548、587、873、993、995、3306、3689、5000、5001、5005、5006、5335、5432、6881、8080、7000、7001、8081、9997、9998、9999、50001、50002</li>
  <li>eMule 默认端口：4662 (TCP)、4672(UDP)</li>
  <li>FTP 默认端口范围：实际范围视不同的型号而定。</li>
  
  </ul>
  </li>
  </ul>
</div>


<h4>若要通过 HTTP/HTTPS 端口访问应用程序：</h4>

<p>在为应用程序（如 File Station）设置 HTTP/HTTPS 端口后，您可输入以下格式的 URL 快速打开应用程序：<code>http://DS_IP_OR_SERVER_NAME:HTTP_PORT</code> 或 <code>https://DS_IP_OR_SERVER_NAME:HTTPS_PORT</code></p>

<p>例如，您可通过 URL 快速访问 File Station：<code>http://192.168.xx.xx:7000</code> 或 <code>https://MySynologyNAS:7001</code></p>

<h4>若要为 HTTPS 端口配置证书和 TLS/SSL 配置文件等级：</h4>
<p>在为应用程序（如 File Station）设置 HTTPS 端口后，您可以进入<strong>控制面板</strong> &gt; <strong>安全性</strong> &gt; <strong>证书</strong>，然后单击<strong>配置</strong>。然后找到名称格式为<strong>应用程序_名称 - HTTPS_端口</strong>的服务，以配置使用的证书。</p>
<p>还可以进入<strong>控制面板</strong> &gt; <strong>安全性</strong> &gt; <strong>高级</strong>，然后单击<strong>自定义设置</strong>。然后找到名称格式为<strong>应用程序_名称 - HTTPS_端口</strong>的服务，以配置使用的 TLS/SSL 配置文件等级。</p>
<p>例如，如果 File Station 的 HTTPS 端口是 7001，则可以进入上述两个设置页面，然后在 FileStation - 7001 名称下找到服务以进行进一步配置。</p>

<h2><a name="session"></a>自定义域</h2>

<p>您可将域名与 Synology 开发的应用程序（如 File Station）进行匹配。通过自定义域，您可通过特定的 URL 快速打开该应用程序。</p>

<h4>若要自定义应用程序域：</h4>
<ol>
<li>请进入<strong>控制面板</strong> &gt; <strong>应用程序门户</strong> &gt; <strong>应用程序</strong>。</li>
<li>请选择一个应用程序。</li>
<li>单击<b>编辑</b> &gt; <strong>常规</strong>。</li>
<li>在弹出窗口中，选择<b>启用自定义域</b>。</li>
<li>指定自定义域。</li>
<li>要进行其他设置，您可选择<strong>启用 HSTS</strong> 或<strong>启用 HTTP/2</strong> 以满足您的需要。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
<li>设置此功能之前，您需向域供应商申请域名，以便用户可从 Internet 访问该服务。</li>
<li>每个域名仅可用于 Synology NAS 中不同的应用程序。</li>
<li>如果域名长度未超过 15 个字符并且符合 <a href="https://support.microsoft.com/kb/909264" target="_blank">NetBIOS 命名规则</a>，系统将自动注册和播送域名。</li>
<li>当通过使用域名的 URL 访问应用程序时，您会通过标准的 HTTP 端口 (80) 或标准的 HTTPS 端口 (443)。</li>
<li>如果您使用 Let&apos;s Encrypt 颁发的证书启用访问控制，则可能会导致证书自动续订失败。如果发生这种情况，请先禁用访问控制。然后进入<b>控制面板</b> &gt; <b>安全性</b> &gt; <b>证书</b>，右键单击要续订的一个 Let&apos;s Encrypt 证书，然后选择<b>续订证书</b>。续订证书之后，可以重新启用访问控制。</li>
</ul>

</div>


<h4>若要通过域访问应用程序：</h4>
<p>在为应用程序（如 File Station）设置域（如 file.example.com）后，您可输入以下格式的 URL 快速打开应用程序：<code>http://APP_DOMAIN</code> 或 <code>https://APP_DOMAIN</code></p>

<p>例如，您可通过 URL 快速访问 File Station：<code>http://file.example.com</code> 或 <code>https://file.example.com</code></p>

<p>如果应用程序（如 File Station）的域名（如 FileFile）符合 NetBIOS 命名规则，Windows 用户可使用下列类似 URL 访问同一本地网络中的 Synology NAS 上的应用程序：<code>http://FileFile</code> 或 <code>https://FileFile</code></p>

<h4>若要为域配置证书和 TLS/SSL 配置文件等级：</h4>
<p>在为应用程序（如 File Station）设置域后，您可以进入<strong>控制面板</strong> &gt; <strong>安全性</strong> &gt; <strong>证书</strong>，然后单击<strong>配置</strong>。然后找到名称格式为<strong>应用程序_名称 - 域</strong>的服务，以配置使用的证书。</p>
<p>还可以进入<strong>控制面板</strong> &gt; <strong>安全性</strong> &gt; <strong>高级</strong>，然后单击<strong>自定义设置</strong>。然后找到名称格式为<strong>应用程序_名称 - 域</strong>的服务，以配置使用的 TLS/SSL 配置文件等级。</p>
<p>例如，如果 File Station 的域是 file.example.com，则可以进入上述两个设置页面，然后在 FileStation - file.example.com 名称下找到服务以进行进一步配置。</p>

<h4>若要指定访问控制配置文件：</h4>
<p>在为应用程序（如 File Station）设置访问控制配置文件后，被拒绝的用户无法通过输入本文中提到的指定 URL 来打开此应用程序。</p>
<ol>
<li>请进入<strong>控制面板</strong> &gt; <strong>应用程序门户</strong> &gt; <strong>应用程序</strong>。</li>
<li>请选择一个应用程序。</li>
<li>单击<b>编辑</b> &gt; <strong>常规</strong>。</li>
<li>在弹出窗口中，单击<strong>启用访问控制</strong>并选择访问控制配置文件。有关如何创建访问控制配置文件的更多信息，请参阅下面的<a href="#acl">自定义访问控制配置文件</a>。</li>
<li>单击<strong>确定</strong>以保存设置。</li>
</ol>


<h2>自定义反向代理服务器规则</h2>
<p>您的 Synology NAS 可用作反向代理服务器，将请求从 Internet 传输到本地网络中的设备。反向代理服务器规则可帮助您对潜在威胁隐藏敏感端口，如以下两种情况：</p>

<p>情况 1：假设敏感端口为 80，根据防火墙规则该端口不允许外部访问。您可设置反向代理服务器规则，让受信任的用户通过另一个开放端口（如 81）从 Internet 到达敏感端口 80。这样，受信任的用户可绕过防火墙，仍可访问端口 80。</p>

<p>情况 2：假设敏感端口为 80，除特定设备外（如名为&ldquo;MyTrustee&rdquo;的服务器），该端口不允许外部访问。通过反向代理服务器规则，您可仅让来自 MyTrustee 的流量到达端口 80，而来自其他设备的流量则不会到达此端口。</p>

<h4>若要设置反向代理服务器规则：</h4>

<ol>
<li>请进入<strong>控制面板</strong> &gt; <strong>应用程序门户</strong> &gt; <strong>反向代理服务器</strong>。</li>
<li>单击<strong>创建</strong>并在<b>常规</b>页面中指定以下设置：<ul>
<li><strong>描述</strong>：指定有助于您识别规则功能的名称。</li>
<li>为<strong>来源</strong>（从 Internet 发送请求的设备）和<strong>目的地</strong>（本地网络中的设备）指定规则：<ul>
<li><strong>协议</strong>：来源/目的地使用的 <strong>HTTP</strong> 或 <strong>HTTPS</strong> 协议</li>

<li><strong>主机名</strong>：来源/目的地设备的名称</li>
<li><strong>端口</strong>：来源/目的地设备使用的端口</li>
<li><strong>启用 HSTS</strong> 和<strong>启用 HTTP/2</strong>（仅适用于来源）</li>
</ul>
</li>
</ul>
</li>
<li>若要指定访问控制配置文件，请单击<strong>启用访问控制</strong>并选择访问控制配置文件。有关如何创建访问控制配置文件的更多信息，请参阅下面的<a href="#acl">自定义访问控制配置文件</a>。</li></li>
    
<div class="section">
    <h4>注：</h4>
    <ul>
      <li>在<strong>创建</strong>下拉菜单中单击 <strong>WebSocket</strong> 可快速创建 WebSocket 功能标头，以便让反向代理服务器可以支持 WebSocket。</li>
    </ul>
</div>
  

<li>若要调整反向代理服务器的其他行为，请进入<b>高级设置</b>页面。<ul>
    <li><b>代理服务器连接超时（秒）</b>：设置代理服务器连接到目标服务器的时间限制。</li>
    <li><b>代理服务器发送超时（秒）</b>：设置代理服务器发送请求到目标服务器的时间限制。</li>    
    <li><b>代理服务器读取超时（秒）</b>：设置代理服务器等待目标服务器响应的时间限制。</li>  
    <li><b>代理服务器 HTTP 版本</b>：选择代理服务器与目标服务器之间进行通信的 HTTP 版本。</li>        
    <li><b>使用目标服务器发回的错误页面</b>：勾选此选项后，当目标服务器发回错误 HTTP 代码时，会显示目标服务器的网络错误页面。否则，将会显示 Synology NAS 错误页面。</li>
    </ul>
       
    
<li>单击<strong>确定</strong>以保存设置。</li>
</ol>


<h2><a name="acl"></a>自定义访问控制配置文件</h2>

<p>如果您要根据用户的来源 IP 来限制用户对应用程序门户或反向代理服务器的访问，则可以创建访问控制配置文件。被拒绝的用户将看到拒绝访问页面。</p>

<h4>若要创建访问控制配置文件：</h4>
<ol>
 <li>请进入<strong>控制面板</strong> &gt; <strong>应用程序门户</strong> &gt; <strong>访问控制配置文件</strong>。</li>
 <li>单击<strong>创建</strong>。在弹出窗口中，您可在此新配置文件中自定义规则。</li>
 <li>单击<strong>创建</strong>可创建新规则。规则会按照从上到下的优先级顺序进行应用，从而确定访问权限。</li>
 <li>双击规则可进行编辑。若要删除规则，请选择规则并单击<strong>删除</strong>。</li>
 <li>单击<strong>确定</strong>将规则列表保存为新配置文件。</li>
 <li>单击配置文件的名称字段可进行重命名。</li>
</ol>

<div class="section">
<h4>注：</h4>
<ul>
	<li>如果您将源主机名留空，则规则会应用于任何来源。</li>
	<li>如果您使用 Let&apos;s Encrypt 颁发的证书启用访问控制，则可能会导致证书自动续订失败。如果发生这种情况，请先禁用访问控制。然后进入<b>控制面板</b> &gt; <b>安全性</b> &gt; <b>证书</b>，右键单击要续订的一个 Let&apos;s Encrypt 证书，然后选择<b>续订证书</b>。续订证书之后，可以重新启用访问控制。</li>
	<li>如果要应用白名单，则除了创建有关允许来源的规则之外，还需要设置有关被拒绝来源的规则以激活规则。<br/>例如，如果仅允许 <code>http://192.168.xx.xx</code>，则需要<ol>
	<li>添加 <code>http://192.168.xx.xx</code> 作为允许的来源。</li>
	<li>添加新规则并将其设置为&ldquo;拒绝&rdquo;。</li>
	</ol>
	
</ul>
</div>

</body> </html>
